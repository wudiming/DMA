function dm(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zd={exports:{}},Qo={},Wd={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.element"),fm=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),ju=Symbol.iterator;function Sm(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kd=Object.assign,qd={};function pn(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||Vd}pn.prototype.isReactComponent={};pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gd(){}Gd.prototype=pn.prototype;function vc(e,t,r){this.props=e,this.context=t,this.refs=qd,this.updater=r||Vd}var _c=vc.prototype=new Gd;_c.constructor=vc;Kd(_c,pn.prototype);_c.isPureReactComponent=!0;var Nu=Array.isArray,Yd=Object.prototype.hasOwnProperty,yc={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function Xd(e,t,r){var s,n={},i=null,c=null;if(t!=null)for(s in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(i=""+t.key),t)Yd.call(t,s)&&!Jd.hasOwnProperty(s)&&(n[s]=t[s]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),h=0;h<o;h++)l[h]=arguments[h+2];n.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)n[s]===void 0&&(n[s]=o[s]);return{$$typeof:_i,type:e,key:i,ref:c,props:n,_owner:yc.current}}function Cm(e,t){return{$$typeof:_i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i}function Em(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lu=/\/+/g;function Ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Em(""+e.key):t.toString(36)}function Zi(e,t,r,s,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(i){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case _i:case fm:c=!0}}if(c)return c=e,n=n(c),e=s===""?"."+Ea(c,0):s,Nu(n)?(r="",e!=null&&(r=e.replace(Lu,"$&/")+"/"),Zi(n,t,r,"",function(h){return h})):n!=null&&(xc(n)&&(n=Cm(n,r+(!n.key||c&&c.key===n.key?"":(""+n.key).replace(Lu,"$&/")+"/")+e)),t.push(n)),1;if(c=0,s=s===""?".":s+":",Nu(e))for(var o=0;o<e.length;o++){i=e[o];var l=s+Ea(i,o);c+=Zi(i,t,r,l,n)}else if(l=Sm(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=s+Ea(i,o++),c+=Zi(i,t,r,l,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Ti(e,t,r){if(e==null)return e;var s=[],n=0;return Zi(e,s,"","",function(i){return t.call(r,i,n++)}),s}function km(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},eo={transition:null},jm={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:eo,ReactCurrentOwner:yc};function Qd(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ti,forEach:function(e,t,r){Ti(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=pn;ve.Fragment=pm;ve.Profiler=mm;ve.PureComponent=vc;ve.StrictMode=gm;ve.Suspense=xm;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm;ve.act=Qd;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Kd({},e.props),n=e.key,i=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,c=yc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Yd.call(t,l)&&!Jd.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){o=Array(l);for(var h=0;h<l;h++)o[h]=arguments[h+2];s.children=o}return{$$typeof:_i,type:e.type,key:n,ref:i,props:s,_owner:c}};ve.createContext=function(e){return e={$$typeof:_m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vm,_context:e},e.Consumer=e};ve.createElement=Xd;ve.createFactory=function(e){var t=Xd.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:ym,render:e}};ve.isValidElement=xc;ve.lazy=function(e){return{$$typeof:wm,_payload:{_status:-1,_result:e},_init:km}};ve.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};ve.unstable_act=Qd;ve.useCallback=function(e,t){return dt.current.useCallback(e,t)};ve.useContext=function(e){return dt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return dt.current.useEffect(e,t)};ve.useId=function(){return dt.current.useId()};ve.useImperativeHandle=function(e,t,r){return dt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return dt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return dt.current.useReducer(e,t,r)};ve.useRef=function(e){return dt.current.useRef(e)};ve.useState=function(e){return dt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return dt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return dt.current.useTransition()};ve.version="18.3.1";Wd.exports=ve;var M=Wd.exports;const bc=Ud(M),Nm=dm({__proto__:null,default:bc},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=M,Rm=Symbol.for("react.element"),Am=Symbol.for("react.fragment"),Tm=Object.prototype.hasOwnProperty,Om=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pm={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,r){var s,n={},i=null,c=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)Tm.call(t,s)&&!Pm.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:Rm,type:e,key:i,ref:c,props:n,_owner:Om.current}}Qo.Fragment=Am;Qo.jsx=Zd;Qo.jsxs=Zd;zd.exports=Qo;var a=zd.exports,cl={},ef={exports:{}},Nt={},tf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,A){var T=j.length;j.push(A);e:for(;0<T;){var I=T-1>>>1,z=j[I];if(0<n(z,A))j[I]=A,j[T]=z,T=I;else break e}}function r(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var A=j[0],T=j.pop();if(T!==A){j[0]=T;e:for(var I=0,z=j.length,Y=z>>>1;I<Y;){var X=2*(I+1)-1,Z=j[X],ge=X+1,L=j[ge];if(0>n(Z,T))ge<z&&0>n(L,Z)?(j[I]=L,j[ge]=T,I=ge):(j[I]=Z,j[X]=T,I=X);else if(ge<z&&0>n(L,T))j[I]=L,j[ge]=T,I=ge;else break e}}return A}function n(j,A){var T=j.sortIndex-A.sortIndex;return T!==0?T:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,o=c.now();e.unstable_now=function(){return c.now()-o}}var l=[],h=[],m=1,f=null,v=3,x=!1,b=!1,_=!1,u=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var A=r(h);A!==null;){if(A.callback===null)s(h);else if(A.startTime<=j)s(h),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(h)}}function y(j){if(_=!1,g(j),!b)if(r(l)!==null)b=!0,F(S);else{var A=r(h);A!==null&&U(y,A.startTime-j)}}function S(j,A){b=!1,_&&(_=!1,p(w),w=-1),x=!0;var T=v;try{for(g(A),f=r(l);f!==null&&(!(f.expirationTime>A)||j&&!O());){var I=f.callback;if(typeof I=="function"){f.callback=null,v=f.priorityLevel;var z=I(f.expirationTime<=A);A=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(l)&&s(l),g(A)}else s(l);f=r(l)}if(f!==null)var Y=!0;else{var X=r(h);X!==null&&U(y,X.startTime-A),Y=!1}return Y}finally{f=null,v=T,x=!1}}var E=!1,k=null,w=-1,C=5,N=-1;function O(){return!(e.unstable_now()-N<C)}function R(){if(k!==null){var j=e.unstable_now();N=j;var A=!0;try{A=k(!0,j)}finally{A?P():(E=!1,k=null)}}else E=!1}var P;if(typeof d=="function")P=function(){d(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,B=D.port2;D.port1.onmessage=R,P=function(){B.postMessage(null)}}else P=function(){u(R,0)};function F(j){k=j,E||(E=!0,P())}function U(j,A){w=u(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,F(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var T=v;v=A;try{return j()}finally{v=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var T=v;v=j;try{return A()}finally{v=T}},e.unstable_scheduleCallback=function(j,A,T){var I=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?I+T:I):T=I,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,j={id:m++,callback:A,priorityLevel:j,startTime:T,expirationTime:z,sortIndex:-1},T>I?(j.sortIndex=T,t(h,j),r(l)===null&&j===r(h)&&(_?(p(w),w=-1):_=!0,U(y,T-I))):(j.sortIndex=z,t(l,j),b||x||(b=!0,F(S))),j},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(j){var A=v;return function(){var T=v;v=A;try{return j.apply(this,arguments)}finally{v=T}}}})(rf);tf.exports=rf;var Mm=tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=M,jt=Mm;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sf=new Set,qn={};function Cs(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(qn[e]=t,e=0;e<t.length;e++)sf.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,Bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ru={},Au={};function Dm(e){return ul.call(Au,e)?!0:ul.call(Ru,e)?!1:Bm.test(e)?Au[e]=!0:(Ru[e]=!0,!1)}function $m(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fm(e,t,r,s){if(t===null||typeof t>"u"||$m(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,r,s,n,i,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=c}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var wc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wc,Sc);Ze[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wc,Sc);Ze[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wc,Sc);Ze[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cc(e,t,r,s){var n=Ze.hasOwnProperty(t)?Ze[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fm(t,r,n,s)&&(r=null),s||n===null?Dm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var xr=Im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oi=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Ec=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),nf=Symbol.for("react.provider"),of=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),jc=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),Tu=Symbol.iterator;function wn(e){return e===null||typeof e!="object"?null:(e=Tu&&e[Tu]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,ka;function Tn(e){if(ka===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ka=t&&t[1]||""}return`
`+ka+e}var ja=!1;function Na(e,t){if(!e||ja)return"";ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var s=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){s=h}e.call(t.prototype)}else{try{throw Error()}catch(h){s=h}e()}}catch(h){if(h&&s&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),i=s.stack.split(`
`),c=n.length-1,o=i.length-1;1<=c&&0<=o&&n[c]!==i[o];)o--;for(;1<=c&&0<=o;c--,o--)if(n[c]!==i[o]){if(c!==1||o!==1)do if(c--,o--,0>o||n[c]!==i[o]){var l=`
`+n[c].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=c&&0<=o);break}}}finally{ja=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tn(e):""}function Hm(e){switch(e.tag){case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return e=Na(e.type,!1),e;case 11:return e=Na(e.type.render,!1),e;case 1:return e=Na(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Is:return"Portal";case hl:return"Profiler";case Ec:return"StrictMode";case dl:return"Suspense";case fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case of:return(e.displayName||"Context")+".Consumer";case nf:return(e._context.displayName||"Context")+".Provider";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jc:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function Um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===Ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e){var t=lf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){s=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(c){s=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=zm(e))}function cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=lf(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ou(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=$r(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uf(e,t){t=t.checked,t!=null&&Cc(e,"checked",t,!1)}function ml(e,t){uf(e,t);var r=$r(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,r):t.hasOwnProperty("defaultValue")&&vl(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vl(e,t,r){(t!=="number"||mo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var On=Array.isArray;function Js(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+$r(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(On(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$r(r)}}function hf(e,t){var r=$r(t.value),s=$r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Iu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function df(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?df(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mi,ff=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wm=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){Wm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});function pf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function gf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=pf(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var Vm=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(e,t){if(t){if(Vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=null;function Nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sl=null,Xs=null,Qs=null;function Bu(e){if(e=bi(e)){if(typeof Sl!="function")throw Error(G(280));var t=e.stateNode;t&&(t=sa(t),Sl(e.stateNode,e.type,t))}}function mf(e){Xs?Qs?Qs.push(e):Qs=[e]:Xs=e}function vf(){if(Xs){var e=Xs,t=Qs;if(Qs=Xs=null,Bu(e),t)for(e=0;e<t.length;e++)Bu(t[e])}}function _f(e,t){return e(t)}function yf(){}var La=!1;function xf(e,t,r){if(La)return e(t,r);La=!0;try{return _f(e,t,r)}finally{La=!1,(Xs!==null||Qs!==null)&&(yf(),vf())}}function Yn(e,t){var r=e.stateNode;if(r===null)return null;var s=sa(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Cl=!1;if(dr)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Cl=!1}function Km(e,t,r,s,n,i,c,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(m){this.onError(m)}}var Dn=!1,vo=null,_o=!1,El=null,qm={onError:function(e){Dn=!0,vo=e}};function Gm(e,t,r,s,n,i,c,o,l){Dn=!1,vo=null,Km.apply(qm,arguments)}function Ym(e,t,r,s,n,i,c,o,l){if(Gm.apply(this,arguments),Dn){if(Dn){var h=vo;Dn=!1,vo=null}else throw Error(G(198));_o||(_o=!0,El=h)}}function Es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Du(e){if(Es(e)!==e)throw Error(G(188))}function Jm(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Du(n),e;if(i===s)return Du(n),t;i=i.sibling}throw Error(G(188))}if(r.return!==s.return)r=n,s=i;else{for(var c=!1,o=n.child;o;){if(o===r){c=!0,r=n,s=i;break}if(o===s){c=!0,s=n,r=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===r){c=!0,r=i,s=n;break}if(o===s){c=!0,s=i,r=n;break}o=o.sibling}if(!c)throw Error(G(189))}}if(r.alternate!==s)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function wf(e){return e=Jm(e),e!==null?Sf(e):null}function Sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sf(e);if(t!==null)return t;e=e.sibling}return null}var Cf=jt.unstable_scheduleCallback,$u=jt.unstable_cancelCallback,Xm=jt.unstable_shouldYield,Qm=jt.unstable_requestPaint,Be=jt.unstable_now,Zm=jt.unstable_getCurrentPriorityLevel,Lc=jt.unstable_ImmediatePriority,Ef=jt.unstable_UserBlockingPriority,yo=jt.unstable_NormalPriority,ev=jt.unstable_LowPriority,kf=jt.unstable_IdlePriority,Zo=null,Qt=null;function tv(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:nv,rv=Math.log,sv=Math.LN2;function nv(e){return e>>>=0,e===0?32:31-(rv(e)/sv|0)|0}var Ii=64,Bi=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,i=e.pingedLanes,c=r&268435455;if(c!==0){var o=c&~n;o!==0?s=Pn(o):(i&=c,i!==0&&(s=Pn(i)))}else c=r&~n,c!==0?s=Pn(c):i!==0&&(s=Pn(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ht(t),n=1<<r,s|=e[r],t&=~n;return s}function iv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ov(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var c=31-Ht(i),o=1<<c,l=n[c];l===-1?(!(o&r)||o&s)&&(n[c]=iv(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jf(){var e=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),e}function Ra(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function av(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Ht(r),i=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~i}}function Rc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ht(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var ke=0;function Nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lf,Ac,Rf,Af,Tf,jl=!1,Di=[],Rr=null,Ar=null,Tr=null,Jn=new Map,Xn=new Map,Er=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(t.pointerId)}}function Cn(e,t,r,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=bi(t),t!==null&&Ac(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function cv(e,t,r,s,n){switch(t){case"focusin":return Rr=Cn(Rr,e,t,r,s,n),!0;case"dragenter":return Ar=Cn(Ar,e,t,r,s,n),!0;case"mouseover":return Tr=Cn(Tr,e,t,r,s,n),!0;case"pointerover":var i=n.pointerId;return Jn.set(i,Cn(Jn.get(i)||null,e,t,r,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Xn.set(i,Cn(Xn.get(i)||null,e,t,r,s,n)),!0}return!1}function Of(e){var t=as(e.target);if(t!==null){var r=Es(t);if(r!==null){if(t=r.tag,t===13){if(t=bf(r),t!==null){e.blockedOn=t,Tf(e.priority,function(){Rf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);wl=s,r.target.dispatchEvent(s),wl=null}else return t=bi(r),t!==null&&Ac(t),e.blockedOn=r,!1;t.shift()}return!0}function Hu(e,t,r){to(e)&&r.delete(t)}function uv(){jl=!1,Rr!==null&&to(Rr)&&(Rr=null),Ar!==null&&to(Ar)&&(Ar=null),Tr!==null&&to(Tr)&&(Tr=null),Jn.forEach(Hu),Xn.forEach(Hu)}function En(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,uv)))}function Qn(e){function t(n){return En(n,e)}if(0<Di.length){En(Di[0],e);for(var r=1;r<Di.length;r++){var s=Di[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Rr!==null&&En(Rr,e),Ar!==null&&En(Ar,e),Tr!==null&&En(Tr,e),Jn.forEach(t),Xn.forEach(t),r=0;r<Er.length;r++)s=Er[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)Of(r),r.blockedOn===null&&Er.shift()}var Zs=xr.ReactCurrentBatchConfig,bo=!0;function hv(e,t,r,s){var n=ke,i=Zs.transition;Zs.transition=null;try{ke=1,Tc(e,t,r,s)}finally{ke=n,Zs.transition=i}}function dv(e,t,r,s){var n=ke,i=Zs.transition;Zs.transition=null;try{ke=4,Tc(e,t,r,s)}finally{ke=n,Zs.transition=i}}function Tc(e,t,r,s){if(bo){var n=Nl(e,t,r,s);if(n===null)Fa(e,t,s,wo,r),Fu(e,s);else if(cv(n,e,t,r,s))s.stopPropagation();else if(Fu(e,s),t&4&&-1<lv.indexOf(e)){for(;n!==null;){var i=bi(n);if(i!==null&&Lf(i),i=Nl(e,t,r,s),i===null&&Fa(e,t,s,wo,r),i===n)break;n=i}n!==null&&s.stopPropagation()}else Fa(e,t,s,null,r)}}var wo=null;function Nl(e,t,r,s){if(wo=null,e=Nc(s),e=as(e),e!==null)if(t=Es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function Pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case Lc:return 1;case Ef:return 4;case yo:case ev:return 16;case kf:return 536870912;default:return 16}default:return 16}}var jr=null,Oc=null,ro=null;function Mf(){if(ro)return ro;var e,t=Oc,r=t.length,s,n="value"in jr?jr.value:jr.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var c=r-e;for(s=1;s<=c&&t[r-s]===n[i-s];s++);return ro=n.slice(e,1<s?1-s:void 0)}function so(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Uu(){return!1}function Lt(e){function t(r,s,n,i,c){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:Uu,this.isPropagationStopped=Uu,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=Lt(gn),xi=Pe({},gn,{view:0,detail:0}),fv=Lt(xi),Aa,Ta,kn,ea=Pe({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(Aa=e.screenX-kn.screenX,Ta=e.screenY-kn.screenY):Ta=Aa=0,kn=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),zu=Lt(ea),pv=Pe({},ea,{dataTransfer:0}),gv=Lt(pv),mv=Pe({},xi,{relatedTarget:0}),Oa=Lt(mv),vv=Pe({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),_v=Lt(vv),yv=Pe({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xv=Lt(yv),bv=Pe({},gn,{data:0}),Wu=Lt(bv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cv[e])?!!t[e]:!1}function Mc(){return Ev}var kv=Pe({},xi,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=so(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?so(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?so(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jv=Lt(kv),Nv=Pe({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=Lt(Nv),Lv=Pe({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),Rv=Lt(Lv),Av=Pe({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=Lt(Av),Ov=Pe({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=Lt(Ov),Mv=[9,13,27,32],Ic=dr&&"CompositionEvent"in window,$n=null;dr&&"documentMode"in document&&($n=document.documentMode);var Iv=dr&&"TextEvent"in window&&!$n,If=dr&&(!Ic||$n&&8<$n&&11>=$n),Ku=" ",qu=!1;function Bf(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function Bv(e,t){switch(e){case"compositionend":return Df(t);case"keypress":return t.which!==32?null:(qu=!0,Ku);case"textInput":return e=t.data,e===Ku&&qu?null:e;default:return null}}function Dv(e,t){if(Ds)return e==="compositionend"||!Ic&&Bf(e,t)?(e=Mf(),ro=Oc=jr=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return If&&t.locale!=="ko"?null:t.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$v[e.type]:t==="textarea"}function $f(e,t,r,s){mf(s),t=So(t,"onChange"),0<t.length&&(r=new Pc("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Fn=null,Zn=null;function Fv(e){Jf(e,0)}function ta(e){var t=Hs(e);if(cf(t))return e}function Hv(e,t){if(e==="change")return t}var Ff=!1;if(dr){var Pa;if(dr){var Ma="oninput"in document;if(!Ma){var Yu=document.createElement("div");Yu.setAttribute("oninput","return;"),Ma=typeof Yu.oninput=="function"}Pa=Ma}else Pa=!1;Ff=Pa&&(!document.documentMode||9<document.documentMode)}function Ju(){Fn&&(Fn.detachEvent("onpropertychange",Hf),Zn=Fn=null)}function Hf(e){if(e.propertyName==="value"&&ta(Zn)){var t=[];$f(t,Zn,e,Nc(e)),xf(Fv,t)}}function Uv(e,t,r){e==="focusin"?(Ju(),Fn=t,Zn=r,Fn.attachEvent("onpropertychange",Hf)):e==="focusout"&&Ju()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(Zn)}function Wv(e,t){if(e==="click")return ta(t)}function Vv(e,t){if(e==="input"||e==="change")return ta(t)}function Kv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Kv;function ei(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!ul.call(t,n)||!zt(e[n],t[n]))return!1}return!0}function Xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var r=Xu(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xu(r)}}function Uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zf(){for(var e=window,t=mo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mo(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qv(e){var t=zf(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uf(r.ownerDocument.documentElement,r)){if(s!==null&&Bc(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!e.extend&&i>s&&(n=s,s=i,i=n),n=Qu(r,i);var c=Qu(r,s);n&&c&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gv=dr&&"documentMode"in document&&11>=document.documentMode,$s=null,Ll=null,Hn=null,Rl=!1;function Zu(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rl||$s==null||$s!==mo(s)||(s=$s,"selectionStart"in s&&Bc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hn&&ei(Hn,s)||(Hn=s,s=So(Ll,"onSelect"),0<s.length&&(t=new Pc("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=$s)))}function Fi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fs={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},Ia={},Wf={};dr&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ra(e){if(Ia[e])return Ia[e];if(!Fs[e])return e;var t=Fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Wf)return Ia[e]=t[r];return e}var Vf=ra("animationend"),Kf=ra("animationiteration"),qf=ra("animationstart"),Gf=ra("transitionend"),Yf=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Yf.set(e,t),Cs(t,[e])}for(var Ba=0;Ba<eh.length;Ba++){var Da=eh[Ba],Yv=Da.toLowerCase(),Jv=Da[0].toUpperCase()+Da.slice(1);Ur(Yv,"on"+Jv)}Ur(Vf,"onAnimationEnd");Ur(Kf,"onAnimationIteration");Ur(qf,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Gf,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function th(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ym(s,t,void 0,e),e.currentTarget=null}function Jf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var c=s.length-1;0<=c;c--){var o=s[c],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==i&&n.isPropagationStopped())break e;th(n,o,h),i=l}else for(c=0;c<s.length;c++){if(o=s[c],l=o.instance,h=o.currentTarget,o=o.listener,l!==i&&n.isPropagationStopped())break e;th(n,o,h),i=l}}}if(_o)throw e=El,_o=!1,El=null,e}function Ne(e,t){var r=t[Ml];r===void 0&&(r=t[Ml]=new Set);var s=e+"__bubble";r.has(s)||(Xf(t,e,2,!1),r.add(s))}function $a(e,t,r){var s=0;t&&(s|=4),Xf(r,e,s,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Hi]){e[Hi]=!0,sf.forEach(function(r){r!=="selectionchange"&&(Xv.has(r)||$a(r,!1,e),$a(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,$a("selectionchange",!1,t))}}function Xf(e,t,r,s){switch(Pf(t)){case 1:var n=hv;break;case 4:n=dv;break;default:n=Tc}r=n.bind(null,t,r,e),n=void 0,!Cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Fa(e,t,r,s,n){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var c=s.tag;if(c===3||c===4){var o=s.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(c===4)for(c=s.return;c!==null;){var l=c.tag;if((l===3||l===4)&&(l=c.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;c=c.return}for(;o!==null;){if(c=as(o),c===null)return;if(l=c.tag,l===5||l===6){s=i=c;continue e}o=o.parentNode}}s=s.return}xf(function(){var h=i,m=Nc(r),f=[];e:{var v=Yf.get(e);if(v!==void 0){var x=Pc,b=e;switch(e){case"keypress":if(so(r)===0)break e;case"keydown":case"keyup":x=jv;break;case"focusin":b="focus",x=Oa;break;case"focusout":b="blur",x=Oa;break;case"beforeblur":case"afterblur":x=Oa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Rv;break;case Vf:case Kf:case qf:x=_v;break;case Gf:x=Tv;break;case"scroll":x=fv;break;case"wheel":x=Pv;break;case"copy":case"cut":case"paste":x=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Vu}var _=(t&4)!==0,u=!_&&e==="scroll",p=_?v!==null?v+"Capture":null:v;_=[];for(var d=h,g;d!==null;){g=d;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=Yn(d,p),y!=null&&_.push(ri(d,y,g)))),u)break;d=d.return}0<_.length&&(v=new x(v,b,null,r,m),f.push({event:v,listeners:_}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&r!==wl&&(b=r.relatedTarget||r.fromElement)&&(as(b)||b[fr]))break e;if((x||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=h,b=b?as(b):null,b!==null&&(u=Es(b),b!==u||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=h),x!==b)){if(_=zu,y="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Vu,y="onPointerLeave",p="onPointerEnter",d="pointer"),u=x==null?v:Hs(x),g=b==null?v:Hs(b),v=new _(y,d+"leave",x,r,m),v.target=u,v.relatedTarget=g,y=null,as(m)===h&&(_=new _(p,d+"enter",b,r,m),_.target=g,_.relatedTarget=u,y=_),u=y,x&&b)t:{for(_=x,p=b,d=0,g=_;g;g=As(g))d++;for(g=0,y=p;y;y=As(y))g++;for(;0<d-g;)_=As(_),d--;for(;0<g-d;)p=As(p),g--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=As(_),p=As(p)}_=null}else _=null;x!==null&&rh(f,v,x,_,!1),b!==null&&u!==null&&rh(f,u,b,_,!0)}}e:{if(v=h?Hs(h):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var S=Hv;else if(Gu(v))if(Ff)S=Vv;else{S=zv;var E=Uv}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(S=Wv);if(S&&(S=S(e,h))){$f(f,S,r,m);break e}E&&E(e,v,h),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&vl(v,"number",v.value)}switch(E=h?Hs(h):window,e){case"focusin":(Gu(E)||E.contentEditable==="true")&&($s=E,Ll=h,Hn=null);break;case"focusout":Hn=Ll=$s=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Zu(f,r,m);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":Zu(f,r,m)}var k;if(Ic)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ds?Bf(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(If&&r.locale!=="ko"&&(Ds||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ds&&(k=Mf()):(jr=m,Oc="value"in jr?jr.value:jr.textContent,Ds=!0)),E=So(h,w),0<E.length&&(w=new Wu(w,e,null,r,m),f.push({event:w,listeners:E}),k?w.data=k:(k=Df(r),k!==null&&(w.data=k)))),(k=Iv?Bv(e,r):Dv(e,r))&&(h=So(h,"onBeforeInput"),0<h.length&&(m=new Wu("onBeforeInput","beforeinput",null,r,m),f.push({event:m,listeners:h}),m.data=k))}Jf(f,t)})}function ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function So(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Yn(e,r),i!=null&&s.unshift(ri(e,i,n)),i=Yn(e,t),i!=null&&s.push(ri(e,i,n))),e=e.return}return s}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rh(e,t,r,s,n){for(var i=t._reactName,c=[];r!==null&&r!==s;){var o=r,l=o.alternate,h=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&h!==null&&(o=h,n?(l=Yn(r,i),l!=null&&c.unshift(ri(r,l,o))):n||(l=Yn(r,i),l!=null&&c.push(ri(r,l,o)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var Qv=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Zv,"")}function Ui(e,t,r){if(t=sh(t),sh(e)!==t&&r)throw Error(G(425))}function Co(){}var Al=null,Tl=null;function Ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(e){return nh.resolve(null).then(e).catch(r_)}:Pl;function r_(e){setTimeout(function(){throw e})}function Ha(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),Qn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);Qn(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+mn,si="__reactProps$"+mn,fr="__reactContainer$"+mn,Ml="__reactEvents$"+mn,s_="__reactListeners$"+mn,n_="__reactHandles$"+mn;function as(e){var t=e[Jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fr]||r[Jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ih(e);e!==null;){if(r=e[Jt])return r;e=ih(e)}return t}e=r,r=e.parentNode}return null}function bi(e){return e=e[Jt]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function sa(e){return e[si]||null}var Il=[],Us=-1;function zr(e){return{current:e}}function Le(e){0>Us||(e.current=Il[Us],Il[Us]=null,Us--)}function je(e,t){Us++,Il[Us]=e.current,e.current=t}var Fr={},it=zr(Fr),_t=zr(!1),_s=Fr;function sn(e,t){var r=e.type.contextTypes;if(!r)return Fr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function yt(e){return e=e.childContextTypes,e!=null}function Eo(){Le(_t),Le(it)}function oh(e,t,r){if(it.current!==Fr)throw Error(G(168));je(it,t),je(_t,r)}function Qf(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(G(108,Um(e)||"Unknown",n));return Pe({},r,s)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,_s=it.current,je(it,e),je(_t,_t.current),!0}function ah(e,t,r){var s=e.stateNode;if(!s)throw Error(G(169));r?(e=Qf(e,t,_s),s.__reactInternalMemoizedMergedChildContext=e,Le(_t),Le(it),je(it,e)):Le(_t),je(_t,r)}var ar=null,na=!1,Ua=!1;function Zf(e){ar===null?ar=[e]:ar.push(e)}function i_(e){na=!0,Zf(e)}function Wr(){if(!Ua&&ar!==null){Ua=!0;var e=0,t=ke;try{var r=ar;for(ke=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ar=null,na=!1}catch(n){throw ar!==null&&(ar=ar.slice(e+1)),Cf(Lc,Wr),n}finally{ke=t,Ua=!1}}return null}var zs=[],Ws=0,jo=null,No=0,Rt=[],At=0,ys=null,cr=1,ur="";function is(e,t){zs[Ws++]=No,zs[Ws++]=jo,jo=e,No=t}function ep(e,t,r){Rt[At++]=cr,Rt[At++]=ur,Rt[At++]=ys,ys=e;var s=cr;e=ur;var n=32-Ht(s)-1;s&=~(1<<n),r+=1;var i=32-Ht(t)+n;if(30<i){var c=n-n%5;i=(s&(1<<c)-1).toString(32),s>>=c,n-=c,cr=1<<32-Ht(t)+n|r<<n|s,ur=i+e}else cr=1<<i|r<<n|s,ur=e}function Dc(e){e.return!==null&&(is(e,1),ep(e,1,0))}function $c(e){for(;e===jo;)jo=zs[--Ws],zs[Ws]=null,No=zs[--Ws],zs[Ws]=null;for(;e===ys;)ys=Rt[--At],Rt[At]=null,ur=Rt[--At],Rt[At]=null,cr=Rt[--At],Rt[At]=null}var kt=null,Et=null,Ae=!1,Ft=null;function tp(e,t){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Et=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ys!==null?{id:cr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,Et=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(Ae){var t=Et;if(t){var r=t;if(!lh(e,t)){if(Bl(e))throw Error(G(418));t=Or(r.nextSibling);var s=kt;t&&lh(e,t)?tp(s,r):(e.flags=e.flags&-4097|2,Ae=!1,kt=e)}}else{if(Bl(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ae=!1,kt=e}}}function ch(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function zi(e){if(e!==kt)return!1;if(!Ae)return ch(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ol(e.type,e.memoizedProps)),t&&(t=Et)){if(Bl(e))throw rp(),Error(G(418));for(;t;)tp(e,t),t=Or(t.nextSibling)}if(ch(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Et=Or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=kt?Or(e.stateNode.nextSibling):null;return!0}function rp(){for(var e=Et;e;)e=Or(e.nextSibling)}function nn(){Et=kt=null,Ae=!1}function Fc(e){Ft===null?Ft=[e]:Ft.push(e)}var o_=xr.ReactCurrentBatchConfig;function jn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var s=r.stateNode}if(!s)throw Error(G(147,e));var n=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(c){var o=n.refs;c===null?delete o[i]:o[i]=c},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Wi(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uh(e){var t=e._init;return t(e._payload)}function sp(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function r(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function s(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function n(p,d){return p=Br(p,d),p.index=0,p.sibling=null,p}function i(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function c(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,d,g,y){return d===null||d.tag!==6?(d=Ya(g,p.mode,y),d.return=p,d):(d=n(d,g),d.return=p,d)}function l(p,d,g,y){var S=g.type;return S===Bs?m(p,d,g.props.children,y,g.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&uh(S)===d.type)?(y=n(d,g.props),y.ref=jn(p,d,g),y.return=p,y):(y=uo(g.type,g.key,g.props,null,p.mode,y),y.ref=jn(p,d,g),y.return=p,y)}function h(p,d,g,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Ja(g,p.mode,y),d.return=p,d):(d=n(d,g.children||[]),d.return=p,d)}function m(p,d,g,y,S){return d===null||d.tag!==7?(d=ds(g,p.mode,y,S),d.return=p,d):(d=n(d,g),d.return=p,d)}function f(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ya(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Oi:return g=uo(d.type,d.key,d.props,null,p.mode,g),g.ref=jn(p,null,d),g.return=p,g;case Is:return d=Ja(d,p.mode,g),d.return=p,d;case Sr:var y=d._init;return f(p,y(d._payload),g)}if(On(d)||wn(d))return d=ds(d,p.mode,g,null),d.return=p,d;Wi(p,d)}return null}function v(p,d,g,y){var S=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(p,d,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Oi:return g.key===S?l(p,d,g,y):null;case Is:return g.key===S?h(p,d,g,y):null;case Sr:return S=g._init,v(p,d,S(g._payload),y)}if(On(g)||wn(g))return S!==null?null:m(p,d,g,y,null);Wi(p,g)}return null}function x(p,d,g,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,o(d,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Oi:return p=p.get(y.key===null?g:y.key)||null,l(d,p,y,S);case Is:return p=p.get(y.key===null?g:y.key)||null,h(d,p,y,S);case Sr:var E=y._init;return x(p,d,g,E(y._payload),S)}if(On(y)||wn(y))return p=p.get(g)||null,m(d,p,y,S,null);Wi(d,y)}return null}function b(p,d,g,y){for(var S=null,E=null,k=d,w=d=0,C=null;k!==null&&w<g.length;w++){k.index>w?(C=k,k=null):C=k.sibling;var N=v(p,k,g[w],y);if(N===null){k===null&&(k=C);break}e&&k&&N.alternate===null&&t(p,k),d=i(N,d,w),E===null?S=N:E.sibling=N,E=N,k=C}if(w===g.length)return r(p,k),Ae&&is(p,w),S;if(k===null){for(;w<g.length;w++)k=f(p,g[w],y),k!==null&&(d=i(k,d,w),E===null?S=k:E.sibling=k,E=k);return Ae&&is(p,w),S}for(k=s(p,k);w<g.length;w++)C=x(k,p,w,g[w],y),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?w:C.key),d=i(C,d,w),E===null?S=C:E.sibling=C,E=C);return e&&k.forEach(function(O){return t(p,O)}),Ae&&is(p,w),S}function _(p,d,g,y){var S=wn(g);if(typeof S!="function")throw Error(G(150));if(g=S.call(g),g==null)throw Error(G(151));for(var E=S=null,k=d,w=d=0,C=null,N=g.next();k!==null&&!N.done;w++,N=g.next()){k.index>w?(C=k,k=null):C=k.sibling;var O=v(p,k,N.value,y);if(O===null){k===null&&(k=C);break}e&&k&&O.alternate===null&&t(p,k),d=i(O,d,w),E===null?S=O:E.sibling=O,E=O,k=C}if(N.done)return r(p,k),Ae&&is(p,w),S;if(k===null){for(;!N.done;w++,N=g.next())N=f(p,N.value,y),N!==null&&(d=i(N,d,w),E===null?S=N:E.sibling=N,E=N);return Ae&&is(p,w),S}for(k=s(p,k);!N.done;w++,N=g.next())N=x(k,p,w,N.value,y),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?w:N.key),d=i(N,d,w),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(R){return t(p,R)}),Ae&&is(p,w),S}function u(p,d,g,y){if(typeof g=="object"&&g!==null&&g.type===Bs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Oi:e:{for(var S=g.key,E=d;E!==null;){if(E.key===S){if(S=g.type,S===Bs){if(E.tag===7){r(p,E.sibling),d=n(E,g.props.children),d.return=p,p=d;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&uh(S)===E.type){r(p,E.sibling),d=n(E,g.props),d.ref=jn(p,E,g),d.return=p,p=d;break e}r(p,E);break}else t(p,E);E=E.sibling}g.type===Bs?(d=ds(g.props.children,p.mode,y,g.key),d.return=p,p=d):(y=uo(g.type,g.key,g.props,null,p.mode,y),y.ref=jn(p,d,g),y.return=p,p=y)}return c(p);case Is:e:{for(E=g.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){r(p,d.sibling),d=n(d,g.children||[]),d.return=p,p=d;break e}else{r(p,d);break}else t(p,d);d=d.sibling}d=Ja(g,p.mode,y),d.return=p,p=d}return c(p);case Sr:return E=g._init,u(p,d,E(g._payload),y)}if(On(g))return b(p,d,g,y);if(wn(g))return _(p,d,g,y);Wi(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(r(p,d.sibling),d=n(d,g),d.return=p,p=d):(r(p,d),d=Ya(g,p.mode,y),d.return=p,p=d),c(p)):r(p,d)}return u}var on=sp(!0),np=sp(!1),Lo=zr(null),Ro=null,Vs=null,Hc=null;function Uc(){Hc=Vs=Ro=null}function zc(e){var t=Lo.current;Le(Lo),e._currentValue=t}function $l(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function en(e,t){Ro=e,Hc=Vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(Hc!==e)if(e={context:e,memoizedValue:t,next:null},Vs===null){if(Ro===null)throw Error(G(308));Vs=e,Ro.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var ls=null;function Wc(e){ls===null?ls=[e]:ls.push(e)}function ip(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,Wc(t)):(r.next=n.next,n.next=r),t.interleaved=r,pr(e,s)}function pr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cr=!1;function Vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Se&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,pr(e,r)}return n=s.interleaved,n===null?(t.next=t,Wc(s)):(t.next=n.next,n.next=t),s.interleaved=t,pr(e,r)}function no(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Rc(e,r)}}function hh(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=c:i=i.next=c,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ao(e,t,r,s){var n=e.updateQueue;Cr=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,h=l.next;l.next=null,c===null?i=h:c.next=h,c=l;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==c&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=l))}if(i!==null){var f=n.baseState;c=0,m=h=l=null,o=i;do{var v=o.lane,x=o.eventTime;if((s&v)===v){m!==null&&(m=m.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,_=o;switch(v=t,x=r,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(x,f,v);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,v=typeof b=="function"?b.call(x,f,v):b,v==null)break e;f=Pe({},f,v);break e;case 2:Cr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=n.effects,v===null?n.effects=[o]:v.push(o))}else x={eventTime:x,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=x,l=f):m=m.next=x,c|=v;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;v=o,o=v.next,v.next=null,n.lastBaseUpdate=v,n.shared.pending=null}}while(!0);if(m===null&&(l=f),n.baseState=l,n.firstBaseUpdate=h,n.lastBaseUpdate=m,t=n.shared.interleaved,t!==null){n=t;do c|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);bs|=c,e.lanes=c,e.memoizedState=f}}function dh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(G(191,n));n.call(s)}}}var wi={},Zt=zr(wi),ni=zr(wi),ii=zr(wi);function cs(e){if(e===wi)throw Error(G(174));return e}function Kc(e,t){switch(je(ii,t),je(ni,e),je(Zt,wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yl(t,e)}Le(Zt),je(Zt,t)}function an(){Le(Zt),Le(ni),Le(ii)}function ap(e){cs(ii.current);var t=cs(Zt.current),r=yl(t,e.type);t!==r&&(je(ni,e),je(Zt,r))}function qc(e){ni.current===e&&(Le(Zt),Le(ni))}var Te=zr(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function Gc(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var io=xr.ReactCurrentDispatcher,Wa=xr.ReactCurrentBatchConfig,xs=0,Oe=null,Ue=null,Ke=null,Oo=!1,Un=!1,oi=0,a_=0;function tt(){throw Error(G(321))}function Yc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zt(e[r],t[r]))return!1;return!0}function Jc(e,t,r,s,n,i){if(xs=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?h_:d_,e=r(s,n),Un){i=0;do{if(Un=!1,oi=0,25<=i)throw Error(G(301));i+=1,Ke=Ue=null,t.updateQueue=null,io.current=f_,e=r(s,n)}while(Un)}if(io.current=Po,t=Ue!==null&&Ue.next!==null,xs=0,Ke=Ue=Oe=null,Oo=!1,t)throw Error(G(300));return e}function Xc(){var e=oi!==0;return oi=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Oe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function It(){if(Ue===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ke===null?Oe.memoizedState:Ke.next;if(t!==null)Ke=t,Ue=e;else{if(e===null)throw Error(G(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Oe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ai(e,t){return typeof t=="function"?t(e):t}function Va(e){var t=It(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var s=Ue,n=s.baseQueue,i=r.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}s.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,s=s.baseState;var o=c=null,l=null,h=i;do{var m=h.lane;if((xs&m)===m)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),s=h.hasEagerState?h.eagerState:e(s,h.action);else{var f={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(o=l=f,c=s):l=l.next=f,Oe.lanes|=m,bs|=m}h=h.next}while(h!==null&&h!==i);l===null?c=s:l.next=o,zt(s,t.memoizedState)||(mt=!0),t.memoizedState=s,t.baseState=c,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Oe.lanes|=i,bs|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ka(e){var t=It(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);zt(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function lp(){}function cp(e,t){var r=Oe,s=It(),n=t(),i=!zt(s.memoizedState,n);if(i&&(s.memoizedState=n,mt=!0),s=s.queue,Qc(dp.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,li(9,hp.bind(null,r,s,n,t),void 0,null),qe===null)throw Error(G(349));xs&30||up(r,t,n)}return n}function up(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hp(e,t,r,s){t.value=r,t.getSnapshot=s,fp(t)&&pp(e)}function dp(e,t,r){return r(function(){fp(t)&&pp(e)})}function fp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zt(e,r)}catch{return!0}}function pp(e){var t=pr(e,1);t!==null&&Ut(t,e,1,-1)}function fh(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=u_.bind(null,Oe,e),[t.memoizedState,e]}function li(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function gp(){return It().memoizedState}function oo(e,t,r,s){var n=Yt();Oe.flags|=e,n.memoizedState=li(1|t,r,void 0,s===void 0?null:s)}function ia(e,t,r,s){var n=It();s=s===void 0?null:s;var i=void 0;if(Ue!==null){var c=Ue.memoizedState;if(i=c.destroy,s!==null&&Yc(s,c.deps)){n.memoizedState=li(t,r,i,s);return}}Oe.flags|=e,n.memoizedState=li(1|t,r,i,s)}function ph(e,t){return oo(8390656,8,e,t)}function Qc(e,t){return ia(2048,8,e,t)}function mp(e,t){return ia(4,2,e,t)}function vp(e,t){return ia(4,4,e,t)}function _p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yp(e,t,r){return r=r!=null?r.concat([e]):null,ia(4,4,_p.bind(null,t,e),r)}function Zc(){}function xp(e,t){var r=It();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Yc(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function bp(e,t){var r=It();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Yc(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function wp(e,t,r){return xs&21?(zt(r,t)||(r=jf(),Oe.lanes|=r,bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function l_(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var s=Wa.transition;Wa.transition={};try{e(!1),t()}finally{ke=r,Wa.transition=s}}function Sp(){return It().memoizedState}function c_(e,t,r){var s=Ir(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cp(e))Ep(t,r);else if(r=ip(e,t,r,s),r!==null){var n=ht();Ut(r,e,s,n),kp(r,t,s)}}function u_(e,t,r){var s=Ir(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cp(e))Ep(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,r);if(n.hasEagerState=!0,n.eagerState=o,zt(o,c)){var l=t.interleaved;l===null?(n.next=n,Wc(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=ip(e,t,n,s),r!==null&&(n=ht(),Ut(r,e,s,n),kp(r,t,s))}}function Cp(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Ep(e,t){Un=Oo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kp(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Rc(e,r)}}var Po={readContext:Mt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},h_={readContext:Mt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:ph,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,oo(4194308,4,_p.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var r=Yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Yt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=c_.bind(null,Oe,e),[s.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:fh,useDebugValue:Zc,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=fh(!1),t=e[0];return e=l_.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Oe,n=Yt();if(Ae){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),qe===null)throw Error(G(349));xs&30||up(s,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,ph(dp.bind(null,s,i,e),[e]),s.flags|=2048,li(9,hp.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Yt(),t=qe.identifierPrefix;if(Ae){var r=ur,s=cr;r=(s&~(1<<32-Ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=oi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=a_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d_={readContext:Mt,useCallback:xp,useContext:Mt,useEffect:Qc,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:vp,useMemo:bp,useReducer:Va,useRef:gp,useState:function(){return Va(ai)},useDebugValue:Zc,useDeferredValue:function(e){var t=It();return wp(t,Ue.memoizedState,e)},useTransition:function(){var e=Va(ai)[0],t=It().memoizedState;return[e,t]},useMutableSource:lp,useSyncExternalStore:cp,useId:Sp,unstable_isNewReconciler:!1},f_={readContext:Mt,useCallback:xp,useContext:Mt,useEffect:Qc,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:vp,useMemo:bp,useReducer:Ka,useRef:gp,useState:function(){return Ka(ai)},useDebugValue:Zc,useDeferredValue:function(e){var t=It();return Ue===null?t.memoizedState=e:wp(t,Ue.memoizedState,e)},useTransition:function(){var e=Ka(ai)[0],t=It().memoizedState;return[e,t]},useMutableSource:lp,useSyncExternalStore:cp,useId:Sp,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var oa={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ht(),n=Ir(e),i=hr(s,n);i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,n),t!==null&&(Ut(t,e,n,s),no(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ht(),n=Ir(e),i=hr(s,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Pr(e,i,n),t!==null&&(Ut(t,e,n,s),no(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),s=Ir(e),n=hr(r,s);n.tag=2,t!=null&&(n.callback=t),t=Pr(e,n,s),t!==null&&(Ut(t,e,s,r),no(t,e,s))}};function gh(e,t,r,s,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,c):t.prototype&&t.prototype.isPureReactComponent?!ei(r,s)||!ei(n,i):!0}function jp(e,t,r){var s=!1,n=Fr,i=t.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(n=yt(t)?_s:it.current,s=t.contextTypes,i=(s=s!=null)?sn(e,n):Fr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function mh(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function Hl(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Vc(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Mt(i):(i=yt(t)?_s:it.current,n.context=sn(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fl(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&oa.enqueueReplaceState(n,n.state,null),Ao(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var r="",s=t;do r+=Hm(s),s=s.return;while(s);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function Np(e,t,r){r=hr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Io||(Io=!0,Ql=s),Ul(e,t)},r}function Lp(e,t,r){r=hr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){Ul(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ul(e,t),typeof s!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function vh(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new p_;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=N_.bind(null,e,t,r),t.then(e,e))}function _h(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yh(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hr(-1,1),t.tag=2,Pr(r,t,1))),r.lanes|=1),e)}var g_=xr.ReactCurrentOwner,mt=!1;function lt(e,t,r,s){t.child=e===null?np(t,null,r,s):on(t,e.child,r,s)}function xh(e,t,r,s,n){r=r.render;var i=t.ref;return en(t,n),s=Jc(e,t,r,s,i,n),r=Xc(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,gr(e,t,n)):(Ae&&r&&Dc(t),t.flags|=1,lt(e,t,s,n),t.child)}function bh(e,t,r,s,n){if(e===null){var i=r.type;return typeof i=="function"&&!au(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Rp(e,t,i,s,n)):(e=uo(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var c=i.memoizedProps;if(r=r.compare,r=r!==null?r:ei,r(c,s)&&e.ref===t.ref)return gr(e,t,n)}return t.flags|=1,e=Br(i,s),e.ref=t.ref,e.return=t,t.child=e}function Rp(e,t,r,s,n){if(e!==null){var i=e.memoizedProps;if(ei(i,s)&&e.ref===t.ref)if(mt=!1,t.pendingProps=s=i,(e.lanes&n)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,gr(e,t,n)}return zl(e,t,r,s,n)}function Ap(e,t,r){var s=t.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(qs,Ct),Ct|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(qs,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,je(qs,Ct),Ct|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,je(qs,Ct),Ct|=s;return lt(e,t,n,r),t.child}function Tp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zl(e,t,r,s,n){var i=yt(r)?_s:it.current;return i=sn(t,i),en(t,n),r=Jc(e,t,r,s,i,n),s=Xc(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,gr(e,t,n)):(Ae&&s&&Dc(t),t.flags|=1,lt(e,t,r,n),t.child)}function wh(e,t,r,s,n){if(yt(r)){var i=!0;ko(t)}else i=!1;if(en(t,n),t.stateNode===null)ao(e,t),jp(t,r,s),Hl(t,r,s,n),s=!0;else if(e===null){var c=t.stateNode,o=t.memoizedProps;c.props=o;var l=c.context,h=r.contextType;typeof h=="object"&&h!==null?h=Mt(h):(h=yt(r)?_s:it.current,h=sn(t,h));var m=r.getDerivedStateFromProps,f=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function";f||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(o!==s||l!==h)&&mh(t,c,s,h),Cr=!1;var v=t.memoizedState;c.state=v,Ao(t,s,c,n),l=t.memoizedState,o!==s||v!==l||_t.current||Cr?(typeof m=="function"&&(Fl(t,r,m,s),l=t.memoizedState),(o=Cr||gh(t,r,o,s,v,l,h))?(f||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),c.props=s,c.state=l,c.context=h,s=o):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,op(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:Dt(t.type,o),c.props=h,f=t.pendingProps,v=c.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=yt(r)?_s:it.current,l=sn(t,l));var x=r.getDerivedStateFromProps;(m=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(o!==f||v!==l)&&mh(t,c,s,l),Cr=!1,v=t.memoizedState,c.state=v,Ao(t,s,c,n);var b=t.memoizedState;o!==f||v!==b||_t.current||Cr?(typeof x=="function"&&(Fl(t,r,x,s),b=t.memoizedState),(h=Cr||gh(t,r,h,s,v,b,l)||!1)?(m||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,b,l),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,b,l)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),c.props=s,c.state=b,c.context=l,s=h):(typeof c.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),s=!1)}return Wl(e,t,r,s,i,n)}function Wl(e,t,r,s,n,i){Tp(e,t);var c=(t.flags&128)!==0;if(!s&&!c)return n&&ah(t,r,!1),gr(e,t,i);s=t.stateNode,g_.current=t;var o=c&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&c?(t.child=on(t,e.child,null,i),t.child=on(t,null,o,i)):lt(e,t,o,i),t.memoizedState=s.state,n&&ah(t,r,!0),t.child}function Op(e){var t=e.stateNode;t.pendingContext?oh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oh(e,t.context,!1),Kc(e,t.containerInfo)}function Sh(e,t,r,s,n){return nn(),Fc(n),t.flags|=256,lt(e,t,r,s),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pp(e,t,r){var s=t.pendingProps,n=Te.current,i=!1,c=(t.flags&128)!==0,o;if((o=c)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),je(Te,n&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=s.children,e=s.fallback,i?(s=t.mode,i=t.child,c={mode:"hidden",children:c},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=c):i=ca(c,s,0,null),e=ds(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kl(r),t.memoizedState=Vl,e):eu(t,c));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return m_(e,t,c,s,o,n,r);if(i){i=s.fallback,c=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:s.children};return!(c&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Br(n,l),s.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Br(o,i):(i=ds(i,c,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,c=e.child.memoizedState,c=c===null?Kl(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},i.memoizedState=c,i.childLanes=e.childLanes&~r,t.memoizedState=Vl,s}return i=e.child,e=i.sibling,s=Br(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function eu(e,t){return t=ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vi(e,t,r,s){return s!==null&&Fc(s),on(t,e.child,null,r),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m_(e,t,r,s,n,i,c){if(r)return t.flags&256?(t.flags&=-257,s=qa(Error(G(422))),Vi(e,t,c,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,n=t.mode,s=ca({mode:"visible",children:s.children},n,0,null),i=ds(i,n,c,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&on(t,e.child,null,c),t.child.memoizedState=Kl(c),t.memoizedState=Vl,i);if(!(t.mode&1))return Vi(e,t,c,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(G(419)),s=qa(i,s,void 0),Vi(e,t,c,s)}if(o=(c&e.childLanes)!==0,mt||o){if(s=qe,s!==null){switch(c&-c){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|c)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,pr(e,n),Ut(s,e,n,-1))}return ou(),s=qa(Error(G(421))),Vi(e,t,c,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=L_.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Et=Or(n.nextSibling),kt=t,Ae=!0,Ft=null,e!==null&&(Rt[At++]=cr,Rt[At++]=ur,Rt[At++]=ys,cr=e.id,ur=e.overflow,ys=t),t=eu(t,s.children),t.flags|=4096,t)}function Ch(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),$l(e.return,t,r)}function Ga(e,t,r,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=n)}function Mp(e,t,r){var s=t.pendingProps,n=s.revealOrder,i=s.tail;if(lt(e,t,s.children,r),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ch(e,r,t);else if(e.tag===19)Ch(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(je(Te,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&To(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Ga(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&To(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Ga(t,!0,r,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function v_(e,t,r){switch(t.tag){case 3:Op(t),nn();break;case 5:ap(t);break;case 1:yt(t.type)&&ko(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;je(Lo,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(je(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?Pp(e,t,r):(je(Te,Te.current&1),e=gr(e,t,r),e!==null?e.sibling:null);je(Te,Te.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Mp(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),je(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,Ap(e,t,r)}return gr(e,t,r)}var Ip,ql,Bp,Dp;Ip=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ql=function(){};Bp=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,cs(Zt.current);var i=null;switch(r){case"input":n=gl(e,n),s=gl(e,s),i=[];break;case"select":n=Pe({},n,{value:void 0}),s=Pe({},s,{value:void 0}),i=[];break;case"textarea":n=_l(e,n),s=_l(e,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Co)}xl(r,s);var c;r=null;for(h in n)if(!s.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var o=n[h];for(c in o)o.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(qn.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in s){var l=s[h];if(o=n!=null?n[h]:void 0,s.hasOwnProperty(h)&&l!==o&&(l!=null||o!=null))if(h==="style")if(o){for(c in o)!o.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in l)l.hasOwnProperty(c)&&o[c]!==l[c]&&(r||(r={}),r[c]=l[c])}else r||(i||(i=[]),i.push(h,r)),r=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(qn.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&Ne("scroll",e),i||o===l||(i=[])):(i=i||[]).push(h,l))}r&&(i=i||[]).push("style",r);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};Dp=function(e,t,r,s){r!==s&&(t.flags|=4)};function Nn(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function __(e,t,r){var s=t.pendingProps;switch($c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return yt(t.type)&&Eo(),rt(t),null;case 3:return s=t.stateNode,an(),Le(_t),Le(it),Gc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(tc(Ft),Ft=null))),ql(e,t),rt(t),null;case 5:qc(t);var n=cs(ii.current);if(r=t.type,e!==null&&t.stateNode!=null)Bp(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(G(166));return rt(t),null}if(e=cs(Zt.current),zi(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Jt]=t,s[si]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(n=0;n<Mn.length;n++)Ne(Mn[n],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ou(s,i),Ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",s);break;case"textarea":Mu(s,i),Ne("invalid",s)}xl(r,i),n=null;for(var c in i)if(i.hasOwnProperty(c)){var o=i[c];c==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ui(s.textContent,o,e),n=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ui(s.textContent,o,e),n=["children",""+o]):qn.hasOwnProperty(c)&&o!=null&&c==="onScroll"&&Ne("scroll",s)}switch(r){case"input":Pi(s),Pu(s,i,!0);break;case"textarea":Pi(s),Iu(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Co)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{c=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=df(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=c.createElement(r,{is:s.is}):(e=c.createElement(r),r==="select"&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,r),e[Jt]=t,e[si]=s,Ip(e,t,!1,!1),t.stateNode=e;e:{switch(c=bl(r,s),r){case"dialog":Ne("cancel",e),Ne("close",e),n=s;break;case"iframe":case"object":case"embed":Ne("load",e),n=s;break;case"video":case"audio":for(n=0;n<Mn.length;n++)Ne(Mn[n],e);n=s;break;case"source":Ne("error",e),n=s;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),n=s;break;case"details":Ne("toggle",e),n=s;break;case"input":Ou(e,s),n=gl(e,s),Ne("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=Pe({},s,{value:void 0}),Ne("invalid",e);break;case"textarea":Mu(e,s),n=_l(e,s),Ne("invalid",e);break;default:n=s}xl(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?gf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ff(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gn(e,l):typeof l=="number"&&Gn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",e):l!=null&&Cc(e,i,l,c))}switch(r){case"input":Pi(e),Pu(e,s,!1);break;case"textarea":Pi(e),Iu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+$r(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Js(e,!!s.multiple,i,!1):s.defaultValue!=null&&Js(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Co)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Dp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(G(166));if(r=cs(ii.current),cs(Zt.current),zi(t)){if(s=t.stateNode,r=t.memoizedProps,s[Jt]=t,(i=s.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Ui(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Jt]=t,t.stateNode=s}return rt(t),null;case 13:if(Le(Te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Et!==null&&t.mode&1&&!(t.flags&128))rp(),nn(),t.flags|=98560,i=!1;else if(i=zi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Jt]=t}else nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),i=!1}else Ft!==null&&(tc(Ft),Ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?We===0&&(We=3):ou())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return an(),ql(e,t),e===null&&ti(t.stateNode.containerInfo),rt(t),null;case 10:return zc(t.type._context),rt(t),null;case 17:return yt(t.type)&&Eo(),rt(t),null;case 19:if(Le(Te),i=t.memoizedState,i===null)return rt(t),null;if(s=(t.flags&128)!==0,c=i.rendering,c===null)if(s)Nn(i,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=To(e),c!==null){for(t.flags|=128,Nn(i,!1),s=c.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,c=i.alternate,c===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>cn&&(t.flags|=128,s=!0,Nn(i,!1),t.lanes=4194304)}else{if(!s)if(e=To(c),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Ae)return rt(t),null}else 2*Be()-i.renderingStartTime>cn&&r!==1073741824&&(t.flags|=128,s=!0,Nn(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(r=i.last,r!==null?r.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,r=Te.current,je(Te,s?r&1|2:r&1),t):(rt(t),null);case 22:case 23:return iu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ct&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function y_(e,t){switch($c(t),t.tag){case 1:return yt(t.type)&&Eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),Le(_t),Le(it),Gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qc(t),null;case 13:if(Le(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Te),null;case 4:return an(),null;case 10:return zc(t.type._context),null;case 22:case 23:return iu(),null;case 24:return null;default:return null}}var Ki=!1,st=!1,x_=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ie(e,t,s)}else r.current=null}function Gl(e,t,r){try{r()}catch(s){Ie(e,t,s)}}var Eh=!1;function b_(e,t){if(Al=bo,e=zf(),Bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var c=0,o=-1,l=-1,h=0,m=0,f=e,v=null;t:for(;;){for(var x;f!==r||n!==0&&f.nodeType!==3||(o=c+n),f!==i||s!==0&&f.nodeType!==3||(l=c+s),f.nodeType===3&&(c+=f.nodeValue.length),(x=f.firstChild)!==null;)v=f,f=x;for(;;){if(f===e)break t;if(v===r&&++h===n&&(o=c),v===i&&++m===s&&(l=c),(x=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=x}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tl={focusedElem:e,selectionRange:r},bo=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,u=b.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:Dt(t.type,_),u);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(y){Ie(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return b=Eh,Eh=!1,b}function zn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Gl(t,r,i)}n=n.next}while(n!==s)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Yl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $p(e){var t=e.alternate;t!==null&&(e.alternate=null,$p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[si],delete t[Ml],delete t[s_],delete t[n_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fp(e){return e.tag===5||e.tag===3||e.tag===4}function kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Co));else if(s!==4&&(e=e.child,e!==null))for(Jl(e,t,r),e=e.sibling;e!==null;)Jl(e,t,r),e=e.sibling}function Xl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Xl(e,t,r),e=e.sibling;e!==null;)Xl(e,t,r),e=e.sibling}var Je=null,$t=!1;function wr(e,t,r){for(r=r.child;r!==null;)Hp(e,t,r),r=r.sibling}function Hp(e,t,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Zo,r)}catch{}switch(r.tag){case 5:st||Ks(r,t);case 6:var s=Je,n=$t;Je=null,wr(e,t,r),Je=s,$t=n,Je!==null&&($t?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&($t?(e=Je,r=r.stateNode,e.nodeType===8?Ha(e.parentNode,r):e.nodeType===1&&Ha(e,r),Qn(e)):Ha(Je,r.stateNode));break;case 4:s=Je,n=$t,Je=r.stateNode.containerInfo,$t=!0,wr(e,t,r),Je=s,$t=n;break;case 0:case 11:case 14:case 15:if(!st&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,c=i.destroy;i=i.tag,c!==void 0&&(i&2||i&4)&&Gl(r,t,c),n=n.next}while(n!==s)}wr(e,t,r);break;case 1:if(!st&&(Ks(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){Ie(r,t,o)}wr(e,t,r);break;case 21:wr(e,t,r);break;case 22:r.mode&1?(st=(s=st)||r.memoizedState!==null,wr(e,t,r),st=s):wr(e,t,r);break;default:wr(e,t,r)}}function jh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x_),t.forEach(function(s){var n=R_.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Bt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 5:Je=o.stateNode,$t=!1;break e;case 3:Je=o.stateNode.containerInfo,$t=!0;break e;case 4:Je=o.stateNode.containerInfo,$t=!0;break e}o=o.return}if(Je===null)throw Error(G(160));Hp(i,c,n),Je=null,$t=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(h){Ie(n,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Kt(e),s&4){try{zn(3,e,e.return),aa(3,e)}catch(_){Ie(e,e.return,_)}try{zn(5,e,e.return)}catch(_){Ie(e,e.return,_)}}break;case 1:Bt(t,e),Kt(e),s&512&&r!==null&&Ks(r,r.return);break;case 5:if(Bt(t,e),Kt(e),s&512&&r!==null&&Ks(r,r.return),e.flags&32){var n=e.stateNode;try{Gn(n,"")}catch(_){Ie(e,e.return,_)}}if(s&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,c=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uf(n,i),bl(o,c);var h=bl(o,i);for(c=0;c<l.length;c+=2){var m=l[c],f=l[c+1];m==="style"?gf(n,f):m==="dangerouslySetInnerHTML"?ff(n,f):m==="children"?Gn(n,f):Cc(n,m,f,h)}switch(o){case"input":ml(n,i);break;case"textarea":hf(n,i);break;case"select":var v=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Js(n,!!i.multiple,x,!1):v!==!!i.multiple&&(i.defaultValue!=null?Js(n,!!i.multiple,i.defaultValue,!0):Js(n,!!i.multiple,i.multiple?[]:"",!1))}n[si]=i}catch(_){Ie(e,e.return,_)}}break;case 6:if(Bt(t,e),Kt(e),s&4){if(e.stateNode===null)throw Error(G(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(_){Ie(e,e.return,_)}}break;case 3:if(Bt(t,e),Kt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(_){Ie(e,e.return,_)}break;case 4:Bt(t,e),Kt(e);break;case 13:Bt(t,e),Kt(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(su=Be())),s&4&&jh(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(st=(h=st)||m,Bt(t,e),st=h):Bt(t,e),Kt(e),s&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(ne=e,m=e.child;m!==null;){for(f=ne=m;ne!==null;){switch(v=ne,x=v.child,v.tag){case 0:case 11:case 14:case 15:zn(4,v,v.return);break;case 1:Ks(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){s=v,r=v.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(_){Ie(s,r,_)}}break;case 5:Ks(v,v.return);break;case 22:if(v.memoizedState!==null){Lh(f);continue}}x!==null?(x.return=v,ne=x):Lh(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{n=f.stateNode,h?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,c=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pf("display",c))}catch(_){Ie(e,e.return,_)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(_){Ie(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),Kt(e),s&4&&jh(e);break;case 21:break;default:Bt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fp(r)){var s=r;break e}r=r.return}throw Error(G(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Gn(n,""),s.flags&=-33);var i=kh(e);Xl(e,i,n);break;case 3:case 4:var c=s.stateNode.containerInfo,o=kh(e);Jl(e,o,c);break;default:throw Error(G(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w_(e,t,r){ne=e,zp(e)}function zp(e,t,r){for(var s=(e.mode&1)!==0;ne!==null;){var n=ne,i=n.child;if(n.tag===22&&s){var c=n.memoizedState!==null||Ki;if(!c){var o=n.alternate,l=o!==null&&o.memoizedState!==null||st;o=Ki;var h=st;if(Ki=c,(st=l)&&!h)for(ne=n;ne!==null;)c=ne,l=c.child,c.tag===22&&c.memoizedState!==null?Rh(n):l!==null?(l.return=c,ne=l):Rh(n);for(;i!==null;)ne=i,zp(i),i=i.sibling;ne=n,Ki=o,st=h}Nh(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ne=i):Nh(e)}}function Nh(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||aa(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!st)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Dt(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&dh(t,i,s);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}dh(t,c,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Qn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}st||t.flags&512&&Yl(t)}catch(v){Ie(t,t.return,v)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Lh(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Rh(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{aa(4,t)}catch(l){Ie(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){Ie(t,n,l)}}var i=t.return;try{Yl(t)}catch(l){Ie(t,i,l)}break;case 5:var c=t.return;try{Yl(t)}catch(l){Ie(t,c,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var S_=Math.ceil,Mo=xr.ReactCurrentDispatcher,tu=xr.ReactCurrentOwner,Ot=xr.ReactCurrentBatchConfig,Se=0,qe=null,De=null,Xe=0,Ct=0,qs=zr(0),We=0,ci=null,bs=0,la=0,ru=0,Wn=null,gt=null,su=0,cn=1/0,or=null,Io=!1,Ql=null,Mr=null,qi=!1,Nr=null,Bo=0,Vn=0,Zl=null,lo=-1,co=0;function ht(){return Se&6?Be():lo!==-1?lo:lo=Be()}function Ir(e){return e.mode&1?Se&2&&Xe!==0?Xe&-Xe:o_.transition!==null?(co===0&&(co=jf()),co):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Pf(e.type)),e):1}function Ut(e,t,r,s){if(50<Vn)throw Vn=0,Zl=null,Error(G(185));yi(e,r,s),(!(Se&2)||e!==qe)&&(e===qe&&(!(Se&2)&&(la|=r),We===4&&kr(e,Xe)),xt(e,s),r===1&&Se===0&&!(t.mode&1)&&(cn=Be()+500,na&&Wr()))}function xt(e,t){var r=e.callbackNode;ov(e,t);var s=xo(e,e===qe?Xe:0);if(s===0)r!==null&&$u(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&$u(r),t===1)e.tag===0?i_(Ah.bind(null,e)):Zf(Ah.bind(null,e)),t_(function(){!(Se&6)&&Wr()}),r=null;else{switch(Nf(s)){case 1:r=Lc;break;case 4:r=Ef;break;case 16:r=yo;break;case 536870912:r=kf;break;default:r=yo}r=Xp(r,Wp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wp(e,t){if(lo=-1,co=0,Se&6)throw Error(G(327));var r=e.callbackNode;if(tn()&&e.callbackNode!==r)return null;var s=xo(e,e===qe?Xe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Do(e,s);else{t=s;var n=Se;Se|=2;var i=Kp();(qe!==e||Xe!==t)&&(or=null,cn=Be()+500,hs(e,t));do try{k_();break}catch(o){Vp(e,o)}while(!0);Uc(),Mo.current=i,Se=n,De!==null?t=0:(qe=null,Xe=0,t=We)}if(t!==0){if(t===2&&(n=kl(e),n!==0&&(s=n,t=ec(e,n))),t===1)throw r=ci,hs(e,0),kr(e,s),xt(e,Be()),r;if(t===6)kr(e,s);else{if(n=e.current.alternate,!(s&30)&&!C_(n)&&(t=Do(e,s),t===2&&(i=kl(e),i!==0&&(s=i,t=ec(e,i))),t===1))throw r=ci,hs(e,0),kr(e,s),xt(e,Be()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(G(345));case 2:os(e,gt,or);break;case 3:if(kr(e,s),(s&130023424)===s&&(t=su+500-Be(),10<t)){if(xo(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){ht(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Pl(os.bind(null,e,gt,or),t);break}os(e,gt,or);break;case 4:if(kr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var c=31-Ht(s);i=1<<c,c=t[c],c>n&&(n=c),s&=~i}if(s=n,s=Be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*S_(s/1960))-s,10<s){e.timeoutHandle=Pl(os.bind(null,e,gt,or),s);break}os(e,gt,or);break;case 5:os(e,gt,or);break;default:throw Error(G(329))}}}return xt(e,Be()),e.callbackNode===r?Wp.bind(null,e):null}function ec(e,t){var r=Wn;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=Do(e,t),e!==2&&(t=gt,gt=r,t!==null&&tc(t)),e}function tc(e){gt===null?gt=e:gt.push.apply(gt,e)}function C_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],i=n.getSnapshot;n=n.value;try{if(!zt(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~ru,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),s=1<<r;e[r]=-1,t&=~s}}function Ah(e){if(Se&6)throw Error(G(327));tn();var t=xo(e,0);if(!(t&1))return xt(e,Be()),null;var r=Do(e,t);if(e.tag!==0&&r===2){var s=kl(e);s!==0&&(t=s,r=ec(e,s))}if(r===1)throw r=ci,hs(e,0),kr(e,t),xt(e,Be()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,gt,or),xt(e,Be()),null}function nu(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(cn=Be()+500,na&&Wr())}}function ws(e){Nr!==null&&Nr.tag===0&&!(Se&6)&&tn();var t=Se;Se|=1;var r=Ot.transition,s=ke;try{if(Ot.transition=null,ke=1,e)return e()}finally{ke=s,Ot.transition=r,Se=t,!(Se&6)&&Wr()}}function iu(){Ct=qs.current,Le(qs)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e_(r)),De!==null)for(r=De.return;r!==null;){var s=r;switch($c(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Eo();break;case 3:an(),Le(_t),Le(it),Gc();break;case 5:qc(s);break;case 4:an();break;case 13:Le(Te);break;case 19:Le(Te);break;case 10:zc(s.type._context);break;case 22:case 23:iu()}r=r.return}if(qe=e,De=e=Br(e.current,null),Xe=Ct=t,We=0,ci=null,ru=la=bs=0,gt=Wn=null,ls!==null){for(t=0;t<ls.length;t++)if(r=ls[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,i=r.pending;if(i!==null){var c=i.next;i.next=n,s.next=c}r.pending=s}ls=null}return e}function Vp(e,t){do{var r=De;try{if(Uc(),io.current=Po,Oo){for(var s=Oe.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Oo=!1}if(xs=0,Ke=Ue=Oe=null,Un=!1,oi=0,tu.current=null,r===null||r.return===null){We=1,ci=t,De=null;break}e:{var i=e,c=r.return,o=r,l=t;if(t=Xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=_h(c);if(x!==null){x.flags&=-257,yh(x,c,o,i,t),x.mode&1&&vh(i,h,t),t=x,l=h;var b=t.updateQueue;if(b===null){var _=new Set;_.add(l),t.updateQueue=_}else b.add(l);break e}else{if(!(t&1)){vh(i,h,t),ou();break e}l=Error(G(426))}}else if(Ae&&o.mode&1){var u=_h(c);if(u!==null){!(u.flags&65536)&&(u.flags|=256),yh(u,c,o,i,t),Fc(ln(l,o));break e}}i=l=ln(l,o),We!==4&&(We=2),Wn===null?Wn=[i]:Wn.push(i),i=c;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Np(i,l,t);hh(i,p);break e;case 1:o=l;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Lp(i,o,t);hh(i,y);break e}}i=i.return}while(i!==null)}Gp(r)}catch(S){t=S,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Kp(){var e=Mo.current;return Mo.current=Po,e===null?Po:e}function ou(){(We===0||We===3||We===2)&&(We=4),qe===null||!(bs&268435455)&&!(la&268435455)||kr(qe,Xe)}function Do(e,t){var r=Se;Se|=2;var s=Kp();(qe!==e||Xe!==t)&&(or=null,hs(e,t));do try{E_();break}catch(n){Vp(e,n)}while(!0);if(Uc(),Se=r,Mo.current=s,De!==null)throw Error(G(261));return qe=null,Xe=0,We}function E_(){for(;De!==null;)qp(De)}function k_(){for(;De!==null&&!Xm();)qp(De)}function qp(e){var t=Jp(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Gp(e):De=t,tu.current=null}function Gp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y_(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,De=null;return}}else if(r=__(r,t,Ct),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);We===0&&(We=5)}function os(e,t,r){var s=ke,n=Ot.transition;try{Ot.transition=null,ke=1,j_(e,t,r,s)}finally{Ot.transition=n,ke=s}return null}function j_(e,t,r,s){do tn();while(Nr!==null);if(Se&6)throw Error(G(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(av(e,i),e===qe&&(De=qe=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qi||(qi=!0,Xp(yo,function(){return tn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var c=ke;ke=1;var o=Se;Se|=4,tu.current=null,b_(e,r),Up(r,e),qv(Tl),bo=!!Al,Tl=Al=null,e.current=r,w_(r),Qm(),Se=o,ke=c,Ot.transition=i}else e.current=r;if(qi&&(qi=!1,Nr=e,Bo=n),i=e.pendingLanes,i===0&&(Mr=null),tv(r.stateNode),xt(e,Be()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Io)throw Io=!1,e=Ql,Ql=null,e;return Bo&1&&e.tag!==0&&tn(),i=e.pendingLanes,i&1?e===Zl?Vn++:(Vn=0,Zl=e):Vn=0,Wr(),null}function tn(){if(Nr!==null){var e=Nf(Bo),t=Ot.transition,r=ke;try{if(Ot.transition=null,ke=16>e?16:e,Nr===null)var s=!1;else{if(e=Nr,Nr=null,Bo=0,Se&6)throw Error(G(331));var n=Se;for(Se|=4,ne=e.current;ne!==null;){var i=ne,c=i.child;if(ne.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var h=o[l];for(ne=h;ne!==null;){var m=ne;switch(m.tag){case 0:case 11:case 15:zn(8,m,i)}var f=m.child;if(f!==null)f.return=m,ne=f;else for(;ne!==null;){m=ne;var v=m.sibling,x=m.return;if($p(m),m===h){ne=null;break}if(v!==null){v.return=x,ne=v;break}ne=x}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var u=_.sibling;_.sibling=null,_=u}while(_!==null)}}ne=i}}if(i.subtreeFlags&2064&&c!==null)c.return=i,ne=c;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ne=p;break e}ne=i.return}}var d=e.current;for(ne=d;ne!==null;){c=ne;var g=c.child;if(c.subtreeFlags&2064&&g!==null)g.return=c,ne=g;else e:for(c=d;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:aa(9,o)}}catch(S){Ie(o,o.return,S)}if(o===c){ne=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,ne=y;break e}ne=o.return}}if(Se=n,Wr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Zo,e)}catch{}s=!0}return s}finally{ke=r,Ot.transition=t}}return!1}function Th(e,t,r){t=ln(r,t),t=Np(e,t,1),e=Pr(e,t,1),t=ht(),e!==null&&(yi(e,1,t),xt(e,t))}function Ie(e,t,r){if(e.tag===3)Th(e,e,r);else for(;t!==null;){if(t.tag===3){Th(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Mr===null||!Mr.has(s))){e=ln(r,e),e=Lp(t,e,1),t=Pr(t,e,1),e=ht(),t!==null&&(yi(t,1,e),xt(t,e));break}}t=t.return}}function N_(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,qe===e&&(Xe&r)===r&&(We===4||We===3&&(Xe&130023424)===Xe&&500>Be()-su?hs(e,0):ru|=r),xt(e,t)}function Yp(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var r=ht();e=pr(e,t),e!==null&&(yi(e,t,r),xt(e,r))}function L_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yp(e,r)}function R_(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(G(314))}s!==null&&s.delete(t),Yp(e,r)}var Jp;Jp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,v_(e,t,r);mt=!!(e.flags&131072)}else mt=!1,Ae&&t.flags&1048576&&ep(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ao(e,t),e=t.pendingProps;var n=sn(t,it.current);en(t,r),n=Jc(null,t,s,e,n,r);var i=Xc();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(s)?(i=!0,ko(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Vc(t),n.updater=oa,t.stateNode=n,n._reactInternals=t,Hl(t,s,e,r),t=Wl(null,t,s,!0,i,r)):(t.tag=0,Ae&&i&&Dc(t),lt(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=T_(s),e=Dt(s,e),n){case 0:t=zl(null,t,s,e,r);break e;case 1:t=wh(null,t,s,e,r);break e;case 11:t=xh(null,t,s,e,r);break e;case 14:t=bh(null,t,s,Dt(s.type,e),r);break e}throw Error(G(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Dt(s,n),zl(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Dt(s,n),wh(e,t,s,n,r);case 3:e:{if(Op(t),e===null)throw Error(G(387));s=t.pendingProps,i=t.memoizedState,n=i.element,op(e,t),Ao(t,s,null,r);var c=t.memoizedState;if(s=c.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=ln(Error(G(423)),t),t=Sh(e,t,s,r,n);break e}else if(s!==n){n=ln(Error(G(424)),t),t=Sh(e,t,s,r,n);break e}else for(Et=Or(t.stateNode.containerInfo.firstChild),kt=t,Ae=!0,Ft=null,r=np(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nn(),s===n){t=gr(e,t,r);break e}lt(e,t,s,r)}t=t.child}return t;case 5:return ap(t),e===null&&Dl(t),s=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,c=n.children,Ol(s,n)?c=null:i!==null&&Ol(s,i)&&(t.flags|=32),Tp(e,t),lt(e,t,c,r),t.child;case 6:return e===null&&Dl(t),null;case 13:return Pp(e,t,r);case 4:return Kc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=on(t,null,s,r):lt(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Dt(s,n),xh(e,t,s,n,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,i=t.memoizedProps,c=n.value,je(Lo,s._currentValue),s._currentValue=c,i!==null)if(zt(i.value,c)){if(i.children===n.children&&!_t.current){t=gr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){c=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=hr(-1,r&-r),l.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?l.next=l:(l.next=m.next,m.next=l),h.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$l(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)c=i.type===t.type?null:i.child;else if(i.tag===18){if(c=i.return,c===null)throw Error(G(341));c.lanes|=r,o=c.alternate,o!==null&&(o.lanes|=r),$l(c,r,t),c=i.sibling}else c=i.child;if(c!==null)c.return=i;else for(c=i;c!==null;){if(c===t){c=null;break}if(i=c.sibling,i!==null){i.return=c.return,c=i;break}c=c.return}i=c}lt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,en(t,r),n=Mt(n),s=s(n),t.flags|=1,lt(e,t,s,r),t.child;case 14:return s=t.type,n=Dt(s,t.pendingProps),n=Dt(s.type,n),bh(e,t,s,n,r);case 15:return Rp(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Dt(s,n),ao(e,t),t.tag=1,yt(s)?(e=!0,ko(t)):e=!1,en(t,r),jp(t,s,n),Hl(t,s,n,r),Wl(null,t,s,!0,e,r);case 19:return Mp(e,t,r);case 22:return Ap(e,t,r)}throw Error(G(156,t.tag))};function Xp(e,t){return Cf(e,t)}function A_(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,r,s){return new A_(e,t,r,s)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T_(e){if(typeof e=="function")return au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kc)return 11;if(e===jc)return 14}return 2}function Br(e,t){var r=e.alternate;return r===null?(r=Tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function uo(e,t,r,s,n,i){var c=2;if(s=e,typeof e=="function")au(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Bs:return ds(r.children,n,i,t);case Ec:c=8,n|=8;break;case hl:return e=Tt(12,r,t,n|2),e.elementType=hl,e.lanes=i,e;case dl:return e=Tt(13,r,t,n),e.elementType=dl,e.lanes=i,e;case fl:return e=Tt(19,r,t,n),e.elementType=fl,e.lanes=i,e;case af:return ca(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nf:c=10;break e;case of:c=9;break e;case kc:c=11;break e;case jc:c=14;break e;case Sr:c=16,s=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Tt(c,r,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function ds(e,t,r,s){return e=Tt(7,e,s,t),e.lanes=r,e}function ca(e,t,r,s){return e=Tt(22,e,s,t),e.elementType=af,e.lanes=r,e.stateNode={isHidden:!1},e}function Ya(e,t,r){return e=Tt(6,e,null,t),e.lanes=r,e}function Ja(e,t,r){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O_(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function lu(e,t,r,s,n,i,c,o,l){return e=new O_(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(i),e}function P_(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Qp(e){if(!e)return Fr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(yt(r))return Qf(e,r,t)}return t}function Zp(e,t,r,s,n,i,c,o,l){return e=lu(r,s,!0,e,n,i,c,o,l),e.context=Qp(null),r=e.current,s=ht(),n=Ir(r),i=hr(s,n),i.callback=t??null,Pr(r,i,n),e.current.lanes=n,yi(e,n,s),xt(e,s),e}function ua(e,t,r,s){var n=t.current,i=ht(),c=Ir(n);return r=Qp(r),t.context===null?t.context=r:t.pendingContext=r,t=hr(i,c),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Pr(n,t,c),e!==null&&(Ut(e,n,c,i),no(e,n,c)),c}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cu(e,t){Oh(e,t),(e=e.alternate)&&Oh(e,t)}function M_(){return null}var eg=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}ha.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));ua(e,t,null,null)};ha.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){ua(null,e,null,null)}),t[fr]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=Af();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Er.length&&t!==0&&t<Er[r].priority;r++);Er.splice(r,0,e),r===0&&Of(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ph(){}function I_(e,t,r,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var h=$o(c);i.call(h)}}var c=Zp(t,s,e,0,null,!1,!1,"",Ph);return e._reactRootContainer=c,e[fr]=c.current,ti(e.nodeType===8?e.parentNode:e),ws(),c}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var o=s;s=function(){var h=$o(l);o.call(h)}}var l=lu(e,0,!1,null,null,!1,!1,"",Ph);return e._reactRootContainer=l,e[fr]=l.current,ti(e.nodeType===8?e.parentNode:e),ws(function(){ua(t,l,r,s)}),l}function fa(e,t,r,s,n){var i=r._reactRootContainer;if(i){var c=i;if(typeof n=="function"){var o=n;n=function(){var l=$o(c);o.call(l)}}ua(t,c,e,n)}else c=I_(r,t,e,n,s);return $o(c)}Lf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pn(t.pendingLanes);r!==0&&(Rc(t,r|1),xt(t,Be()),!(Se&6)&&(cn=Be()+500,Wr()))}break;case 13:ws(function(){var s=pr(e,1);if(s!==null){var n=ht();Ut(s,e,1,n)}}),cu(e,1)}};Ac=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var r=ht();Ut(t,e,134217728,r)}cu(e,134217728)}};Rf=function(e){if(e.tag===13){var t=Ir(e),r=pr(e,t);if(r!==null){var s=ht();Ut(r,e,t,s)}cu(e,t)}};Af=function(){return ke};Tf=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};Sl=function(e,t,r){switch(t){case"input":if(ml(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=sa(s);if(!n)throw Error(G(90));cf(s),ml(s,n)}}}break;case"textarea":hf(e,r);break;case"select":t=r.value,t!=null&&Js(e,!!r.multiple,t,!1)}};_f=nu;yf=ws;var B_={usingClientEntryPoint:!1,Events:[bi,Hs,sa,mf,vf,nu]},Ln={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D_={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||M_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Zo=Gi.inject(D_),Qt=Gi}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;Nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(G(200));return P_(e,t,null,r)};Nt.createRoot=function(e,t){if(!hu(e))throw Error(G(299));var r=!1,s="",n=eg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=lu(e,1,!1,null,null,r,!1,s,n),e[fr]=t.current,ti(e.nodeType===8?e.parentNode:e),new uu(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=wf(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return ws(e)};Nt.hydrate=function(e,t,r){if(!da(t))throw Error(G(200));return fa(null,e,t,!0,r)};Nt.hydrateRoot=function(e,t,r){if(!hu(e))throw Error(G(405));var s=r!=null&&r.hydratedSources||null,n=!1,i="",c=eg;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=Zp(t,null,e,1,r??null,n,!1,i,c),e[fr]=t.current,ti(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new ha(t)};Nt.render=function(e,t,r){if(!da(t))throw Error(G(200));return fa(null,e,t,!1,r)};Nt.unmountComponentAtNode=function(e){if(!da(e))throw Error(G(40));return e._reactRootContainer?(ws(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1};Nt.unstable_batchedUpdates=nu;Nt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!da(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return fa(e,t,r,!1,s)};Nt.version="18.3.1-next-f1338f8080-20240426";function tg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tg)}catch(e){console.error(e)}}tg(),ef.exports=Nt;var $_=ef.exports,Mh=$_;cl.createRoot=Mh.createRoot,cl.hydrateRoot=Mh.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ui.apply(this,arguments)}var Lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lr||(Lr={}));const Ih="popstate";function F_(e){e===void 0&&(e={});function t(s,n){let{pathname:i,search:c,hash:o}=s.location;return rc("",{pathname:i,search:c,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:rg(n)}return U_(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function du(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H_(){return Math.random().toString(36).substr(2,8)}function Bh(e,t){return{usr:e.state,key:e.key,idx:t}}function rc(e,t,r,s){return r===void 0&&(r=null),ui({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vn(t):t,{state:r,key:t&&t.key||s||H_()})}function rg(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function vn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function U_(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,c=n.history,o=Lr.Pop,l=null,h=m();h==null&&(h=0,c.replaceState(ui({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function f(){o=Lr.Pop;let u=m(),p=u==null?null:u-h;h=u,l&&l({action:o,location:_.location,delta:p})}function v(u,p){o=Lr.Push;let d=rc(_.location,u,p);h=m()+1;let g=Bh(d,h),y=_.createHref(d);try{c.pushState(g,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(y)}i&&l&&l({action:o,location:_.location,delta:1})}function x(u,p){o=Lr.Replace;let d=rc(_.location,u,p);h=m();let g=Bh(d,h),y=_.createHref(d);c.replaceState(g,"",y),i&&l&&l({action:o,location:_.location,delta:0})}function b(u){let p=n.location.origin!=="null"?n.location.origin:n.location.href,d=typeof u=="string"?u:rg(u);return d=d.replace(/ $/,"%20"),Fe(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let _={get action(){return o},get location(){return e(n,c)},listen(u){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Ih,f),l=u,()=>{n.removeEventListener(Ih,f),l=null}},createHref(u){return t(n,u)},createURL:b,encodeLocation(u){let p=b(u);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:v,replace:x,go(u){return c.go(u)}};return _}var Dh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dh||(Dh={}));function z_(e,t,r){return r===void 0&&(r="/"),W_(e,t,r)}function W_(e,t,r,s){let n=typeof t=="string"?vn(t):t,i=ig(n.pathname||"/",r);if(i==null)return null;let c=sg(e);V_(c);let o=null;for(let l=0;o==null&&l<c.length;++l){let h=sy(i);o=ey(c[l],h)}return o}function sg(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(i,c,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let h=fs([s,l.relativePath]),m=r.concat(l);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),sg(i.children,t,m,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:Q_(h,i.index),routesMeta:m})};return e.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,c);else for(let l of ng(i.path))n(i,c,l)}),t}function ng(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let c=ng(s.join("/")),o=[];return o.push(...c.map(l=>l===""?i:[i,l].join("/"))),n&&o.push(...c),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function V_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Z_(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const K_=/^:[\w-]+$/,q_=3,G_=2,Y_=1,J_=10,X_=-2,$h=e=>e==="*";function Q_(e,t){let r=e.split("/"),s=r.length;return r.some($h)&&(s+=X_),t&&(s+=G_),r.filter(n=>!$h(n)).reduce((n,i)=>n+(K_.test(i)?q_:i===""?Y_:J_),s)}function Z_(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function ey(e,t,r){let{routesMeta:s}=e,n={},i="/",c=[];for(let o=0;o<s.length;++o){let l=s[o],h=o===s.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=ty({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},m),v=l.route;if(!f)return null;Object.assign(n,f.params),c.push({params:n,pathname:fs([i,f.pathname]),pathnameBase:ly(fs([i,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(i=fs([i,f.pathnameBase]))}return c}function ty(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=ry(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],c=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((h,m,f)=>{let{paramName:v,isOptional:x}=m;if(v==="*"){let _=o[f]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const b=o[f];return x&&!b?h[v]=void 0:h[v]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:e}}function ry(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),du(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function sy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return du(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ig(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iy=e=>ny.test(e);function oy(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?vn(e):e,i;if(r)if(iy(r))i=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),du(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?i=Fh(r.substring(1),"/"):i=Fh(r,t)}else i=t;return{pathname:i,search:cy(s),hash:uy(n)}}function Fh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Xa(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ay(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function og(e,t){let r=ay(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function ag(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=vn(e):(n=ui({},e),Fe(!n.pathname||!n.pathname.includes("?"),Xa("?","pathname","search",n)),Fe(!n.pathname||!n.pathname.includes("#"),Xa("#","pathname","hash",n)),Fe(!n.search||!n.search.includes("#"),Xa("#","search","hash",n)));let i=e===""||n.pathname==="",c=i?"/":n.pathname,o;if(c==null)o=r;else{let f=t.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),f-=1;n.pathname=v.join("/")}o=f>=0?t[f]:"/"}let l=oy(n,o),h=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(h||m)&&(l.pathname+="/"),l}const fs=e=>e.join("/").replace(/\/\/+/g,"/"),ly=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lg=["post","put","patch","delete"];new Set(lg);const dy=["get",...lg];new Set(dy);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hi.apply(this,arguments)}const fu=M.createContext(null),fy=M.createContext(null),Si=M.createContext(null),pa=M.createContext(null),ks=M.createContext({outlet:null,matches:[],isDataRoute:!1}),cg=M.createContext(null);function Ci(){return M.useContext(pa)!=null}function pu(){return Ci()||Fe(!1),M.useContext(pa).location}function ug(e){M.useContext(Si).static||M.useLayoutEffect(e)}function sr(){let{isDataRoute:e}=M.useContext(ks);return e?ky():py()}function py(){Ci()||Fe(!1);let e=M.useContext(fu),{basename:t,future:r,navigator:s}=M.useContext(Si),{matches:n}=M.useContext(ks),{pathname:i}=pu(),c=JSON.stringify(og(n,r.v7_relativeSplatPath)),o=M.useRef(!1);return ug(()=>{o.current=!0}),M.useCallback(function(h,m){if(m===void 0&&(m={}),!o.current)return;if(typeof h=="number"){s.go(h);return}let f=ag(h,JSON.parse(c),i,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:fs([t,f.pathname])),(m.replace?s.replace:s.push)(f,m.state,m)},[t,s,c,i,e])}function gy(e,t){return my(e,t)}function my(e,t,r,s){Ci()||Fe(!1);let{navigator:n}=M.useContext(Si),{matches:i}=M.useContext(ks),c=i[i.length-1],o=c?c.params:{};c&&c.pathname;let l=c?c.pathnameBase:"/";c&&c.route;let h=pu(),m;if(t){var f;let u=typeof t=="string"?vn(t):t;l==="/"||(f=u.pathname)!=null&&f.startsWith(l)||Fe(!1),m=u}else m=h;let v=m.pathname||"/",x=v;if(l!=="/"){let u=l.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(u.length).join("/")}let b=z_(e,{pathname:x}),_=by(b&&b.map(u=>Object.assign({},u,{params:Object.assign({},o,u.params),pathname:fs([l,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?l:fs([l,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),i,r,s);return t&&_?M.createElement(pa.Provider,{value:{location:hi({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Lr.Pop}},_):_}function vy(){let e=Ey(),t=hy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:n},r):null,null)}const _y=M.createElement(vy,null);class yy extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(ks.Provider,{value:this.props.routeContext},M.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xy(e){let{routeContext:t,match:r,children:s}=e,n=M.useContext(fu);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(ks.Provider,{value:t},s)}function by(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let m=c.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);m>=0||Fe(!1),c=c.slice(0,Math.min(c.length,m+1))}let l=!1,h=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<c.length;m++){let f=c[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=m),f.route.id){let{loaderData:v,errors:x}=r,b=f.route.loader&&v[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){l=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,f,v)=>{let x,b=!1,_=null,u=null;r&&(x=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||_y,l&&(h<0&&v===0?(jy("route-fallback"),b=!0,u=null):h===v&&(b=!0,u=f.route.hydrateFallbackElement||null)));let p=t.concat(c.slice(0,v+1)),d=()=>{let g;return x?g=_:b?g=u:f.route.Component?g=M.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=m,M.createElement(xy,{match:f,routeContext:{outlet:m,matches:p,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?M.createElement(yy,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):d()},null)}var hg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hg||{}),dg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dg||{});function wy(e){let t=M.useContext(fu);return t||Fe(!1),t}function Sy(e){let t=M.useContext(fy);return t||Fe(!1),t}function Cy(e){let t=M.useContext(ks);return t||Fe(!1),t}function fg(e){let t=Cy(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function Ey(){var e;let t=M.useContext(cg),r=Sy(),s=fg();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function ky(){let{router:e}=wy(hg.UseNavigateStable),t=fg(dg.UseNavigateStable),r=M.useRef(!1);return ug(()=>{r.current=!0}),M.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,hi({fromRouteId:t},i)))},[e,t])}const Hh={};function jy(e,t,r){Hh[e]||(Hh[e]=!0)}function Ny(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ly(e){let{to:t,replace:r,state:s,relative:n}=e;Ci()||Fe(!1);let{future:i,static:c}=M.useContext(Si),{matches:o}=M.useContext(ks),{pathname:l}=pu(),h=sr(),m=ag(t,og(o,i.v7_relativeSplatPath),l,n==="path"),f=JSON.stringify(m);return M.useEffect(()=>h(JSON.parse(f),{replace:r,state:s,relative:n}),[h,f,n,r,s]),null}function ir(e){Fe(!1)}function Ry(e){let{basename:t="/",children:r=null,location:s,navigationType:n=Lr.Pop,navigator:i,static:c=!1,future:o}=e;Ci()&&Fe(!1);let l=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:l,navigator:i,static:c,future:hi({v7_relativeSplatPath:!1},o)}),[l,o,i,c]);typeof s=="string"&&(s=vn(s));let{pathname:m="/",search:f="",hash:v="",state:x=null,key:b="default"}=s,_=M.useMemo(()=>{let u=ig(m,l);return u==null?null:{location:{pathname:u,search:f,hash:v,state:x,key:b},navigationType:n}},[l,m,f,v,x,b,n]);return _==null?null:M.createElement(Si.Provider,{value:h},M.createElement(pa.Provider,{children:r,value:_}))}function Ay(e){let{children:t,location:r}=e;return gy(sc(t),r)}new Promise(()=>{});function sc(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(s,n)=>{if(!M.isValidElement(s))return;let i=[...t,n];if(s.type===M.Fragment){r.push.apply(r,sc(s.props.children,i));return}s.type!==ir&&Fe(!1),!s.props.index||!s.props.children||Fe(!1);let c={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=sc(s.props.children,i)),r.push(c)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ty="6";try{window.__reactRouterVersion=Ty}catch{}const Oy="startTransition",Uh=Nm[Oy];function Py(e){let{basename:t,children:r,future:s,window:n}=e,i=M.useRef();i.current==null&&(i.current=F_({window:n,v5Compat:!0}));let c=i.current,[o,l]=M.useState({action:c.action,location:c.location}),{v7_startTransition:h}=s||{},m=M.useCallback(f=>{h&&Uh?Uh(()=>l(f)):l(f)},[l,h]);return M.useLayoutEffect(()=>c.listen(m),[c,m]),M.useEffect(()=>Ny(s),[s]),M.createElement(Ry,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:c,future:s})}var zh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zh||(zh={}));var Wh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wh||(Wh={}));function My(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Vh={};function nc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&Vh[t[0]]||(typeof t[0]=="string"&&(Vh[t[0]]=new Date),My(...t))}const pg=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function Kh(e,t,r){e.loadNamespaces(t,pg(e,r))}function qh(e,t,r,s){typeof r=="string"&&(r=[r]),r.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,pg(e,s))}function Iy(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=t.languages[0],n=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(o,l)=>{const h=t.services.backendConnector.state[`${o}|${l}`];return h===-1||h===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!c(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(s,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||c(s,e)&&(!n||c(i,e)))}function By(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(nc("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e))return!1}}):Iy(e,t,r)}const Dy=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$y={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Fy=e=>$y[e],Hy=e=>e.replace(Dy,Fy);let ic={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Hy};function Uy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ic={...ic,...e}}function zy(){return ic}let gg;function Wy(e){gg=e}function Vy(){return gg}const Ky={type:"3rdParty",init(e){Uy(e.options.react),Wy(e)}},qy=M.createContext();class Gy{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Yy=(e,t)=>{const r=M.useRef();return M.useEffect(()=>{r.current=e},[e,t]),r.current};function br(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:s,defaultNS:n}=M.useContext(qy)||{},i=r||s||Vy();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Gy),!i){nc("You will need to pass in an i18next instance by using initReactI18next");const g=(S,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(S)?S[S.length-1]:S,y=[g,{},!1];return y.t=g,y.i18n={},y.ready=!1,y}i.options.react&&i.options.react.wait!==void 0&&nc("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...zy(),...i.options.react,...t},{useSuspense:o,keyPrefix:l}=c;let h=n||i.options&&i.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(h);const m=(i.isInitialized||i.initializedStoreOnce)&&h.every(g=>By(g,i,c));function f(){return i.getFixedT(t.lng||null,c.nsMode==="fallback"?h:h[0],l)}const[v,x]=M.useState(f);let b=h.join();t.lng&&(b=`${t.lng}${b}`);const _=Yy(b),u=M.useRef(!0);M.useEffect(()=>{const{bindI18n:g,bindI18nStore:y}=c;u.current=!0,!m&&!o&&(t.lng?qh(i,t.lng,h,()=>{u.current&&x(f)}):Kh(i,h,()=>{u.current&&x(f)})),m&&_&&_!==b&&u.current&&x(f);function S(){u.current&&x(f)}return g&&i&&i.on(g,S),y&&i&&i.store.on(y,S),()=>{u.current=!1,g&&i&&g.split(" ").forEach(E=>i.off(E,S)),y&&i&&y.split(" ").forEach(E=>i.store.off(E,S))}},[i,b]);const p=M.useRef(!0);M.useEffect(()=>{u.current&&!p.current&&x(f),p.current=!1},[i,l]);const d=[v,i,m];if(d.t=v,d.i18n=i,d.ready=m,m||!m&&!o)return d;throw new Promise(g=>{t.lng?qh(i,t.lng,h,()=>g()):Kh(i,h,()=>g())})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=M.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:l,...h},m)=>M.createElement("svg",{ref:m,...Jy,width:n,height:n,stroke:s,strokeWidth:c?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Xy(e)}`,o].join(" "),...h},[...t.map(([f,v])=>M.createElement(f,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ce("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ce("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ce("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ce("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ce("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ce("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ce("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ce("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ce("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=ce("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ce("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ce("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ce("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ce("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ce("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ce("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ce("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mx={},Jh=e=>{let t;const r=new Set,s=(m,f)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const x=t;t=f??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(b=>b(t,x))}},n=()=>t,l={setState:s,getState:n,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{(mx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=t=e(s,n,l);return l},vx=e=>e?Jh(e):Jh;var Cg={exports:{}},Eg={},kg={exports:{}},jg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hn=M;function _x(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yx=typeof Object.is=="function"?Object.is:_x,xx=hn.useState,bx=hn.useEffect,wx=hn.useLayoutEffect,Sx=hn.useDebugValue;function Cx(e,t){var r=t(),s=xx({inst:{value:r,getSnapshot:t}}),n=s[0].inst,i=s[1];return wx(function(){n.value=r,n.getSnapshot=t,Qa(n)&&i({inst:n})},[e,r,t]),bx(function(){return Qa(n)&&i({inst:n}),e(function(){Qa(n)&&i({inst:n})})},[e]),Sx(r),r}function Qa(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yx(e,r)}catch{return!0}}function Ex(e,t){return t()}var kx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ex:Cx;jg.useSyncExternalStore=hn.useSyncExternalStore!==void 0?hn.useSyncExternalStore:kx;kg.exports=jg;var jx=kg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=M,Nx=jx;function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rx=typeof Object.is=="function"?Object.is:Lx,Ax=Nx.useSyncExternalStore,Tx=ga.useRef,Ox=ga.useEffect,Px=ga.useMemo,Mx=ga.useDebugValue;Eg.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var i=Tx(null);if(i.current===null){var c={hasValue:!1,value:null};i.current=c}else c=i.current;i=Px(function(){function l(x){if(!h){if(h=!0,m=x,x=s(x),n!==void 0&&c.hasValue){var b=c.value;if(n(b,x))return f=b}return f=x}if(b=f,Rx(m,x))return b;var _=s(x);return n!==void 0&&n(b,_)?(m=x,b):(m=x,f=_)}var h=!1,m,f,v=r===void 0?null:r;return[function(){return l(t())},v===null?void 0:function(){return l(v())}]},[t,r,s,n]);var o=Ax(e,i[0],i[1]);return Ox(function(){c.hasValue=!0,c.value=o},[o]),Mx(o),o};Cg.exports=Eg;var Ix=Cg.exports;const Bx=Ud(Ix),Ng={},{useDebugValue:Dx}=bc,{useSyncExternalStoreWithSelector:$x}=Bx;let Xh=!1;const Fx=e=>e;function Hx(e,t=Fx,r){(Ng?"production":void 0)!=="production"&&r&&!Xh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xh=!0);const s=$x(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Dx(s),s}const Qh=e=>{(Ng?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?vx(e):e,r=(s,n)=>Hx(t,s,n);return Object.assign(r,t),r},Ux=e=>e?Qh(e):Qh,zx={};function Wx(e,t){let r;try{r=e()}catch{return}return{getItem:n=>{var i;const c=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(n))!=null?i:null;return o instanceof Promise?o.then(c):c(o)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const di=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return di(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return di(s)(r)}}}},Vx=(e,t)=>(r,s,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,p)=>({...p,...u}),...t},c=!1;const o=new Set,l=new Set;let h;try{h=i.getStorage()}catch{}if(!h)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...u)},s,n);const m=di(i.serialize),f=()=>{const u=i.partialize({...s()});let p;const d=m({state:u,version:i.version}).then(g=>h.setItem(i.name,g)).catch(g=>{p=g});if(p)throw p;return d},v=n.setState;n.setState=(u,p)=>{v(u,p),f()};const x=e((...u)=>{r(...u),f()},s,n);let b;const _=()=>{var u;if(!h)return;c=!1,o.forEach(d=>d(s()));const p=((u=i.onRehydrateStorage)==null?void 0:u.call(i,s()))||void 0;return di(h.getItem.bind(h))(i.name).then(d=>{if(d)return i.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return i.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var g;return b=i.merge(d,(g=s())!=null?g:x),r(b,!0),f()}).then(()=>{p==null||p(b,void 0),c=!0,l.forEach(d=>d(b))}).catch(d=>{p==null||p(void 0,d)})};return n.persist={setOptions:u=>{i={...i,...u},u.getStorage&&(h=u.getStorage())},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>_(),hasHydrated:()=>c,onHydrate:u=>(o.add(u),()=>{o.delete(u)}),onFinishHydration:u=>(l.add(u),()=>{l.delete(u)})},_(),b||x},Kx=(e,t)=>(r,s,n)=>{let i={storage:Wx(()=>localStorage),partialize:_=>_,version:0,merge:(_,u)=>({...u,..._}),...t},c=!1;const o=new Set,l=new Set;let h=i.storage;if(!h)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(..._)},s,n);const m=()=>{const _=i.partialize({...s()});return h.setItem(i.name,{state:_,version:i.version})},f=n.setState;n.setState=(_,u)=>{f(_,u),m()};const v=e((..._)=>{r(..._),m()},s,n);n.getInitialState=()=>v;let x;const b=()=>{var _,u;if(!h)return;c=!1,o.forEach(d=>{var g;return d((g=s())!=null?g:v)});const p=((u=i.onRehydrateStorage)==null?void 0:u.call(i,(_=s())!=null?_:v))||void 0;return di(h.getItem.bind(h))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return[!0,i.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var g;const[y,S]=d;if(x=i.merge(S,(g=s())!=null?g:v),r(x,!0),y)return m()}).then(()=>{p==null||p(x,void 0),x=s(),c=!0,l.forEach(d=>d(x))}).catch(d=>{p==null||p(void 0,d)})};return n.persist={setOptions:_=>{i={...i,..._},_.storage&&(h=_.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>c,onHydrate:_=>(o.add(_),()=>{o.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},i.skipHydration||b(),x||v},qx=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((zx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Vx(e,t)):Kx(e,t),Gx=qx,Gr=Ux(Gx(e=>({theme:"light",toggleTheme:()=>e(t=>({theme:t.theme==="dark"?"light":"dark"})),setTheme:t=>e({theme:t})}),{name:"dma-theme"})),Yr="v0.9.1";function Yx(){const{t:e,i18n:t}=br(),r=sr(),[s,n]=M.useState(""),[i,c]=M.useState(""),[o,l]=M.useState(!1),{theme:h,toggleTheme:m}=Gr(),f=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},v=async b=>{if(b.preventDefault(),s&&i){l(!0);try{const u=await(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:i})})).json();u.success?(localStorage.setItem("dma_token",u.token),r("/")):alert(u.message||"")}catch(_){console.error("Login error:",_),alert(""+_.message)}finally{l(!1)}}},x=h==="dark";return a.jsxs("div",{className:`min-h-screen ${x?"bg-gradient-to-br from-gray-900 via-blue-900 to-cyan-900":"bg-gradient-to-br from-blue-50 via-cyan-50 to-gray-100"} flex items-center justify-center p-4`,children:[a.jsxs("div",{className:"fixed top-6 right-6 flex gap-3",children:[a.jsx("button",{onClick:f,className:`${x?"glass glass-hover text-white":"bg-white/80 hover:bg-white shadow-sm text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:m,className:`${x?"glass glass-hover text-white":"bg-white/80 hover:bg-white shadow-sm text-gray-700"} p-3 rounded-lg transition-all`,children:x?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:`${x?"glass":"bg-white/90 shadow-xl"} w-full max-w-md rounded-2xl p-8 backdrop-blur-sm`,children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/logo.png",alt:"Docker Manager App",className:"w-24 h-24"})}),a.jsxs("h1",{className:`text-2xl font-bold text-center mb-2 ${x?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:[e("app.name")," ",a.jsx("span",{className:"text-sm font-mono text-gray-500 ml-2",children:Yr})]}),a.jsx("p",{className:`text-center mb-8 ${x?"text-gray-400":"text-gray-600"}`,children:e("app.welcome")}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:e("auth.username")}),a.jsx("input",{type:"text",value:s,onChange:b=>n(b.target.value),className:`w-full px-4 py-3 rounded-lg ${x?"glass":"bg-gray-50 border border-gray-200"} focus:outline-none focus:ring-2 focus:ring-cyan-500 ${x?"text-white":"text-gray-900"}`,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:e("auth.password")}),a.jsx("input",{type:"password",value:i,onChange:b=>c(b.target.value),className:`w-full px-4 py-3 rounded-lg ${x?"glass":"bg-gray-50 border border-gray-200"} focus:outline-none focus:ring-2 focus:ring-cyan-500 ${x?"text-white":"text-gray-900"}`,disabled:o})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-semibold py-3 rounded-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lx,{className:"w-5 h-5"}),e("auth.loginButton")]})})]})]})]})}function Lg(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jx}=Object.prototype,{getPrototypeOf:vu}=Object,{iterator:ma,toStringTag:Rg}=Symbol,va=(e=>t=>{const r=Jx.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>va(t)===e),_a=e=>t=>typeof t===e,{isArray:yn}=Array,dn=_a("undefined");function ki(e){return e!==null&&!dn(e)&&e.constructor!==null&&!dn(e.constructor)&&bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ag=Vt("ArrayBuffer");function Xx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ag(e.buffer),t}const Qx=_a("string"),bt=_a("function"),Tg=_a("number"),ji=e=>e!==null&&typeof e=="object",Zx=e=>e===!0||e===!1,ho=e=>{if(va(e)!=="object")return!1;const t=vu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Rg in e)&&!(ma in e)},e1=e=>{if(!ji(e)||ki(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},t1=Vt("Date"),r1=Vt("File"),s1=Vt("Blob"),n1=Vt("FileList"),i1=e=>ji(e)&&bt(e.pipe),o1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bt(e.append)&&((t=va(e))==="formdata"||t==="object"&&bt(e.toString)&&e.toString()==="[object FormData]"))},a1=Vt("URLSearchParams"),[l1,c1,u1,h1]=["ReadableStream","Request","Response","Headers"].map(Vt),d1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ni(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),yn(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(ki(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let o;for(s=0;s<c;s++)o=i[s],t.call(null,e[o],o,e)}}function Og(e,t){if(ki(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pg=e=>!dn(e)&&e!==us;function oc(){const{caseless:e,skipUndefined:t}=Pg(this)&&this||{},r={},s=(n,i)=>{const c=e&&Og(r,i)||i;ho(r[c])&&ho(n)?r[c]=oc(r[c],n):ho(n)?r[c]=oc({},n):yn(n)?r[c]=n.slice():(!t||!dn(n))&&(r[c]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ni(arguments[n],s);return r}const f1=(e,t,r,{allOwnKeys:s}={})=>(Ni(t,(n,i)=>{r&&bt(n)?e[i]=Lg(n,r):e[i]=n},{allOwnKeys:s}),e),p1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),g1=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},m1=(e,t,r,s)=>{let n,i,c;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)c=n[i],(!s||s(c,e,t))&&!o[c]&&(t[c]=e[c],o[c]=!0);e=r!==!1&&vu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},v1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},_1=e=>{if(!e)return null;if(yn(e))return e;let t=e.length;if(!Tg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},y1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vu(Uint8Array)),x1=(e,t)=>{const s=(e&&e[ma]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},b1=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},w1=Vt("HTMLFormElement"),S1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Zh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),C1=Vt("RegExp"),Mg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Ni(r,(n,i)=>{let c;(c=t(n,i,e))!==!1&&(s[i]=c||n)}),Object.defineProperties(e,s)},E1=e=>{Mg(e,(t,r)=>{if(bt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(bt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},k1=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return yn(e)?s(e):s(String(e).split(t)),r},j1=()=>{},N1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function L1(e){return!!(e&&bt(e.append)&&e[Rg]==="FormData"&&e[ma])}const R1=e=>{const t=new Array(10),r=(s,n)=>{if(ji(s)){if(t.indexOf(s)>=0)return;if(ki(s))return s;if(!("toJSON"in s)){t[n]=s;const i=yn(s)?[]:{};return Ni(s,(c,o)=>{const l=r(c,n+1);!dn(l)&&(i[o]=l)}),t[n]=void 0,i}}return s};return r(e,0)},A1=Vt("AsyncFunction"),T1=e=>e&&(ji(e)||bt(e))&&bt(e.then)&&bt(e.catch),Ig=((e,t)=>e?setImmediate:t?((r,s)=>(us.addEventListener("message",({source:n,data:i})=>{n===us&&i===r&&s.length&&s.shift()()},!1),n=>{s.push(n),us.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",bt(us.postMessage)),O1=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||Ig,P1=e=>e!=null&&bt(e[ma]),H={isArray:yn,isArrayBuffer:Ag,isBuffer:ki,isFormData:o1,isArrayBufferView:Xx,isString:Qx,isNumber:Tg,isBoolean:Zx,isObject:ji,isPlainObject:ho,isEmptyObject:e1,isReadableStream:l1,isRequest:c1,isResponse:u1,isHeaders:h1,isUndefined:dn,isDate:t1,isFile:r1,isBlob:s1,isRegExp:C1,isFunction:bt,isStream:i1,isURLSearchParams:a1,isTypedArray:y1,isFileList:n1,forEach:Ni,merge:oc,extend:f1,trim:d1,stripBOM:p1,inherits:g1,toFlatObject:m1,kindOf:va,kindOfTest:Vt,endsWith:v1,toArray:_1,forEachEntry:x1,matchAll:b1,isHTMLForm:w1,hasOwnProperty:Zh,hasOwnProp:Zh,reduceDescriptors:Mg,freezeMethods:E1,toObjectSet:k1,toCamelCase:S1,noop:j1,toFiniteNumber:N1,findKey:Og,global:us,isContextDefined:Pg,isSpecCompliantForm:L1,toJSONObject:R1,isAsyncFn:A1,isThenable:T1,setImmediate:Ig,asap:O1,isIterable:P1};function fe(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}H.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const Bg=fe.prototype,Dg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dg[e]={value:e}});Object.defineProperties(fe,Dg);Object.defineProperty(Bg,"isAxiosError",{value:!0});fe.from=(e,t,r,s,n,i)=>{const c=Object.create(Bg);H.toFlatObject(e,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const o=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return fe.call(c,o,l,r,s,n),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",i&&Object.assign(c,i),c};const M1=null;function ac(e){return H.isPlainObject(e)||H.isArray(e)}function $g(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function ed(e,t,r){return e?e.concat(t).map(function(n,i){return n=$g(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function I1(e){return H.isArray(e)&&!e.some(ac)}const B1=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function ya(e,t,r){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,u){return!H.isUndefined(u[_])});const s=r.metaTokens,n=r.visitor||m,i=r.dots,c=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(n))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(H.isDate(b))return b.toISOString();if(H.isBoolean(b))return b.toString();if(!l&&H.isBlob(b))throw new fe("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(b)||H.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,_,u){let p=b;if(b&&!u&&typeof b=="object"){if(H.endsWith(_,"{}"))_=s?_:_.slice(0,-2),b=JSON.stringify(b);else if(H.isArray(b)&&I1(b)||(H.isFileList(b)||H.endsWith(_,"[]"))&&(p=H.toArray(b)))return _=$g(_),p.forEach(function(g,y){!(H.isUndefined(g)||g===null)&&t.append(c===!0?ed([_],y,i):c===null?_:_+"[]",h(g))}),!1}return ac(b)?!0:(t.append(ed(u,_,i),h(b)),!1)}const f=[],v=Object.assign(B1,{defaultVisitor:m,convertValue:h,isVisitable:ac});function x(b,_){if(!H.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(b),H.forEach(b,function(p,d){(!(H.isUndefined(p)||p===null)&&n.call(t,p,H.isString(d)?d.trim():d,_,v))===!0&&x(p,_?_.concat(d):[d])}),f.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return x(e),t}function td(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function _u(e,t){this._pairs=[],e&&ya(e,this,t)}const Fg=_u.prototype;Fg.append=function(t,r){this._pairs.push([t,r])};Fg.toString=function(t){const r=t?function(s){return t.call(this,s,td)}:td;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function D1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hg(e,t,r){if(!t)return e;const s=r&&r.encode||D1;H.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(t,r):i=H.isURLSearchParams(t)?t.toString():new _u(t,r).toString(s),i){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class rd{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Ug={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$1=typeof URLSearchParams<"u"?URLSearchParams:_u,F1=typeof FormData<"u"?FormData:null,H1=typeof Blob<"u"?Blob:null,U1={isBrowser:!0,classes:{URLSearchParams:$1,FormData:F1,Blob:H1},protocols:["http","https","file","blob","url","data"]},yu=typeof window<"u"&&typeof document<"u",lc=typeof navigator=="object"&&navigator||void 0,z1=yu&&(!lc||["ReactNative","NativeScript","NS"].indexOf(lc.product)<0),W1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V1=yu&&window.location.href||"http://localhost",K1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yu,hasStandardBrowserEnv:z1,hasStandardBrowserWebWorkerEnv:W1,navigator:lc,origin:V1},Symbol.toStringTag,{value:"Module"})),nt={...K1,...U1};function q1(e,t){return ya(e,new nt.classes.URLSearchParams,{visitor:function(r,s,n,i){return nt.isNode&&H.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function G1(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Y1(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function zg(e){function t(r,s,n,i){let c=r[i++];if(c==="__proto__")return!0;const o=Number.isFinite(+c),l=i>=r.length;return c=!c&&H.isArray(n)?n.length:c,l?(H.hasOwnProp(n,c)?n[c]=[n[c],s]:n[c]=s,!o):((!n[c]||!H.isObject(n[c]))&&(n[c]=[]),t(r,s,n[c],i)&&H.isArray(n[c])&&(n[c]=Y1(n[c])),!o)}if(H.isFormData(e)&&H.isFunction(e.entries)){const r={};return H.forEachEntry(e,(s,n)=>{t(G1(s),n,r,0)}),r}return null}function J1(e,t,r){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Li={transitional:Ug,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return n?JSON.stringify(zg(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return q1(t,this.formSerializer).toString();if((o=H.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ya(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),J1(t)):t}],transformResponse:[function(t){const r=this.transitional||Li.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(s&&!this.responseType||n)){const c=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(c)throw o.name==="SyntaxError"?fe.from(o,fe.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{Li.headers[e]={}});const X1=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q1=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(c){n=c.indexOf(":"),r=c.substring(0,n).trim().toLowerCase(),s=c.substring(n+1).trim(),!(!r||t[r]&&X1[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},sd=Symbol("internals");function Rn(e){return e&&String(e).trim().toLowerCase()}function fo(e){return e===!1||e==null?e:H.isArray(e)?e.map(fo):String(e)}function Z1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const eb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Za(e,t,r,s,n){if(H.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!H.isString(t)){if(H.isString(s))return t.indexOf(s)!==-1;if(H.isRegExp(s))return s.test(t)}}function tb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function rb(e,t){const r=H.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,c){return this[s].call(this,t,n,i,c)},configurable:!0})})}let wt=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(o,l,h){const m=Rn(l);if(!m)throw new Error("header name must be a non-empty string");const f=H.findKey(n,m);(!f||n[f]===void 0||h===!0||h===void 0&&n[f]!==!1)&&(n[f||l]=fo(o))}const c=(o,l)=>H.forEach(o,(h,m)=>i(h,m,l));if(H.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(H.isString(t)&&(t=t.trim())&&!eb(t))c(Q1(t),r);else if(H.isObject(t)&&H.isIterable(t)){let o={},l,h;for(const m of t){if(!H.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[h=m[0]]=(l=o[h])?H.isArray(l)?[...l,m[1]]:[l,m[1]]:m[1]}c(o,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Rn(t),t){const s=H.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return Z1(n);if(H.isFunction(r))return r.call(this,n,s);if(H.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Rn(t),t){const s=H.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Za(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(c){if(c=Rn(c),c){const o=H.findKey(s,c);o&&(!r||Za(s,s[o],o,r))&&(delete s[o],n=!0)}}return H.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||Za(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return H.forEach(this,(n,i)=>{const c=H.findKey(s,i);if(c){r[c]=fo(n),delete r[i];return}const o=t?tb(i):String(i).trim();o!==i&&delete r[i],r[o]=fo(n),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return H.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&H.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[sd]=this[sd]={accessors:{}}).accessors,n=this.prototype;function i(c){const o=Rn(c);s[o]||(rb(n,c),s[o]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(wt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});H.freezeMethods(wt);function el(e,t){const r=this||Li,s=t||r,n=wt.from(s.headers);let i=s.data;return H.forEach(e,function(o){i=o.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Wg(e){return!!(e&&e.__CANCEL__)}function xn(e,t,r){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,r),this.name="CanceledError"}H.inherits(xn,fe,{__CANCEL__:!0});function Vg(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new fe("Request failed with status code "+r.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nb(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,c;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),m=s[i];c||(c=h),r[n]=l,s[n]=h;let f=i,v=0;for(;f!==n;)v+=r[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),h-c<t)return;const x=m&&h-m;return x?Math.round(v*1e3/x):void 0}}function ib(e,t){let r=0,s=1e3/t,n,i;const c=(h,m=Date.now())=>{r=m,n=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const m=Date.now(),f=m-r;f>=s?c(h,m):(n=h,i||(i=setTimeout(()=>{i=null,c(n)},s-f)))},()=>n&&c(n)]}const Uo=(e,t,r=3)=>{let s=0;const n=nb(50,250);return ib(i=>{const c=i.loaded,o=i.lengthComputable?i.total:void 0,l=c-s,h=n(l),m=c<=o;s=c;const f={loaded:c,total:o,progress:o?c/o:void 0,bytes:l,rate:h||void 0,estimated:h&&o&&m?(o-c)/h:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},nd=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},id=e=>(...t)=>H.asap(()=>e(...t)),ob=nt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,nt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,ab=nt.hasStandardBrowserEnv?{write(e,t,r,s,n,i,c){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];H.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),H.isString(s)&&o.push(`path=${s}`),H.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),H.isString(c)&&o.push(`SameSite=${c}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Kg(e,t,r){let s=!lb(t);return e&&(s||r==!1)?cb(e,t):t}const od=e=>e instanceof wt?{...e}:e;function Ss(e,t){t=t||{};const r={};function s(h,m,f,v){return H.isPlainObject(h)&&H.isPlainObject(m)?H.merge.call({caseless:v},h,m):H.isPlainObject(m)?H.merge({},m):H.isArray(m)?m.slice():m}function n(h,m,f,v){if(H.isUndefined(m)){if(!H.isUndefined(h))return s(void 0,h,f,v)}else return s(h,m,f,v)}function i(h,m){if(!H.isUndefined(m))return s(void 0,m)}function c(h,m){if(H.isUndefined(m)){if(!H.isUndefined(h))return s(void 0,h)}else return s(void 0,m)}function o(h,m,f){if(f in t)return s(h,m);if(f in e)return s(void 0,h)}const l={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:o,headers:(h,m,f)=>n(od(h),od(m),f,!0)};return H.forEach(Object.keys({...e,...t}),function(m){const f=l[m]||n,v=f(e[m],t[m],m);H.isUndefined(v)&&f!==o||(r[m]=v)}),r}const qg=e=>{const t=Ss({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:c,auth:o}=t;if(t.headers=c=wt.from(c),t.url=Hg(Kg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&c.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),H.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(H.isFunction(r.getHeaders)){const l=r.getHeaders(),h=["content-type","content-length"];Object.entries(l).forEach(([m,f])=>{h.includes(m.toLowerCase())&&c.set(m,f)})}}if(nt.hasStandardBrowserEnv&&(s&&H.isFunction(s)&&(s=s(t)),s||s!==!1&&ob(t.url))){const l=n&&i&&ab.read(i);l&&c.set(n,l)}return t},ub=typeof XMLHttpRequest<"u",hb=ub&&function(e){return new Promise(function(r,s){const n=qg(e);let i=n.data;const c=wt.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:h}=n,m,f,v,x,b;function _(){x&&x(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let u=new XMLHttpRequest;u.open(n.method.toUpperCase(),n.url,!0),u.timeout=n.timeout;function p(){if(!u)return;const g=wt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};Vg(function(k){r(k),_()},function(k){s(k),_()},S),u=null}"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){u&&(s(new fe("Request aborted",fe.ECONNABORTED,e,u)),u=null)},u.onerror=function(y){const S=y&&y.message?y.message:"Network Error",E=new fe(S,fe.ERR_NETWORK,e,u);E.event=y||null,s(E),u=null},u.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const S=n.transitional||Ug;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),s(new fe(y,S.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,u)),u=null},i===void 0&&c.setContentType(null),"setRequestHeader"in u&&H.forEach(c.toJSON(),function(y,S){u.setRequestHeader(S,y)}),H.isUndefined(n.withCredentials)||(u.withCredentials=!!n.withCredentials),o&&o!=="json"&&(u.responseType=n.responseType),h&&([v,b]=Uo(h,!0),u.addEventListener("progress",v)),l&&u.upload&&([f,x]=Uo(l),u.upload.addEventListener("progress",f),u.upload.addEventListener("loadend",x)),(n.cancelToken||n.signal)&&(m=g=>{u&&(s(!g||g.type?new xn(null,e,u):g),u.abort(),u=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const d=sb(n.url);if(d&&nt.protocols.indexOf(d)===-1){s(new fe("Unsupported protocol "+d+":",fe.ERR_BAD_REQUEST,e));return}u.send(i||null)})},db=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const i=function(h){if(!n){n=!0,o();const m=h instanceof Error?h:this.reason;s.abort(m instanceof fe?m:new xn(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,i(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const o=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>H.asap(o),l}},fb=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},pb=async function*(e,t){for await(const r of gb(e))yield*fb(r,t)},gb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},ad=(e,t,r,s)=>{const n=pb(e,t);let i=0,c,o=l=>{c||(c=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:h,value:m}=await n.next();if(h){o(),l.close();return}let f=m.byteLength;if(r){let v=i+=f;r(v)}l.enqueue(new Uint8Array(m))}catch(h){throw o(h),h}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},ld=64*1024,{isFunction:Yi}=H,mb=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:cd,TextEncoder:ud}=H.global,hd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vb=e=>{e=H.merge.call({skipUndefined:!0},mb,e);const{fetch:t,Request:r,Response:s}=e,n=t?Yi(t):typeof fetch=="function",i=Yi(r),c=Yi(s);if(!n)return!1;const o=n&&Yi(cd),l=n&&(typeof ud=="function"?(b=>_=>b.encode(_))(new ud):async b=>new Uint8Array(await new r(b).arrayBuffer())),h=i&&o&&hd(()=>{let b=!1;const _=new r(nt.origin,{body:new cd,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!_}),m=c&&o&&hd(()=>H.isReadableStream(new s("").body)),f={stream:m&&(b=>b.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(_,u)=>{let p=_&&_[b];if(p)return p.call(_);throw new fe(`Response type '${b}' is not supported`,fe.ERR_NOT_SUPPORT,u)})});const v=async b=>{if(b==null)return 0;if(H.isBlob(b))return b.size;if(H.isSpecCompliantForm(b))return(await new r(nt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(H.isArrayBufferView(b)||H.isArrayBuffer(b))return b.byteLength;if(H.isURLSearchParams(b)&&(b=b+""),H.isString(b))return(await l(b)).byteLength},x=async(b,_)=>{const u=H.toFiniteNumber(b.getContentLength());return u??v(_)};return async b=>{let{url:_,method:u,data:p,signal:d,cancelToken:g,timeout:y,onDownloadProgress:S,onUploadProgress:E,responseType:k,headers:w,withCredentials:C="same-origin",fetchOptions:N}=qg(b),O=t||fetch;k=k?(k+"").toLowerCase():"text";let R=db([d,g&&g.toAbortSignal()],y),P=null;const D=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let B;try{if(E&&h&&u!=="get"&&u!=="head"&&(B=await x(w,p))!==0){let I=new r(_,{method:"POST",body:p,duplex:"half"}),z;if(H.isFormData(p)&&(z=I.headers.get("content-type"))&&w.setContentType(z),I.body){const[Y,X]=nd(B,Uo(id(E)));p=ad(I.body,ld,Y,X)}}H.isString(C)||(C=C?"include":"omit");const F=i&&"credentials"in r.prototype,U={...N,signal:R,method:u.toUpperCase(),headers:w.normalize().toJSON(),body:p,duplex:"half",credentials:F?C:void 0};P=i&&new r(_,U);let j=await(i?O(P,N):O(_,U));const A=m&&(k==="stream"||k==="response");if(m&&(S||A&&D)){const I={};["status","statusText","headers"].forEach(Z=>{I[Z]=j[Z]});const z=H.toFiniteNumber(j.headers.get("content-length")),[Y,X]=S&&nd(z,Uo(id(S),!0))||[];j=new s(ad(j.body,ld,Y,()=>{X&&X(),D&&D()}),I)}k=k||"text";let T=await f[H.findKey(f,k)||"text"](j,b);return!A&&D&&D(),await new Promise((I,z)=>{Vg(I,z,{data:T,headers:wt.from(j.headers),status:j.status,statusText:j.statusText,config:b,request:P})})}catch(F){throw D&&D(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,b,P),{cause:F.cause||F}):fe.from(F,F&&F.code,b,P)}}},_b=new Map,Gg=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:n}=t,i=[s,n,r];let c=i.length,o=c,l,h,m=_b;for(;o--;)l=i[o],h=m.get(l),h===void 0&&m.set(l,h=o?new Map:vb(t)),m=h;return h};Gg();const xu={http:M1,xhr:hb,fetch:{get:Gg}};H.forEach(xu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dd=e=>`- ${e}`,yb=e=>H.isFunction(e)||e===null||e===!1;function xb(e,t){e=H.isArray(e)?e:[e];const{length:r}=e;let s,n;const i={};for(let c=0;c<r;c++){s=e[c];let o;if(n=s,!yb(s)&&(n=xu[(o=String(s)).toLowerCase()],n===void 0))throw new fe(`Unknown adapter '${o}'`);if(n&&(H.isFunction(n)||(n=n.get(t))))break;i[o||"#"+c]=n}if(!n){const c=Object.entries(i).map(([l,h])=>`adapter ${l} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=r?c.length>1?`since :
`+c.map(dd).join(`
`):" "+dd(c[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Yg={getAdapter:xb,adapters:xu};function tl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xn(null,e)}function fd(e){return tl(e),e.headers=wt.from(e.headers),e.data=el.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yg.getAdapter(e.adapter||Li.adapter,e)(e).then(function(s){return tl(e),s.data=el.call(e,e.transformResponse,s),s.headers=wt.from(s.headers),s},function(s){return Wg(s)||(tl(e),s&&s.response&&(s.response.data=el.call(e,e.transformResponse,s.response),s.response.headers=wt.from(s.response.headers))),Promise.reject(s)})}const Jg="1.13.2",xa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xa[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const pd={};xa.transitional=function(t,r,s){function n(i,c){return"[Axios v"+Jg+"] Transitional option '"+i+"'"+c+(s?". "+s:"")}return(i,c,o)=>{if(t===!1)throw new fe(n(c," has been removed"+(r?" in "+r:"")),fe.ERR_DEPRECATED);return r&&!pd[c]&&(pd[c]=!0,console.warn(n(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,o):!0}};xa.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function bb(e,t,r){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],c=t[i];if(c){const o=e[i],l=o===void 0||c(o,i,e);if(l!==!0)throw new fe("option "+i+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}}const po={assertOptions:bb,validators:xa},qt=po.validators;let ms=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rd,response:new rd}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ss(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&po.assertOptions(s,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),n!=null&&(H.isFunction(n)?r.paramsSerializer={serialize:n}:po.assertOptions(n,{encode:qt.function,serialize:qt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),po.assertOptions(r,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&H.merge(i.common,i[r.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=wt.concat(c,i);const o=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let m,f=0,v;if(!l){const b=[fd.bind(this),void 0];for(b.unshift(...o),b.push(...h),v=b.length,m=Promise.resolve(r);f<v;)m=m.then(b[f++],b[f++]);return m}v=o.length;let x=r;for(;f<v;){const b=o[f++],_=o[f++];try{x=b(x)}catch(u){_.call(this,u);break}}try{m=fd.call(this,x)}catch(b){return Promise.reject(b)}for(f=0,v=h.length;f<v;)m=m.then(h[f++],h[f++]);return m}getUri(t){t=Ss(this.defaults,t);const r=Kg(t.baseURL,t.url,t.allowAbsoluteUrls);return Hg(r,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){ms.prototype[t]=function(r,s){return this.request(Ss(s||{},{method:t,url:r,data:(s||{}).data}))}});H.forEach(["post","put","patch"],function(t){function r(s){return function(i,c,o){return this.request(Ss(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}ms.prototype[t]=r(),ms.prototype[t+"Form"]=r(!0)});let wb=class Xg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const c=new Promise(o=>{s.subscribe(o),i=o}).then(n);return c.cancel=function(){s.unsubscribe(i)},c},t(function(i,c,o){s.reason||(s.reason=new xn(i,c,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Xg(function(n){t=n}),cancel:t}}};function Sb(e){return function(r){return e.apply(null,r)}}function Cb(e){return H.isObject(e)&&e.isAxiosError===!0}const cc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cc).forEach(([e,t])=>{cc[t]=e});function Qg(e){const t=new ms(e),r=Lg(ms.prototype.request,t);return H.extend(r,ms.prototype,t,{allOwnKeys:!0}),H.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return Qg(Ss(e,n))},r}const se=Qg(Li);se.Axios=ms;se.CanceledError=xn;se.CancelToken=wb;se.isCancel=Wg;se.VERSION=Jg;se.toFormData=ya;se.AxiosError=fe;se.Cancel=se.CanceledError;se.all=function(t){return Promise.all(t)};se.spread=Sb;se.isAxiosError=Cb;se.mergeConfig=Ss;se.AxiosHeaders=wt;se.formToJSON=e=>zg(H.isHTMLForm(e)?new FormData(e):e);se.getAdapter=Yg.getAdapter;se.HttpStatusCode=cc;se.default=se;const{Axios:t2,AxiosError:r2,CanceledError:s2,isCancel:n2,CancelToken:i2,VERSION:o2,all:a2,Cancel:l2,isAxiosError:c2,spread:u2,toFormData:h2,AxiosHeaders:d2,HttpStatusCode:f2,formToJSON:p2,getAdapter:g2,mergeConfig:m2}=se,Zg=M.createContext();function Eb({children:e}){const[t,r]=M.useState(()=>localStorage.getItem("dma_current_endpoint")||"local"),[s,n]=M.useState([]);M.useEffect(()=>{localStorage.setItem("dma_current_endpoint",t),se.defaults.headers.common["X-Endpoint-ID"]=t},[t]);const i=async()=>{try{const m=(await se.get("/api/endpoints")).data;n(f=>m.map(v=>{const x=f.find(b=>b.id===v.id);return{...v,status:x?x.status:"checking"}})),c()}catch(h){console.error("Failed to fetch endpoints:",h)}},c=async()=>{try{const m=(await se.get("/api/endpoints/status")).data;n(f=>f.map(v=>{const x=m.find(b=>b.id===v.id);return x?{...v,status:x.status}:v}))}catch(h){console.error("Failed to fetch endpoint statuses:",h)}};M.useEffect(()=>{i();const h=setInterval(c,3e4);return()=>clearInterval(h)},[]);const o=h=>{localStorage.setItem("dma_current_endpoint",h),se.defaults.headers.common["X-Endpoint-ID"]=h,r(h)},l=()=>{i()};return a.jsx(Zg.Provider,{value:{currentEndpoint:t,endpoints:s,switchEndpoint:o,refreshEndpoints:l},children:e})}function Jr(){const e=M.useContext(Zg);if(!e)throw new Error("useEndpoint must be used within EndpointProvider");return e}function Ls({isDark:e,popupDirection:t="down"}){const{currentEndpoint:r,endpoints:s,switchEndpoint:n}=Jr(),[i,c]=M.useState(!1),o=s.find(l=>l.id===r);return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:`text-xs font-medium mb-2 ${e?"text-gray-500":"text-gray-600"}`,children:"DOCKER"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!i),className:`w-full flex items-center gap-2 px-3 py-2.5 rounded-lg transition-all ${e?"bg-white/5 hover:bg-white/10 border border-white/10":"bg-gray-100 hover:bg-gray-200 border border-gray-200"}`,children:[a.jsx(_r,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0 text-left",children:a.jsx("div",{className:`text-sm font-medium truncate ${e?"text-white":"text-gray-900"}`,children:(o==null?void 0:o.name)||"Docker"})}),a.jsx(ex,{className:`w-4 h-4 flex-shrink-0 transition-transform ${i?"rotate-180":""} ${e?"text-gray-400":"text-gray-600"}`})]}),i&&a.jsx("div",{className:`absolute ${t==="up"?"bottom-full mb-1":"top-full mt-1"} left-0 right-0 max-h-64 overflow-y-auto ${e?"glass border-white/20 shadow-2xl":" bg-white border-gray-200 shadow-xl"} border rounded-lg z-50`,children:s.filter(l=>l.status==="online"||!l.status||l.id===r).map(l=>a.jsxs("button",{onClick:()=>{n(l.id),c(!1)},className:`w-full px-3 py-2.5 flex items-center justify-between transition-all ${r===l.id?e?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":e?"hover:bg-white/5 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:l.name})}),l.id===r&&a.jsx(Zy,{className:"w-4 h-4 text-cyan-500"})]},l.id))})]})]})}function gd({percent:e,size:t=120,strokeWidth:r=8,label:s,value:n,isDark:i}){const c=(t-r)/2,o=c*2*Math.PI,l=o-e/100*o;return a.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:i?"#374151":"#E5E7EB",strokeWidth:r}),a.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"url(#gradient)",strokeWidth:r,strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-500"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#06B6D4"}),a.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]})})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:[e,"%"]}),s&&a.jsx("div",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:s}),n&&a.jsx("div",{className:"text-xs text-gray-500",children:n})]})]})}function kb(e,t,r,s,n){if(e.length===0)return[];const i=e.reduce((f,v)=>f+v.value,0);if(i===0)return[];const c=e.map(f=>({...f,normalizedValue:f.value/i*s*n})).sort((f,v)=>v.normalizedValue-f.normalizedValue),o=[];function l(f,v,x,b,_){const u=b>=_,p=f.reduce((g,y)=>g+y.normalizedValue,0);let d=0;f.forEach(g=>{const y=g.normalizedValue/p;if(u){const S=b*y;o.push({...g,x:v+d,y:x,width:S,height:_}),d+=S}else{const S=_*y;o.push({...g,x:v,y:x+d,width:b,height:S}),d+=S}})}function h(f,v){if(f.length===0)return 1/0;const x=f.reduce((u,p)=>u+p.normalizedValue,0),b=Math.min(...f.map(u=>u.normalizedValue)),_=Math.max(...f.map(u=>u.normalizedValue));return Math.max(v*v*_/(x*x),x*x/(v*v*b))}function m(f,v,x,b,_){if(f.length===0)return;if(f.length===1){o.push({...f[0],x:v,y:x,width:b,height:_});return}const u=b>=_,p=u?_:b;let d=[],g=1/0,y=0;for(;y<f.length;){const S=[...d,f[y]],E=h(S,p);if(E>g&&d.length>0){const w=d.reduce((C,N)=>C+N.normalizedValue,0)/(b*_/(u?b:_));u?(l(d,v,x,w,_),m(f.slice(y),v+w,x,b-w,_)):(l(d,v,x,b,w),m(f.slice(y),v,x+w,b,_-w));return}d=S,g=E,y++}l(d,v,x,b,_)}return m(c,t,r,s,n),o}const jb=(e,t)=>{const r=["#6366F1","#F59E0B","#10B981","#EC4899","#8B5CF6","#14B8A6","#3B82F6","#A855F7","#F97316","#06B6D4"];return e==="running"?r[t%r.length]:e==="paused"?"#FBBF24":"#6B7280"},Nb=e=>{const t=["#6366F1","#F59E0B","#10B981","#EC4899","#8B5CF6","#14B8A6","#EF4444","#3B82F6","#A855F7","#F97316"];return t[e%t.length]},Lb=e=>{const t=["#6366F1","#10B981","#F59E0B","#14B8A6","#8B5CF6","#3B82F6","#EC4899","#A855F7","#F97316","#EF4444"];return t[e%t.length]};function Rb({data:e,type:t="container",width:r=900,height:s=400,isDark:n,onItemClick:i}){const c=M.useMemo(()=>{if(!e||e.length===0)return[];let o=[];return t==="container"?o=e.map((l,h)=>({...l,value:l.state==="running"?Math.max(l.memoryUsage/1024/1024,10):50,color:jb(l.state,h),displayName:l.name})):t==="image"?o=e.map((l,h)=>({...l,value:Math.max(l.size/1024/1024,10),color:Nb(h),displayName:l.name})):t==="volume"&&(o=e.map((l,h)=>({...l,value:l.size/1024/1024,color:Lb(h),displayName:l.name}))),kb(o,0,0,r,s)},[e,t,r,s]);return!e||e.length===0?a.jsx("div",{className:`flex items-center justify-center ${n?"bg-gray-800/50":"bg-gray-100"} rounded-lg`,style:{width:r,height:s},children:a.jsx("p",{className:n?"text-gray-500":"text-gray-400",children:""})}):a.jsx("svg",{width:r,height:s,className:"rounded-lg",children:c.map(o=>{const l=Math.min(o.width,o.height)>80?14:Math.min(o.width,o.height)>50?12:10,h=o.width>40&&o.height>30;return a.jsxs("g",{onClick:()=>i==null?void 0:i(o),children:[a.jsx("rect",{x:o.x,y:o.y,width:o.width,height:o.height,fill:o.color,stroke:n?"#1F2937":"#FFFFFF",strokeWidth:2,className:"cursor-pointer transition-opacity hover:opacity-80",rx:4}),h&&a.jsxs(a.Fragment,{children:[a.jsx("text",{x:o.x+o.width/2,y:o.y+o.height/2-(o.width>100&&o.height>60?8:0),fill:"white",fontSize:l,fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",className:"pointer-events-none select-none",style:{textShadow:"0 1px 3px rgba(0,0,0,0.6)"},children:o.displayName&&o.displayName.length>15?o.displayName.substring(0,12)+"...":o.displayName}),o.width>100&&o.height>60&&t==="container"&&a.jsx("text",{x:o.x+o.width/2,y:o.y+o.height/2+12,fill:"rgba(255,255,255,0.8)",fontSize:10,textAnchor:"middle",dominantBaseline:"middle",className:"pointer-events-none select-none",children:o.state})]})]},o.id)})})}function Ab(){var j;const{t:e,i18n:t}=br(),r=sr(),[s,n]=M.useState(null),[i,c]=M.useState(null),[o,l]=M.useState(null),[h,m]=M.useState(null),[f,v]=M.useState(null),[x,b]=M.useState([]),[_,u]=M.useState([]),[p,d]=M.useState([]),[g,y]=M.useState("containers"),[S,E]=M.useState("local"),{theme:k,toggleTheme:w}=Gr(),{refreshEndpoints:C,endpoints:N,currentEndpoint:O}=Jr();M.useEffect(()=>{C()},[]),M.useEffect(()=>{n(null),c(null),l(null),m(null),v(null),R();const A=setInterval(R,1e4);return()=>clearInterval(A)},[O]);const R=async()=>{try{const T=(await se.get("/api/dashboard/batch")).data;n(T.systemInfo),c(T.stats),l(T.usage),m(T.disk),v(T.network),b(T.containerStats),u(T.imageStats),d(T.volumeStats),E(T.dataSource||"local")}catch(A){console.error("Failed to fetch dashboard data:",A)}},P=()=>{localStorage.removeItem("dma_token"),r("/login")},D=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},B=k==="dark",F=N.find(A=>A.id===O),U=()=>g==="containers"?x:g==="images"?_:g==="volumes"?p:[];return a.jsxs("div",{className:B?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${B?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${B?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${B?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${B?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(Xr,{icon:a.jsx(js,{}),label:e("nav.dashboard"),active:!0,isDark:B}),a.jsx(Xr,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:B}),a.jsx(Xr,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:B}),a.jsx(Xr,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:B}),a.jsx(Xr,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:B}),a.jsx(Xr,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:B}),a.jsx(Xr,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:B})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:B,popupDirection:"up"}),a.jsxs("button",{onClick:P,className:`w-full ${B?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${B?"text-white":"text-gray-900"}`,children:e("nav.dashboard")}),a.jsxs("p",{className:`mt-1 text-sm ${B?"text-gray-400":"text-gray-600"}`,children:[" ",S==="aggregated"?" ":""]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:D,className:`${B?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:w,className:`${B?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:B?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6 mb-6",children:[a.jsxs("div",{className:`col-span-3 ${B?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-lg p-5 border`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ox,{className:`w-4 h-4 ${B?"text-cyan-400":"text-cyan-600"}`}),a.jsx("h2",{className:`text-sm font-semibold ${B?"text-white":"text-gray-900"}`,children:""})]}),s&&a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsx(St,{label:"",value:(F==null?void 0:F.name)||"Docker",isDark:B}),a.jsx(St,{label:"Docker",value:`${s.ServerVersion}`,isDark:B}),a.jsx(St,{label:"",value:s.OperatingSystem,isDark:B}),a.jsx(St,{label:"",value:s.Architecture,isDark:B}),a.jsx(St,{label:"Cpu / Mem",value:`${s.NCPU}  / ${(s.MemTotal/1024/1024/1024).toFixed(2)} GB`,isDark:B}),a.jsx(St,{label:"",value:s.Driver,isDark:B}),a.jsx(St,{label:"",value:(j=s.Plugins)!=null&&j.Network?s.Plugins.Network.join(", "):"N/A",isDark:B})]})]}),a.jsxs("div",{className:`col-span-9 ${B?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-lg p-5 border flex items-center justify-between`,children:[a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_g,{className:`w-4 h-4 ${B?"text-blue-400":"text-blue-600"}`}),a.jsx("h2",{className:`text-sm font-semibold ${B?"text-white":"text-gray-900"}`,children:"CPU"})]}),o&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[a.jsx(gd,{percent:o.cpu.usage,size:110,strokeWidth:10,isDark:B}),a.jsx("div",{className:"mt-2 text-center",children:a.jsxs("div",{className:"text-xs text-gray-500",children:[o.cpu.cores," "]})})]})]}),a.jsx("div",{className:"w-px h-32 bg-gray-200 dark:bg-white/10 mx-4"}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ux,{className:`w-4 h-4 ${B?"text-purple-400":"text-purple-600"}`}),a.jsx("h2",{className:`text-sm font-semibold ${B?"text-white":"text-gray-900"}`,children:""})]}),o&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[a.jsx(gd,{percent:o.memory.usagePercent,size:110,strokeWidth:10,isDark:B}),a.jsx("div",{className:"mt-2 text-center",children:a.jsxs("div",{className:`text-xs ${B?"text-gray-400":"text-gray-600"}`,children:[o.memory.usedFormatted," / ",o.memory.totalFormatted]})})]})]}),a.jsx("div",{className:"w-px h-32 bg-gray-200 dark:bg-white/10 mx-4"}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Pt,{className:`w-4 h-4 ${B?"text-orange-400":"text-orange-600"}`}),a.jsx("h2",{className:`text-sm font-semibold ${B?"text-white":"text-gray-900"}`,children:""})]}),h&&a.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"w-3.5 h-3.5 text-blue-400"}),a.jsx("span",{className:`text-xs ${B?"text-gray-300":"text-gray-700"}`,children:""})]}),a.jsx("span",{className:`text-xs font-semibold ${B?"text-white":"text-gray-900"}`,children:"0 B/s"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gh,{className:"w-3.5 h-3.5 text-green-400"}),a.jsx("span",{className:`text-xs ${B?"text-gray-300":"text-gray-700"}`,children:""})]}),a.jsx("span",{className:`text-xs font-semibold ${B?"text-white":"text-gray-900"}`,children:"0 B/s"})]}),a.jsx("div",{className:`pt-2 border-t ${B?"border-white/10":"border-gray-200"}`,children:a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(St,{label:"",value:`${h.usagePercent}%`,isDark:B,small:!0}),a.jsx(St,{label:"",value:h.totalFormatted,isDark:B,small:!0}),a.jsx(St,{label:"",value:h.availableFormatted,isDark:B,small:!0})]})})]})]}),a.jsx("div",{className:"w-px h-32 bg-gray-200 dark:bg-white/10 mx-4"}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Sg,{className:`w-4 h-4 ${B?"text-green-400":"text-green-600"}`}),a.jsx("h2",{className:`text-sm font-semibold ${B?"text-white":"text-gray-900"}`,children:""})]}),f&&a.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yh,{className:"w-3.5 h-3.5 text-orange-400"}),a.jsx("span",{className:`text-xs ${B?"text-gray-300":"text-gray-700"}`,children:""})]}),a.jsx("span",{className:`text-xs font-semibold ${B?"text-white":"text-gray-900"}`,children:f.txFormatted})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gh,{className:"w-3.5 h-3.5 text-cyan-400"}),a.jsx("span",{className:`text-xs ${B?"text-gray-300":"text-gray-700"}`,children:""})]}),a.jsx("span",{className:`text-xs font-semibold ${B?"text-white":"text-gray-900"}`,children:f.rxFormatted})]}),a.jsx("div",{className:`pt-2 border-t ${B?"border-white/10":"border-gray-200"}`,children:a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(St,{label:"",value:"0%",isDark:B,small:!0}),a.jsx(St,{label:"",value:"0 GB",isDark:B,small:!0}),a.jsx(St,{label:"",value:"0 GB",isDark:B,small:!0})]})})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:`col-span-9 ${B?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-lg p-3 border`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(rx,{className:`w-5 h-5 ${B?"text-blue-400":"text-blue-600"}`}),a.jsx("h2",{className:`text-lg font-semibold ${B?"text-white":"text-gray-900"}`,children:""})]}),a.jsxs("div",{className:"flex gap-2 mb-3",children:[a.jsx(rl,{label:"",active:g==="containers",onClick:()=>y("containers"),isDark:B}),a.jsx(rl,{label:"",active:g==="images",onClick:()=>y("images"),isDark:B}),a.jsx(rl,{label:"",active:g==="volumes",onClick:()=>y("volumes"),isDark:B})]}),a.jsx("div",{className:"w-full",children:a.jsx(Rb,{data:U(),type:g==="containers"?"container":g==="images"?"image":"volume",width:1120,height:495,isDark:B,onItemClick:A=>{r(g==="containers"?"/containers":g==="images"?"/images":"/volumes")}})})]}),a.jsx("div",{className:`col-span-3 ${B?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-lg p-6 border`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ji,{icon:a.jsx(mr,{className:"w-5 h-5"}),title:"",value:(i==null?void 0:i.containers.total)||0,subtitle:`${(i==null?void 0:i.containers.running)||0} `,color:"blue",onClick:()=>r("/containers"),isDark:B}),a.jsx(Ji,{icon:a.jsx(tr,{className:"w-5 h-5"}),title:"",value:(i==null?void 0:i.images.total)||0,subtitle:(i==null?void 0:i.images.sizeFormatted)||"0 GB",color:"green",onClick:()=>r("/images"),isDark:B}),a.jsx(Ji,{icon:a.jsx(Pt,{className:"w-5 h-5"}),title:"",value:(i==null?void 0:i.volumes.total)||0,subtitle:"",color:"purple",onClick:()=>r("/volumes"),isDark:B}),a.jsx(Ji,{icon:a.jsx(rr,{className:"w-5 h-5"}),title:"",value:(i==null?void 0:i.networks.total)||0,subtitle:"",color:"orange",onClick:()=>r("/networks"),isDark:B})]})})]})]})]})}function St({label:e,value:t,isDark:r,small:s}){const n="text-xs";return a.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[a.jsx("span",{className:`${n} ${r?"text-gray-400":"text-gray-600"} truncate mr-2`,children:e}),a.jsx("span",{className:`${n} font-medium ${r?"text-white":"text-gray-900"} text-right`,children:t})]})}function rl({label:e,active:t,onClick:r,isDark:s}){return a.jsx("button",{onClick:r,className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ${t?s?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-cyan-50 text-cyan-600 border border-cyan-200":s?"text-gray-400 hover:bg-white/5 border border-transparent":"text-gray-600 hover:bg-gray-100 border border-transparent"}`,children:e})}function Ji({icon:e,title:t,value:r,subtitle:s,color:n,onClick:i,isDark:c}){const o={blue:"text-blue-500",green:"text-green-500",purple:"text-purple-500",orange:"text-orange-500"};return a.jsxs("button",{onClick:i,className:`w-full ${c?"bg-white/5 hover:bg-white/10":"bg-gray-50 hover:bg-gray-100"} rounded-lg p-4 transition-all text-left group`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:o[n],children:e}),a.jsx(vg,{className:`w-4 h-4 ${c?"text-gray-600":"text-gray-400"} group-hover:translate-x-1 transition-transform`})]}),a.jsx("div",{className:`text-xs font-medium mb-1 ${c?"text-gray-400":"text-gray-600"}`,children:t}),a.jsx("div",{className:`text-2xl font-bold mb-1 ${c?"text-white":"text-gray-900"}`,children:r}),a.jsx("div",{className:"text-xs text-gray-500",children:s})]})}function Xr({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function Tb({container:e,isDark:t,onClose:r}){var u;const[s,n]=M.useState(""),[i,c]=M.useState(!0),[o,l]=M.useState(!0),h=M.useRef(null),m=M.useRef(null),f=((u=e.Names[0])==null?void 0:u.replace(/^\//,""))||e.Id.substring(0,12);M.useEffect(()=>{v()},[e.Id]),M.useEffect(()=>{o&&h.current&&h.current.scrollIntoView({behavior:"smooth"})},[s,o]);const v=async()=>{c(!0);try{const p=await se.get(`/api/containers/${e.Id}/logs?tail=500&timestamps=true`);n(p.data)}catch(p){console.error("Failed to fetch logs:",p),n(`: 
${p.message}`)}finally{c(!1)}},x=()=>{navigator.clipboard.writeText(s),alert("")},b=()=>{const p=new Blob([s],{type:"text/plain"}),d=URL.createObjectURL(p),g=document.createElement("a");g.href=d,g.download=`${f}-logs.txt`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(d)},_=()=>{if(!m.current)return;const{scrollTop:p,scrollHeight:d,clientHeight:g}=m.current,y=d-p-g<50;l(y)};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${t?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-5xl h-[80vh] flex flex-col border shadow-2xl`,children:[a.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${t?"border-white/10":"border-gray-200"}`,children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:""}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:f})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:"",children:a.jsx(gu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:x,className:`p-2 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:"",children:a.jsx(tx,{className:"w-5 h-5"})}),a.jsx("button",{onClick:b,className:`p-2 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:"",children:a.jsx(yg,{className:"w-5 h-5"})}),a.jsx("button",{onClick:r,className:`p-2 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{ref:m,onScroll:_,className:`flex-1 overflow-auto p-4 font-mono text-sm ${t?"bg-gray-900/50":"bg-gray-50"}`,children:i?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):a.jsxs("pre",{className:`whitespace-pre-wrap break-words ${t?"text-gray-300":"text-gray-800"}`,children:[s||"",a.jsx("div",{ref:h})]})}),a.jsxs("div",{className:`flex items-center justify-between p-4 border-t ${t?"border-white/10":"border-gray-200"}`,children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:p=>l(p.target.checked),className:"w-4 h-4 rounded border-gray-300"}),a.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:""})]}),a.jsx("span",{className:`text-sm ${t?"text-gray-500":"text-gray-400"}`,children:" 500 "})]})]})})}function e0({isDark:e,onClose:t,onSuccess:r,initialData:s}){const[n,i]=M.useState("form"),[c,o]=M.useState(""),[l,h]=M.useState({name:"",image:"",iconUrl:"",webUi:"",ports:[],volumes:[],env:[],restart:"always",network:"bridge",alwaysPull:!1}),[m,f]=M.useState(!1),[v,x]=M.useState(!1),[b,_]=M.useState(!1),[u,p]=M.useState([]),[d,g]=M.useState(""),[y,S]=M.useState(!1),[E,k]=M.useState(""),w=!!s,[C,N]=M.useState(!1),[O,R]=M.useState([]),[P,D]=M.useState("deploying"),[B,F]=M.useState(!0),[U,j]=M.useState({}),A=M.useRef(null),T=M.useRef(null),I=M.useRef(!1),z=M.useRef(null);M.useEffect(()=>{C&&B&&A.current&&A.current.scrollIntoView({behavior:"smooth"})},[O,U,B,C]),M.useEffect(()=>{Y(),s&&(h({name:s.name||"",image:s.image||"",iconUrl:s.iconUrl||"",webUi:s.webUi||"",ports:s.ports||[],volumes:s.volumes||[],env:s.env||[],restart:s.restart||"always",network:s.network||"bridge",alwaysPull:!1}),s.iconUrl&&f(!0),s.webUi&&x(!0))},[s]);const Y=async()=>{try{const q=await se.get("/api/templates/user");p(q.data)}catch(q){console.error("Failed to fetch templates:",q)}},X=q=>{const re=q.target.value;if(g(re),!re){h({name:"",image:"",iconUrl:"",webUi:"",ports:[],volumes:[],env:[],restart:"always",network:"bridge"}),f(!1),x(!1);return}const te=u.find(ue=>ue.id===re);te&&(h(te.data),te.data.iconUrl&&f(!0),te.data.webUi&&x(!0))},Z=()=>{if(c.trim())try{const q=c.replace(/\\\n/g," ").replace(/\n/g," "),re=[],te=q.split(/\s+/);for(const K of te)if(K.includes("=")&&K.startsWith("-")){const[Q,J]=K.split("=");re.push(Q),J&&re.push(J)}else re.push(K);const ue={name:"",image:"",iconUrl:"",webUi:"",ports:[],volumes:[],env:[],restart:"always",network:"bridge"};for(let K=0;K<re.length;K++){const Q=re[K];Q==="--name"?ue.name=re[++K]:Q==="-p"||Q==="--publish"?ue.ports.push(re[++K]):Q==="-v"||Q==="--volume"?ue.volumes.push(re[++K]):Q==="-e"||Q==="--env"?ue.env.push(re[++K]):Q==="--restart"?ue.restart=re[++K]:Q==="--net"||Q==="--network"?ue.network=re[++K]:!Q.startsWith("-")&&K===re.length-1&&(ue.image=Q)}h(ue),i("form")}catch{alert("")}},ge=q=>{q.status==="Downloading"||q.status==="Extracting"?j(re=>{var te,ue;return{...re,[q.id]:{status:q.status,progress:q.progressDetail,current:(te=q.progressDetail)==null?void 0:te.current,total:(ue=q.progressDetail)==null?void 0:ue.total}}}):(q.status==="Pull complete"||q.status==="Already exists")&&j(re=>{var te,ue;return{...re,[q.id]:{...re[q.id],status:q.status,current:((te=re[q.id])==null?void 0:te.total)||100,total:((ue=re[q.id])==null?void 0:ue.total)||100,completed:!0}}})},L=()=>{if(!T.current)return;const{scrollTop:q,scrollHeight:re,clientHeight:te}=T.current,ue=re-q-te<50;F(ue)},$=(q,re)=>{switch(q.type){case"step":return a.jsxs("div",{className:`flex items-center gap-2 font-bold mt-4 mb-2 border-b pb-1 ${e?"text-cyan-400 border-cyan-500/20":"text-cyan-600 border-cyan-600/20"}`,children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{children:q.message})]},re);case"command":const te=q.message.match(/(?:[^\s"']+|"[^"]*"|'[^']*')+/g)||[],ue=[];let K=[];return te.forEach((Q,J)=>{if(J===0&&Q==="docker"){K.push(Q);return}if(J===1&&Q==="run"){K.push(Q),ue.push(K),K=[];return}Q.startsWith("-")?(K.length>0&&ue.push(K),K=[Q]):J===te.length-1&&!Q.startsWith("-")&&ue.length>0?(K.length>0&&ue.push(K),K=[Q]):K.push(Q)}),K.length>0&&ue.push(K),a.jsx("div",{className:`pl-4 mb-4 font-mono text-sm break-all p-3 rounded-lg border ${e?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:a.jsx("div",{className:`space-y-1 ${e?"text-gray-300":"text-gray-700"}`,children:ue.map((Q,J)=>a.jsx("div",{className:`${J>0?"pl-4":""}`,children:Q.map((ae,me)=>a.jsx("span",{className:`mr-2 ${J===0?e?"text-cyan-400 font-bold":"text-cyan-600 font-bold":ae.startsWith("-")?e?"text-yellow-500":"text-yellow-600":e?"text-gray-300":"text-gray-700"}`,children:ae},me))},J))})},re);case"pull-widget":return a.jsx("div",{className:"pl-4 mb-4",children:Object.keys(U).length>0&&a.jsx("div",{className:`space-y-2 p-4 rounded-lg border ${e?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:Object.entries(U).map(([Q,J])=>a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("span",{className:J.completed?e?"text-cyan-400":"text-cyan-600":e?"text-gray-400":"text-gray-500",children:["Layer ",Q,": ",J.status]}),(J.total||J.completed)&&a.jsx("span",{className:J.completed?e?"text-cyan-400":"text-cyan-600":e?"text-gray-500":"text-gray-400",children:J.completed?"100%":`${Math.round(J.current/J.total*100)}%`})]}),(J.total||J.completed)&&a.jsx("div",{className:`w-full rounded-full h-1.5 overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:a.jsx("div",{className:`${J.completed?"bg-cyan-500":"bg-blue-500"} h-1.5 rounded-full transition-all duration-300`,style:{width:J.completed?"100%":`${J.current/J.total*100}%`}})})]},Q))})},re);case"info":return a.jsx("div",{className:`pl-4 ${e?"text-gray-400":"text-gray-600"}`,children:q.message},re);case"error":return a.jsx("div",{className:"pl-4 text-red-500 font-bold bg-red-500/10 p-2 rounded my-2",children:q.message},re);case"success":return a.jsxs("div",{className:`pl-4 font-bold p-2 my-2 flex items-center gap-2 ${e?"text-cyan-400":"text-cyan-600"}`,children:[a.jsx(ps,{className:"w-4 h-4"}),q.message]},re);case"done":return a.jsxs("div",{className:`pl-4 font-bold mt-4 border-t pt-2 flex items-center gap-2 ${e?"text-cyan-400 border-white/10":"text-cyan-600 border-gray-200"}`,children:[a.jsx(ps,{className:"w-4 h-4"}),q.message]},re);default:return a.jsx("div",{className:"pl-4 text-gray-500",children:q.message},re)}},V=async q=>{if(q.preventDefault(),!I.current){if(z.current&&z.current.abort(),z.current=new AbortController,I.current=!0,!l.name||!l.image){alert(""),I.current=!1;return}if(w&&!window.confirm("")){I.current=!1;return}_(!0),N(!0),R([]),D("deploying"),j({});try{if(w&&s.name&&s.name!==l.name){R(ae=>[...ae,{type:"step",message:" ()"}]);try{await se.post(`/api/containers/${s.name}/stop`),R(ae=>[...ae,{type:"info",message:""}]),await se.delete(`/api/containers/${s.name}`),R(ae=>[...ae,{type:"info",message:""}])}catch(ae){ae.response&&ae.response.status===404?R(me=>[...me,{type:"info",message:""}]):R(me=>[...me,{type:"error",message:`: ${ae.message}`}])}}const re={};l.iconUrl&&l.iconUrl.trim()&&(re.ICON_URL=l.iconUrl.trim()),l.webUi&&l.webUi.trim()&&(re.WEBUI_URL=l.webUi.trim());const te={name:l.name,image:l.image,ports:l.ports.filter(ae=>ae.trim()),volumes:l.volumes.filter(ae=>ae.trim()),env:l.env.filter(ae=>ae.trim()),restart:l.restart,network:l.network,labels:re,alwaysPull:l.alwaysPull};if(!w)try{await se.post("/api/templates/user",{name:l.name,data:l})}catch(ae){console.warn("Failed to auto-save template:",ae)}const K=(await fetch("/api/containers/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te),signal:z.current.signal})).body.getReader(),Q=new TextDecoder;let J="";for(;;){const{done:ae,value:me}=await K.read();if(ae)break;J+=Q.decode(me,{stream:!0});const Ee=J.split(`
`);J=Ee.pop();for(const ye of Ee)if(ye.trim())try{const xe=JSON.parse(ye);xe.type==="pull"?ge(xe.data):xe.type==="pull-start"?R(Me=>[...Me,{type:"info",message:xe.message},{type:"pull-widget"}]):xe.type==="command"?R(Me=>[...Me,{type:"command",message:xe.message}]):(R(Me=>[...Me,xe]),xe.type==="error"&&D("error"),xe.type==="done"&&D("success"))}catch{console.warn("Failed to parse log line:",ye)}}}catch(re){re.name==="AbortError"||R(te=>{var Q,J;const ue=te[te.length-1];return ue&&(((Q=ue.message)==null?void 0:Q.includes(""))||((J=ue.message)==null?void 0:J.includes("")))?(D("success"),[...te,{type:"success",message:" ()"}]):(D("error"),[...te,{type:"error",message:re.message||"Network Error"}])})}finally{_(!1),I.current=!1}}},W=q=>{h(re=>({...re,[q]:[...re[q],""]}))},le=(q,re,te)=>{h(ue=>({...ue,[q]:ue[q].map((K,Q)=>Q===re?te:K)}))},ee=(q,re)=>{h(te=>({...te,[q]:te[q].filter((ue,K)=>K!==re)}))},_e=()=>{switch(P){case"deploying":return a.jsx(gs,{className:"animate-spin w-4 h-4 text-cyan-500"});case"success":return a.jsx(ps,{className:"w-4 h-4 text-green-500"});case"error":return a.jsx(mg,{className:"w-4 h-4 text-red-500"});default:return null}},Re=()=>{switch(P){case"deploying":return w?"...":"...";case"success":return w?"":"";case"error":return w?"":"";default:return""}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl flex flex-col max-h-[85vh]`,children:[a.jsxs("div",{className:`flex items-center justify-between p-6 border-b flex-shrink-0 ${e?"border-white/10":"border-gray-200"}`,children:[a.jsx("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:w?"":""}),a.jsxs("div",{className:"flex items-center gap-3",children:[C&&a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-white/5 px-3 py-1.5 rounded-full",children:[_e(),a.jsx("span",{className:`text-sm font-medium ${P==="success"?"text-green-500":P==="error"?"text-red-500":e?"text-gray-400":"text-gray-600"}`,children:Re()})]}),a.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-all ${e?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]})]}),C?a.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[a.jsx("div",{ref:T,onScroll:L,className:`flex-1 overflow-auto p-6 font-mono text-sm ${e?"bg-gray-950":"bg-gray-50"}`,children:a.jsxs("div",{className:"space-y-1",children:[O.map((q,re)=>$(q,re)),a.jsx("div",{ref:A})]})}),a.jsxs("div",{className:`p-4 border-t flex items-center justify-between ${e?"border-white/10":"border-gray-200"}`,children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:B,onChange:q=>F(q.target.checked),className:"w-4 h-4 rounded border-gray-300 text-cyan-500 focus:ring-cyan-500"}),a.jsx("span",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:""})]}),P!=="deploying"&&a.jsx("button",{onClick:()=>{r(),t()},className:"px-6 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all text-sm font-medium shadow-lg shadow-cyan-500/20",children:""})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`flex border-b flex-shrink-0 ${e?"border-white/10":"border-gray-200"}`,children:[a.jsxs("button",{onClick:()=>i("form"),className:`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-colors ${n==="form"?"border-cyan-500 text-cyan-500":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ax,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>i("command"),className:`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-colors ${n==="command"?"border-cyan-500 text-cyan-500":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Ho,{className:"w-4 h-4"}),""]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n==="command"?a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-white/5":"bg-gray-50"}`,children:[a.jsx("p",{className:`text-sm mb-2 ${e?"text-gray-400":"text-gray-600"}`,children:" docker run "}),a.jsx("textarea",{value:c,onChange:q=>o(q.target.value),placeholder:"docker run -d --name my-app -p 8080:80 nginx:latest",className:`w-full h-40 p-4 rounded-lg font-mono text-sm ${e?"bg-black/30 text-white":"bg-white border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:Z,disabled:!c.trim(),className:"px-6 py-2 rounded-lg font-medium bg-cyan-500 text-white hover:bg-cyan-600 disabled:opacity-50 flex items-center gap-2",children:[a.jsx(Qy,{className:"w-4 h-4"}),""]})})]}):a.jsxs("form",{id:"create-container-form",onSubmit:V,className:"p-6 space-y-6",children:[!w&&a.jsxs("div",{className:`px-4 py-3 rounded-lg border flex items-center gap-3 ${e?"bg-white/5 border-white/10":"bg-blue-50/50 border-blue-100"}`,children:[a.jsx("label",{className:`block text-sm font-medium whitespace-nowrap ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("select",{value:d,onChange:X,className:`flex-1 px-3 py-1.5 text-sm rounded-md ${e?"glass text-white":"bg-white border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`,children:[a.jsx("option",{value:"",children:"--  () --"}),u.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:`text-sm font-semibold uppercase tracking-wider ${e?"text-gray-400":"text-gray-500"}`,children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1.5 ${e?"text-gray-300":"text-gray-700"}`,children:" *"}),a.jsx("input",{type:"text",value:l.name,onChange:q=>h({...l,name:q.target.value}),placeholder:"my-container",className:`w-full px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1.5 ${e?"text-gray-300":"text-gray-700"}`,children:" *"}),a.jsx("input",{type:"text",value:l.image,onChange:q=>h({...l,image:q.target.value}),placeholder:"nginx:latest",className:`w-full px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1.5 ${e?"text-gray-300":"text-gray-700"}`,children:" URL ()"}),m?a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${e?"bg-white/5":"bg-gray-100"} overflow-hidden border ${e?"border-white/10":"border-gray-200"}`,children:a.jsx("img",{src:l.iconUrl,alt:"Preview",className:"w-full h-full object-cover",onError:q=>q.target.style.display="none"},l.iconUrl)}),a.jsxs("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:l.iconUrl,onChange:q=>h({...l,iconUrl:q.target.value}),placeholder:"https://example.com/icon.png",className:`flex-1 px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`}),a.jsx("button",{type:"button",onClick:()=>{h({...l,iconUrl:""}),f(!1)},className:`p-2 rounded-lg transition-colors ${e?"hover:bg-red-500/20 text-red-400":"hover:bg-red-100 text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]})]}):a.jsxs("button",{type:"button",onClick:()=>f(!0),className:`text-sm flex items-center gap-1 ${e?"text-cyan-400":"text-cyan-600"} hover:underline`,children:[a.jsx(lr,{className:"w-3 h-3"}),""]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1.5 ${e?"text-gray-300":"text-gray-700"}`,children:"Web UI  ()"}),v?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l.webUi,onChange:q=>h({...l,webUi:q.target.value}),placeholder:"192.168.1.100:8080",className:`flex-1 px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`}),a.jsx("button",{type:"button",onClick:()=>{h({...l,webUi:""}),x(!1)},className:`p-2 rounded-lg transition-colors ${e?"hover:bg-red-500/20 text-red-400":"hover:bg-red-100 text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]}):a.jsxs("button",{type:"button",onClick:()=>x(!0),className:`text-sm flex items-center gap-1 ${e?"text-cyan-400":"text-cyan-600"} hover:underline`,children:[a.jsx(lr,{className:"w-3 h-3"})," Web UI"]})]})]})]}),a.jsx("div",{className:`h-px ${e?"bg-white/10":"bg-gray-200"}`}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("button",{type:"button",onClick:()=>W("ports"),className:`text-xs flex items-center gap-1 px-2 py-1 rounded transition-colors ${e?"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-3 h-3"}),""]})]}),a.jsxs("div",{className:"space-y-2",children:[l.ports.map((q,re)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:q,onChange:te=>le("ports",re,te.target.value),placeholder:"8080:80 (:)",className:`flex-1 px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"}`}),a.jsx("button",{type:"button",onClick:()=>ee("ports",re),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-red-500/20 text-red-400":"hover:bg-red-100 text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]},re)),l.ports.length===0&&a.jsx("p",{className:`text-xs italic ${e?"text-gray-500":"text-gray-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("button",{type:"button",onClick:()=>W("volumes"),className:`text-xs flex items-center gap-1 px-2 py-1 rounded transition-colors ${e?"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-3 h-3"}),""]})]}),a.jsxs("div",{className:"space-y-2",children:[l.volumes.map((q,re)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:q,onChange:te=>le("volumes",re,te.target.value),placeholder:"/host/path:/container/path (:)",className:`flex-1 px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"}`}),a.jsx("button",{type:"button",onClick:()=>ee("volumes",re),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-red-500/20 text-red-400":"hover:bg-red-100 text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]},re)),l.volumes.length===0&&a.jsx("p",{className:`text-xs italic ${e?"text-gray-500":"text-gray-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("button",{type:"button",onClick:()=>W("env"),className:`text-xs flex items-center gap-1 px-2 py-1 rounded transition-colors ${e?"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-3 h-3"}),""]})]}),a.jsxs("div",{className:"space-y-2",children:[l.env.map((q,re)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:q,onChange:te=>le("env",re,te.target.value),placeholder:"ENV_NAME=value (=)",className:`flex-1 px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"}`}),a.jsx("button",{type:"button",onClick:()=>ee("env",re),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-red-500/20 text-red-400":"hover:bg-red-100 text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]},re)),l.env.length===0&&a.jsx("p",{className:`text-xs italic ${e?"text-gray-500":"text-gray-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("select",{value:l.network,onChange:q=>h({...l,network:q.target.value}),className:`w-full px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"}`,children:[a.jsx("option",{value:"bridge",children:"Bridge ()"}),a.jsx("option",{value:"host",children:"Host"}),a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"container",children:"Container"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("select",{value:l.restart,onChange:q=>h({...l,restart:q.target.value}),className:`w-full px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"}`,children:[a.jsx("option",{value:"no",children:" (no)"}),a.jsx("option",{value:"always",children:" (always)"}),a.jsx("option",{value:"on-failure",children:" (on-failure)"}),a.jsx("option",{value:"unless-stopped",children:" (unless-stopped)"})]})]})]})]})}),a.jsx("div",{className:`p-6 border-t flex-shrink-0 ${e?"border-white/10":"border-gray-200"}`,children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:`flex-1 px-4 py-3 rounded-lg font-medium ${e?"glass glass-hover text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:""}),a.jsx("button",{type:"submit",form:"create-container-form",className:`flex-1 px-4 py-3 rounded-lg font-medium text-white disabled:opacity-50 ${w?"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600":"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600"}`,disabled:b||n==="command",children:b?w?"...":"...":w?"":""})]})})]})]})})}var t0={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={4567:function(c,o,l){var h=this&&this.__decorate||function(g,y,S,E){var k,w=arguments.length,C=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,S):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,y,S,E);else for(var N=g.length-1;N>=0;N--)(k=g[N])&&(C=(w<3?k(C):w>3?k(y,S,C):k(y,S))||C);return w>3&&C&&Object.defineProperty(y,S,C),C},m=this&&this.__param||function(g,y){return function(S,E){y(S,E,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const f=l(9042),v=l(6114),x=l(9924),b=l(844),_=l(5596),u=l(4725),p=l(3656);let d=o.AccessibilityManager=class extends b.Disposable{constructor(g,y){super(),this._terminal=g,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new _.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,b.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(g){for(let y=0;y<g;y++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,y){this._liveRegionDebouncer.refresh(g,y,this._terminal.rows)}_renderRows(g,y){const S=this._terminal.buffer,E=S.lines.length.toString();for(let k=g;k<=y;k++){const w=S.translateBufferLineToString(S.ydisp+k,!0),C=(S.ydisp+k+1).toString(),N=this._rowElements[k];N&&(w.length===0?N.innerText="":N.textContent=w,N.setAttribute("aria-posinset",C),N.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,y){const S=g.target,E=this._rowElements[y===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==E)return;let k,w;if(y===0?(k=S,w=this._rowElements.pop(),this._rowContainer.removeChild(w)):(k=this._rowElements.shift(),w=S,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),w.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=document.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=d=h([m(1,u.IRenderService)],d)},3614:(c,o)=>{function l(v){return v.replace(/\r?\n/g,"\r")}function h(v,x){return x?"\x1B[200~"+v+"\x1B[201~":v}function m(v,x,b,_){v=h(v=l(v),b.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),b.triggerDataEvent(v,!0),x.value=""}function f(v,x,b){const _=b.getBoundingClientRect(),u=v.clientX-_.left-10,p=v.clientY-_.top-10;x.style.width="20px",x.style.height="20px",x.style.left=`${u}px`,x.style.top=`${p}px`,x.style.zIndex="1000",x.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=h,o.copyHandler=function(v,x){v.clipboardData&&v.clipboardData.setData("text/plain",x.selectionText),v.preventDefault()},o.handlePasteEvent=function(v,x,b,_){v.stopPropagation(),v.clipboardData&&m(v.clipboardData.getData("text/plain"),x,b,_)},o.paste=m,o.moveTextAreaUnderMouseCursor=f,o.rightClickHandler=function(v,x,b,_,u){f(v,x,b),u&&_.rightClickSelect(v),x.value=_.selectionText,x.select()}},7239:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const h=l(1505);o.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(m,f,v){this._css.set(m,f,v)}getCss(m,f){return this._css.get(m,f)}setColor(m,f,v){this._color.set(m,f,v)}getColor(m,f){return this._color.get(m,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,h,m,f){l.addEventListener(h,m,f);let v=!1;return{dispose:()=>{v||(v=!0,l.removeEventListener(h,m,f))}}}},6465:function(c,o,l){var h=this&&this.__decorate||function(u,p,d,g){var y,S=arguments.length,E=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,p,d,g);else for(var k=u.length-1;k>=0;k--)(y=u[k])&&(E=(S<3?y(E):S>3?y(p,d,E):y(p,d))||E);return S>3&&E&&Object.defineProperty(p,d,E),E},m=this&&this.__param||function(u,p){return function(d,g){p(d,g,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const f=l(3656),v=l(8460),x=l(844),b=l(2585);let _=o.Linkifier2=class extends x.Disposable{get currentLink(){return this._currentLink}constructor(u){super(),this._bufferService=u,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,x.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,x.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(u){return this._linkProviders.push(u),{dispose:()=>{const p=this._linkProviders.indexOf(u);p!==-1&&this._linkProviders.splice(p,1)}}}attachToDom(u,p,d){this._element=u,this._mouseService=p,this._renderService=d,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(u){if(this._lastMouseEvent=u,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(u,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const d=u.composedPath();for(let g=0;g<d.length;g++){const y=d[g];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(u){if(this._activeLine!==u.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(u,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,u)||(this._clearCurrentLink(),this._askForLink(u,!0))}_askForLink(u,p){var d,g;this._activeProviderReplies&&p||((d=this._activeProviderReplies)===null||d===void 0||d.forEach(S=>{S==null||S.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=u.y);let y=!1;for(const[S,E]of this._linkProviders.entries())p?!((g=this._activeProviderReplies)===null||g===void 0)&&g.get(S)&&(y=this._checkLinkProviderResult(S,u,y)):E.provideLinks(u.y,k=>{var w,C;if(this._isMouseOut)return;const N=k==null?void 0:k.map(O=>({link:O}));(w=this._activeProviderReplies)===null||w===void 0||w.set(S,N),y=this._checkLinkProviderResult(S,u,y),((C=this._activeProviderReplies)===null||C===void 0?void 0:C.size)===this._linkProviders.length&&this._removeIntersectingLinks(u.y,this._activeProviderReplies)})}_removeIntersectingLinks(u,p){const d=new Set;for(let g=0;g<p.size;g++){const y=p.get(g);if(y)for(let S=0;S<y.length;S++){const E=y[S],k=E.link.range.start.y<u?0:E.link.range.start.x,w=E.link.range.end.y>u?this._bufferService.cols:E.link.range.end.x;for(let C=k;C<=w;C++){if(d.has(C)){y.splice(S--,1);break}d.add(C)}}}}_checkLinkProviderResult(u,p,d){var g;if(!this._activeProviderReplies)return d;const y=this._activeProviderReplies.get(u);let S=!1;for(let E=0;E<u;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(S=!0);if(!S&&y){const E=y.find(k=>this._linkAtPosition(k.link,p));E&&(d=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let E=0;E<this._activeProviderReplies.size;E++){const k=(g=this._activeProviderReplies.get(E))===null||g===void 0?void 0:g.find(w=>this._linkAtPosition(w.link,p));if(k){d=!0,this._handleNewLink(k);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(u){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(u,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(u,this._currentLink.link.text)}_clearCurrentLink(u,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!u||!p||this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,x.disposeArray)(this._linkCacheDisposables))}_handleNewLink(u){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(u.link,p)&&(this._currentLink=u,this._currentLink.state={decorations:{underline:u.link.decorations===void 0||u.link.decorations.underline,pointerCursor:u.link.decorations===void 0||u.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,u.link,this._lastMouseEvent),u.link.decorations={},Object.defineProperties(u.link.decorations,{pointerCursor:{get:()=>{var d,g;return(g=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||g===void 0?void 0:g.decorations.pointerCursor},set:d=>{var g,y;!((g=this._currentLink)===null||g===void 0)&&g.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,g;return(g=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||g===void 0?void 0:g.decorations.underline},set:d=>{var g,y,S;!((g=this._currentLink)===null||g===void 0)&&g.state&&((S=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||S===void 0?void 0:S.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(u.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const g=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=g&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(g,y),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(u,p,d){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&u.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(d,p.text)}_fireUnderlineEvent(u,p){const d=u.range,g=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-g-1,d.end.x,d.end.y-g-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(u,p,d){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&u.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(d,p.text)}_linkAtPosition(u,p){const d=u.range.start.y*this._bufferService.cols+u.range.start.x,g=u.range.end.y*this._bufferService.cols+u.range.end.x,y=p.y*this._bufferService.cols+p.x;return d<=y&&y<=g}_positionFromMouseEvent(u,p,d){const g=d.getCoords(u,p,this._bufferService.cols,this._bufferService.rows);if(g)return{x:g[0],y:g[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(u,p,d,g,y){return{x1:u,y1:p,x2:d,y2:g,cols:this._bufferService.cols,fg:y}}};o.Linkifier2=_=h([m(0,b.IBufferService)],_)},9042:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(c,o,l){var h=this&&this.__decorate||function(_,u,p,d){var g,y=arguments.length,S=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,p):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(_,u,p,d);else for(var E=_.length-1;E>=0;E--)(g=_[E])&&(S=(y<3?g(S):y>3?g(u,p,S):g(u,p))||S);return y>3&&S&&Object.defineProperty(u,p,S),S},m=this&&this.__param||function(_,u){return function(p,d){u(p,d,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const f=l(511),v=l(2585);let x=o.OscLinkProvider=class{constructor(_,u,p){this._bufferService=_,this._optionsService=u,this._oscLinkService=p}provideLinks(_,u){var p;const d=this._bufferService.buffer.lines.get(_-1);if(!d)return void u(void 0);const g=[],y=this._optionsService.rawOptions.linkHandler,S=new f.CellData,E=d.getTrimmedLength();let k=-1,w=-1,C=!1;for(let N=0;N<E;N++)if(w!==-1||d.hasContent(N)){if(d.loadCell(N,S),S.hasExtendedAttrs()&&S.extended.urlId){if(w===-1){w=N,k=S.extended.urlId;continue}C=S.extended.urlId!==k}else w!==-1&&(C=!0);if(C||w!==-1&&N===E-1){const O=(p=this._oscLinkService.getLinkData(k))===null||p===void 0?void 0:p.uri;if(O){const R={start:{x:w+1,y:_},end:{x:N+(C||N!==E-1?0:1),y:_}};let P=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const D=new URL(O);["http:","https:"].includes(D.protocol)||(P=!0)}catch{P=!0}P||g.push({text:O,range:R,activate:(D,B)=>y?y.activate(D,B,R):b(0,B),hover:(D,B)=>{var F;return(F=y==null?void 0:y.hover)===null||F===void 0?void 0:F.call(y,D,B,R)},leave:(D,B)=>{var F;return(F=y==null?void 0:y.leave)===null||F===void 0?void 0:F.call(y,D,B,R)}})}C=!1,S.hasExtendedAttrs()&&S.extended.urlId?(w=N,k=S.extended.urlId):(w=-1,k=-1)}}u(g)}};function b(_,u){if(confirm(`Do you want to navigate to ${u}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=x=h([m(0,v.IBufferService),m(1,v.IOptionsService),m(2,v.IOscLinkService)],x)},6193:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,h){this._parentWindow=l,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,h,m){this._rowCount=m,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const h=l(844);class m extends h.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,h.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=m},3236:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const h=l(3614),m=l(3656),f=l(6465),v=l(9042),x=l(3730),b=l(1680),_=l(3107),u=l(5744),p=l(2950),d=l(1296),g=l(428),y=l(4269),S=l(5114),E=l(8934),k=l(3230),w=l(9312),C=l(4725),N=l(6731),O=l(8055),R=l(8969),P=l(8460),D=l(844),B=l(6114),F=l(8437),U=l(2584),j=l(7399),A=l(5941),T=l(9074),I=l(2585),z=l(5435),Y=l(4567),X=typeof window<"u"?window.document:null;class Z extends R.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(L={}){super(L),this.browser=B,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new D.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(x.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(I.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows(($,V)=>this.refresh($,V))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport($=>this._reportWindowsOptions($))),this.register(this._inputHandler.onColor($=>this._handleColorEvent($))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize($=>this._afterResize($.cols,$.rows))),this.register((0,D.toDisposable)(()=>{var $,V;this._customKeyEventHandler=void 0,(V=($=this.element)===null||$===void 0?void 0:$.parentNode)===null||V===void 0||V.removeChild(this.element)}))}_handleColorEvent(L){if(this._themeService)for(const $ of L){let V,W="";switch($.index){case 256:V="foreground",W="10";break;case 257:V="background",W="11";break;case 258:V="cursor",W="12";break;default:V="ansi",W="4;"+$.index}switch($.type){case 0:const le=O.color.toColorRGB(V==="ansi"?this._themeService.colors.ansi[$.index]:this._themeService.colors[V]);this.coreService.triggerDataEvent(`${U.C0.ESC}]${W};${(0,A.toRgbString)(le)}${U.C1_ESCAPED.ST}`);break;case 1:if(V==="ansi")this._themeService.modifyColors(ee=>ee.ansi[$.index]=O.rgba.toColor(...$.color));else{const ee=V;this._themeService.modifyColors(_e=>_e[ee]=O.rgba.toColor(...$.color))}break;case 2:this._themeService.restoreColor($.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(L){L?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(L){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[I"),this.updateCursorStyle(L),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var L;return(L=this.textarea)===null||L===void 0?void 0:L.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(U.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const L=this.buffer.ybase+this.buffer.y,$=this.buffer.lines.get(L);if(!$)return;const V=Math.min(this.buffer.x,this.cols-1),W=this._renderService.dimensions.css.cell.height,le=$.getWidth(V),ee=this._renderService.dimensions.css.cell.width*le,_e=this.buffer.y*this._renderService.dimensions.css.cell.height,Re=V*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Re+"px",this.textarea.style.top=_e+"px",this.textarea.style.width=ee+"px",this.textarea.style.height=W+"px",this.textarea.style.lineHeight=W+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",$=>{this.hasSelection()&&(0,h.copyHandler)($,this._selectionService)}));const L=$=>(0,h.handlePasteEvent)($,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",L)),this.register((0,m.addDisposableDomListener)(this.element,"paste",L)),B.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",$=>{$.button===2&&(0,h.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",$=>{(0,h.rightClickHandler)($,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),B.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",$=>{$.button===1&&(0,h.moveTextAreaUnderMouseCursor)($,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",L=>this._keyUp(L),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",L=>this._keyDown(L),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",L=>this._keyPress(L),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",L=>this._compositionHelper.compositionupdate(L))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,m.addDisposableDomListener)(this.textarea,"input",L=>this._inputEvent(L),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(L){var $;if(!L)throw new Error("Terminal requires a parent element.");L.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=L.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),L.appendChild(this.element);const V=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),V.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),V.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),B.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,($=this._document.defaultView)!==null&&$!==void 0?$:window),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",W=>this._handleTextAreaFocus(W))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(g.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(W=>this._onRender.fire(W))),this.onResize(W=>this._renderService.resize(W.cols,W.rows)),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(V);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(b.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(W=>this._renderService.handleSelectionChanged(W.start,W.end,W.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(W=>{this.textarea.value=W,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(W=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",W=>this._selectionService.handleMouseDown(W))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",W=>this._handleScreenReaderModeOptionChange(W))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",W=>{!this._overviewRulerRenderer&&W&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const L=this,$=this.element;function V(ee){const _e=L._mouseService.getMouseReportCoords(ee,L.screenElement);if(!_e)return!1;let Re,q;switch(ee.overrideType||ee.type){case"mousemove":q=32,ee.buttons===void 0?(Re=3,ee.button!==void 0&&(Re=ee.button<3?ee.button:3)):Re=1&ee.buttons?0:4&ee.buttons?1:2&ee.buttons?2:3;break;case"mouseup":q=0,Re=ee.button<3?ee.button:3;break;case"mousedown":q=1,Re=ee.button<3?ee.button:3;break;case"wheel":if(L.viewport.getLinesScrolled(ee)===0)return!1;q=ee.deltaY<0?0:1,Re=4;break;default:return!1}return!(q===void 0||Re===void 0||Re>4)&&L.coreMouseService.triggerMouseEvent({col:_e.col,row:_e.row,x:_e.x,y:_e.y,button:Re,action:q,ctrl:ee.ctrlKey,alt:ee.altKey,shift:ee.shiftKey})}const W={mouseup:null,wheel:null,mousedrag:null,mousemove:null},le={mouseup:ee=>(V(ee),ee.buttons||(this._document.removeEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.removeEventListener("mousemove",W.mousedrag)),this.cancel(ee)),wheel:ee=>(V(ee),this.cancel(ee,!0)),mousedrag:ee=>{ee.buttons&&V(ee)},mousemove:ee=>{ee.buttons||V(ee)}};this.register(this.coreMouseService.onProtocolChange(ee=>{ee?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ee)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ee?W.mousemove||($.addEventListener("mousemove",le.mousemove),W.mousemove=le.mousemove):($.removeEventListener("mousemove",W.mousemove),W.mousemove=null),16&ee?W.wheel||($.addEventListener("wheel",le.wheel,{passive:!1}),W.wheel=le.wheel):($.removeEventListener("wheel",W.wheel),W.wheel=null),2&ee?W.mouseup||($.addEventListener("mouseup",le.mouseup),W.mouseup=le.mouseup):(this._document.removeEventListener("mouseup",W.mouseup),$.removeEventListener("mouseup",W.mouseup),W.mouseup=null),4&ee?W.mousedrag||(W.mousedrag=le.mousedrag):(this._document.removeEventListener("mousemove",W.mousedrag),W.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)($,"mousedown",ee=>{if(ee.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ee))return V(ee),W.mouseup&&this._document.addEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.addEventListener("mousemove",W.mousedrag),this.cancel(ee)})),this.register((0,m.addDisposableDomListener)($,"wheel",ee=>{if(!W.wheel){if(!this.buffer.hasScrollback){const _e=this.viewport.getLinesScrolled(ee);if(_e===0)return;const Re=U.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ee.deltaY<0?"A":"B");let q="";for(let re=0;re<Math.abs(_e);re++)q+=Re;return this.coreService.triggerDataEvent(q,!0),this.cancel(ee,!0)}return this.viewport.handleWheel(ee)?this.cancel(ee):void 0}},{passive:!1})),this.register((0,m.addDisposableDomListener)($,"touchstart",ee=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ee),this.cancel(ee)},{passive:!0})),this.register((0,m.addDisposableDomListener)($,"touchmove",ee=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ee)?void 0:this.cancel(ee)},{passive:!1}))}refresh(L,$){var V;(V=this._renderService)===null||V===void 0||V.refreshRows(L,$)}updateCursorStyle(L){var $;!(($=this._selectionService)===null||$===void 0)&&$.shouldColumnSelect(L)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(L,$,V=0){var W;V===1?(super.scrollLines(L,$,V),this.refresh(0,this.rows-1)):(W=this.viewport)===null||W===void 0||W.scrollLines(L)}paste(L){(0,h.paste)(L,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(L){this._customKeyEventHandler=L}registerLinkProvider(L){return this.linkifier2.registerLinkProvider(L)}registerCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const $=this._characterJoinerService.register(L);return this.refresh(0,this.rows-1),$}deregisterCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(L)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(L){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+L)}registerDecoration(L){return this._decorationService.registerDecoration(L)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(L,$,V){this._selectionService.setSelection(L,$,V)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var L;(L=this._selectionService)===null||L===void 0||L.clearSelection()}selectAll(){var L;(L=this._selectionService)===null||L===void 0||L.selectAll()}selectLines(L,$){var V;(V=this._selectionService)===null||V===void 0||V.selectLines(L,$)}_keyDown(L){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;const $=this.browser.isMac&&this.options.macOptionIsMeta&&L.altKey;if(!$&&!this._compositionHelper.keydown(L))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;$||L.key!=="Dead"&&L.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const V=(0,j.evaluateKeyboardEvent)(L,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(L),V.type===3||V.type===2){const W=this.rows-1;return this.scrollLines(V.type===2?-W:W),this.cancel(L,!0)}return V.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,L)||(V.cancel&&this.cancel(L,!0),!V.key||!!(L.key&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.key.length===1&&L.key.charCodeAt(0)>=65&&L.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(V.key!==U.C0.ETX&&V.key!==U.C0.CR||(this.textarea.value=""),this._onKey.fire({key:V.key,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(V.key,!0),!this.optionsService.rawOptions.screenReaderMode||L.altKey||L.ctrlKey?this.cancel(L,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(L,$){const V=L.isMac&&!this.options.macOptionIsMeta&&$.altKey&&!$.ctrlKey&&!$.metaKey||L.isWindows&&$.altKey&&$.ctrlKey&&!$.metaKey||L.isWindows&&$.getModifierState("AltGraph");return $.type==="keypress"?V:V&&(!$.keyCode||$.keyCode>47)}_keyUp(L){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1||(function($){return $.keyCode===16||$.keyCode===17||$.keyCode===18}(L)||this.focus(),this.updateCursorStyle(L),this._keyPressHandled=!1)}_keyPress(L){let $;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;if(this.cancel(L),L.charCode)$=L.charCode;else if(L.which===null||L.which===void 0)$=L.keyCode;else{if(L.which===0||L.charCode===0)return!1;$=L.which}return!(!$||(L.altKey||L.ctrlKey||L.metaKey)&&!this._isThirdLevelShift(this.browser,L)||($=String.fromCharCode($),this._onKey.fire({key:$,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent($,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(L){if(L.data&&L.inputType==="insertText"&&(!L.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const $=L.data;return this.coreService.triggerDataEvent($,!0),this.cancel(L),!0}return!1}resize(L,$){L!==this.cols||$!==this.rows?super.resize(L,$):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(L,$){var V,W;(V=this._charSizeService)===null||V===void 0||V.measure(),(W=this.viewport)===null||W===void 0||W.syncScrollArea(!0)}clear(){var L;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let $=1;$<this.rows;$++)this.buffer.lines.push(this.buffer.getBlankLine(F.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(L=this.viewport)===null||L===void 0||L.reset(),this.refresh(0,this.rows-1)}}reset(){var L,$;this.options.rows=this.rows,this.options.cols=this.cols;const V=this._customKeyEventHandler;this._setup(),super.reset(),(L=this._selectionService)===null||L===void 0||L.reset(),this._decorationService.reset(),($=this.viewport)===null||$===void 0||$.reset(),this._customKeyEventHandler=V,this.refresh(0,this.rows-1)}clearTextureAtlas(){var L;(L=this._renderService)===null||L===void 0||L.clearTextureAtlas()}_reportFocus(){var L;!((L=this.element)===null||L===void 0)&&L.classList.contains("focus")?this.coreService.triggerDataEvent(U.C0.ESC+"[I"):this.coreService.triggerDataEvent(U.C0.ESC+"[O")}_reportWindowsOptions(L){if(this._renderService)switch(L){case z.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const $=this._renderService.dimensions.css.canvas.width.toFixed(0),V=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[4;${V};${$}t`);break;case z.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const W=this._renderService.dimensions.css.cell.width.toFixed(0),le=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${U.C0.ESC}[6;${le};${W}t`)}}cancel(L,$){if(this.options.cancelEvents||$)return L.preventDefault(),L.stopPropagation(),!1}}o.Terminal=Z},9924:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,h=1e3){this._renderCallback=l,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,h,m){this._rowCount=m,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=f-this._lastRefreshMs,x=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},x)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h)}}},1680:function(c,o,l){var h=this&&this.__decorate||function(p,d,g,y){var S,E=arguments.length,k=E<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,d,g,y);else for(var w=p.length-1;w>=0;w--)(S=p[w])&&(k=(E<3?S(k):E>3?S(d,g,k):S(d,g))||k);return E>3&&k&&Object.defineProperty(d,g,k),k},m=this&&this.__param||function(p,d){return function(g,y){d(g,y,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const f=l(3656),v=l(4725),x=l(8460),b=l(844),_=l(2585);let u=o.Viewport=class extends b.Disposable{constructor(p,d,g,y,S,E,k,w){super(),this._viewportElement=p,this._scrollArea=d,this._bufferService=g,this._optionsService=y,this._charSizeService=S,this._renderService=E,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(C=>this._activeBuffer=C.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(C=>this._renderDimensions=C)),this._handleThemeChange(w.colors),this.register(w.onChangeColors(C=>this._handleThemeChange(C))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,d){const g=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&g<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const d=this._getPixelsScrolled(p);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(p,d))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const d=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let d=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(p,d){var g;let y,S="";const E=[],k=d??this._bufferService.buffer.lines.length,w=this._bufferService.buffer.lines;for(let C=p;C<k;C++){const N=w.get(C);if(!N)continue;const O=(g=w.get(C+1))===null||g===void 0?void 0:g.isWrapped;if(S+=N.translateToString(!O),!O||C===w.length-1){const R=document.createElement("div");R.textContent=S,E.push(R),S.length>0&&(y=R),S=""}}return{bufferElements:E,cursorElement:y}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let d=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(p,d){const g=this._optionsService.rawOptions.fastScrollModifier;return g==="alt"&&d.altKey||g==="ctrl"&&d.ctrlKey||g==="shift"&&d.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const d=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(p,d))}};o.Viewport=u=h([m(2,_.IBufferService),m(3,_.IOptionsService),m(4,v.ICharSizeService),m(5,v.IRenderService),m(6,v.ICoreBrowserService),m(7,v.IThemeService)],u)},3107:function(c,o,l){var h=this&&this.__decorate||function(u,p,d,g){var y,S=arguments.length,E=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,p,d,g);else for(var k=u.length-1;k>=0;k--)(y=u[k])&&(E=(S<3?y(E):S>3?y(p,d,E):y(p,d))||E);return S>3&&E&&Object.defineProperty(p,d,E),E},m=this&&this.__param||function(u,p){return function(d,g){p(d,g,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const f=l(3656),v=l(4725),x=l(844),b=l(2585);let _=o.BufferDecorationRenderer=class extends x.Disposable{constructor(u,p,d,g){super(),this._screenElement=u,this._bufferService=p,this._decorationService=d,this._renderService=g,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,x.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const u of this._decorationService.decorations)this._renderDecoration(u);this._dimensionsChanged=!1}_renderDecoration(u){this._refreshStyle(u),this._dimensionsChanged&&this._refreshXPosition(u)}_createElement(u){var p,d;const g=document.createElement("div");g.classList.add("xterm-decoration"),g.classList.toggle("xterm-decoration-top-layer",((p=u==null?void 0:u.options)===null||p===void 0?void 0:p.layer)==="top"),g.style.width=`${Math.round((u.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,g.style.height=(u.options.height||1)*this._renderService.dimensions.css.cell.height+"px",g.style.top=(u.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",g.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(d=u.options.x)!==null&&d!==void 0?d:0;return y&&y>this._bufferService.cols&&(g.style.display="none"),this._refreshXPosition(u,g),g}_refreshStyle(u){const p=u.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)u.element&&(u.element.style.display="none",u.onRenderEmitter.fire(u.element));else{let d=this._decorationElements.get(u);d||(d=this._createElement(u),u.element=d,this._decorationElements.set(u,d),this._container.appendChild(d),u.onDispose(()=>{this._decorationElements.delete(u),d.remove()})),d.style.top=p*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",u.onRenderEmitter.fire(d)}}_refreshXPosition(u,p=u.element){var d;if(!p)return;const g=(d=u.options.x)!==null&&d!==void 0?d:0;(u.options.anchor||"left")==="right"?p.style.right=g?g*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=g?g*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(u){var p;(p=this._decorationElements.get(u))===null||p===void 0||p.remove(),this._decorationElements.delete(u),u.dispose()}};o.BufferDecorationRenderer=_=h([m(1,b.IBufferService),m(2,b.IDecorationService),m(3,v.IRenderService)],_)},5871:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const h of this._zones)if(h.color===l.options.overviewRulerOptions.color&&h.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,l.marker.line))return;if(this._lineAdjacentToZone(h,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(h,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,h){return h>=l.startBufferLine&&h<=l.endBufferLine}_lineAdjacentToZone(l,h,m){return h>=l.startBufferLine-this._linePadding[m||"full"]&&h<=l.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(l,h){l.startBufferLine=Math.min(l.startBufferLine,h),l.endBufferLine=Math.max(l.endBufferLine,h)}}},5744:function(c,o,l){var h=this&&this.__decorate||function(y,S,E,k){var w,C=arguments.length,N=C<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,E):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,S,E,k);else for(var O=y.length-1;O>=0;O--)(w=y[O])&&(N=(C<3?w(N):C>3?w(S,E,N):w(S,E))||N);return C>3&&N&&Object.defineProperty(S,E,N),N},m=this&&this.__param||function(y,S){return function(E,k){S(E,k,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const f=l(5871),v=l(3656),x=l(4725),b=l(844),_=l(2585),u={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let g=o.OverviewRulerRenderer=class extends b.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,S,E,k,w,C,N){var O;super(),this._viewportElement=y,this._screenElement=S,this._bufferService=E,this._decorationService=k,this._renderService=w,this._optionsService=C,this._coreBrowseService=N,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,b.toDisposable)(()=>{var P;(P=this._canvas)===null||P===void 0||P.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=y,p.center=S,p.right=y,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=p.left,d.right=p.left+p.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);u.left=S,u.center=S,u.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const S of y)S.position!=="full"&&this._renderColorZone(S);for(const S of y)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(d[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-u[y.position||"full"]/2),p[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[y.position||"full"]))}_queueRefresh(y,S){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=g=h([m(2,_.IBufferService),m(3,_.IDecorationService),m(4,x.IRenderService),m(5,_.IOptionsService),m(6,x.ICoreBrowserService)],g)},2950:function(c,o,l){var h=this&&this.__decorate||function(_,u,p,d){var g,y=arguments.length,S=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,p):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(_,u,p,d);else for(var E=_.length-1;E>=0;E--)(g=_[E])&&(S=(y<3?g(S):y>3?g(u,p,S):g(u,p))||S);return y>3&&S&&Object.defineProperty(u,p,S),S},m=this&&this.__param||function(_,u){return function(p,d){u(p,d,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const f=l(4725),v=l(2585),x=l(2584);let b=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,u,p,d,g,y){this._textarea=_,this._compositionView=u,this._bufferService=p,this._optionsService=d,this._coreService=g,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const u={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,u.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(u.start,u.end):this._textarea.value.substring(u.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const u=this._textarea.value,p=u.replace(_,"");this._dataAlreadySent=p,u.length>_.length?this._coreService.triggerDataEvent(p,!0):u.length<_.length?this._coreService.triggerDataEvent(`${x.C0.DEL}`,!0):u.length===_.length&&u!==_&&this._coreService.triggerDataEvent(u,!0)}},0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const u=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,g=u*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=g+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=g+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}_||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=b=h([m(2,v.IBufferService),m(3,v.IOptionsService),m(4,v.ICoreService),m(5,f.IRenderService)],b)},9806:(c,o)=>{function l(h,m,f){const v=f.getBoundingClientRect(),x=h.getComputedStyle(f),b=parseInt(x.getPropertyValue("padding-left")),_=parseInt(x.getPropertyValue("padding-top"));return[m.clientX-v.left-b,m.clientY-v.top-_]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(h,m,f,v,x,b,_,u,p){if(!b)return;const d=l(h,m,f);return d?(d[0]=Math.ceil((d[0]+(p?_/2:0))/_),d[1]=Math.ceil(d[1]/u),d[0]=Math.min(Math.max(d[0],1),v+(p?1:0)),d[1]=Math.min(Math.max(d[1],1),x),d):void 0}},9504:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const h=l(2584);function m(u,p,d,g){const y=u-f(u,d),S=p-f(p,d),E=Math.abs(y-S)-function(k,w,C){let N=0;const O=k-f(k,C),R=w-f(w,C);for(let P=0;P<Math.abs(O-R);P++){const D=v(k,w)==="A"?-1:1,B=C.buffer.lines.get(O+D*P);B!=null&&B.isWrapped&&N++}return N}(u,p,d);return _(E,b(v(u,p),g))}function f(u,p){let d=0,g=p.buffer.lines.get(u),y=g==null?void 0:g.isWrapped;for(;y&&u>=0&&u<p.rows;)d++,g=p.buffer.lines.get(--u),y=g==null?void 0:g.isWrapped;return d}function v(u,p){return u>p?"A":"B"}function x(u,p,d,g,y,S){let E=u,k=p,w="";for(;E!==d||k!==g;)E+=y?1:-1,y&&E>S.cols-1?(w+=S.buffer.translateBufferLineToString(k,!1,u,E),E=0,u=0,k++):!y&&E<0&&(w+=S.buffer.translateBufferLineToString(k,!1,0,u+1),E=S.cols-1,u=E,k--);return w+S.buffer.translateBufferLineToString(k,!1,u,E)}function b(u,p){const d=p?"O":"[";return h.C0.ESC+d+u}function _(u,p){u=Math.floor(u);let d="";for(let g=0;g<u;g++)d+=p;return d}o.moveToCellSequence=function(u,p,d,g){const y=d.buffer.x,S=d.buffer.y;if(!d.buffer.hasScrollback)return function(w,C,N,O,R,P){return m(C,O,R,P).length===0?"":_(x(w,C,w,C-f(C,R),!1,R).length,b("D",P))}(y,S,0,p,d,g)+m(S,p,d,g)+function(w,C,N,O,R,P){let D;D=m(C,O,R,P).length>0?O-f(O,R):C;const B=O,F=function(U,j,A,T,I,z){let Y;return Y=m(A,T,I,z).length>0?T-f(T,I):j,U<A&&Y<=T||U>=A&&Y<T?"C":"D"}(w,C,N,O,R,P);return _(x(w,D,N,B,F==="C",R).length,b(F,P))}(y,S,u,p,d,g);let E;if(S===p)return E=y>u?"D":"C",_(Math.abs(y-u),b(E,g));E=S>p?"D":"C";const k=Math.abs(S-p);return _(function(w,C){return C.cols-w}(S>p?u:y,d)+(k-1)*d.cols+1+((S>p?y:u)-1),b(E,g))}},1296:function(c,o,l){var h=this&&this.__decorate||function(R,P,D,B){var F,U=arguments.length,j=U<3?P:B===null?B=Object.getOwnPropertyDescriptor(P,D):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(R,P,D,B);else for(var A=R.length-1;A>=0;A--)(F=R[A])&&(j=(U<3?F(j):U>3?F(P,D,j):F(P,D))||j);return U>3&&j&&Object.defineProperty(P,D,j),j},m=this&&this.__param||function(R,P){return function(D,B){P(D,B,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const f=l(3787),v=l(2550),x=l(2223),b=l(6171),_=l(4725),u=l(8055),p=l(8460),d=l(844),g=l(2585),y="xterm-dom-renderer-owner-",S="xterm-rows",E="xterm-fg-",k="xterm-bg-",w="xterm-focus",C="xterm-selection";let N=1,O=o.DomRenderer=class extends d.Disposable{constructor(R,P,D,B,F,U,j,A,T,I){super(),this._element=R,this._screenElement=P,this._viewportElement=D,this._linkifier2=B,this._charSizeService=U,this._optionsService=j,this._bufferService=A,this._coreBrowserService=T,this._themeService=I,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(C),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,b.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(z=>this._injectCss(z))),this._injectCss(this._themeService.colors),this._rowFactory=F.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(z=>this._handleLinkHover(z))),this.register(this._linkifier2.onHideLinkUnderline(z=>this._handleLinkLeave(z))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const R=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*R,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*R),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/R),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/R),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const D of this._rowElements)D.style.width=`${this.dimensions.css.canvas.width}px`,D.style.height=`${this.dimensions.css.cell.height}px`,D.style.lineHeight=`${this.dimensions.css.cell.height}px`,D.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(R){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${S} { color: ${R.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${S} .xterm-dim { color: ${u.color.multiplyOpacity(R.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,P+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",P+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${R.cursor.css};  color: ${R.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${R.cursor.css}; }}`,P+=`${this._terminalSelector} .${S}.${w} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${w} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${R.cursor.css}; color: ${R.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${R.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${R.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${R.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${C} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${C} div { position: absolute; background-color: ${R.selectionBackgroundOpaque.css};}${this._terminalSelector} .${C} div { position: absolute; background-color: ${R.selectionInactiveBackgroundOpaque.css};}`;for(const[D,B]of R.ansi.entries())P+=`${this._terminalSelector} .${E}${D} { color: ${B.css}; }${this._terminalSelector} .${E}${D}.xterm-dim { color: ${u.color.multiplyOpacity(B,.5).css}; }${this._terminalSelector} .${k}${D} { background-color: ${B.css}; }`;P+=`${this._terminalSelector} .${E}${x.INVERTED_DEFAULT_COLOR} { color: ${u.color.opaque(R.background).css}; }${this._terminalSelector} .${E}${x.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${u.color.multiplyOpacity(u.color.opaque(R.background),.5).css}; }${this._terminalSelector} .${k}${x.INVERTED_DEFAULT_COLOR} { background-color: ${R.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const R=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${R}px`,this._rowFactory.defaultSpacing=R}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(R,P){for(let D=this._rowElements.length;D<=P;D++){const B=document.createElement("div");this._rowContainer.appendChild(B),this._rowElements.push(B)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(R,P){this._refreshRowElements(R,P),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(w)}handleFocus(){this._rowContainer.classList.add(w),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(R,P,D){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(R,P,D),this.renderRows(0,this._bufferService.rows-1),!R||!P)return;const B=R[1]-this._bufferService.buffer.ydisp,F=P[1]-this._bufferService.buffer.ydisp,U=Math.max(B,0),j=Math.min(F,this._bufferService.rows-1);if(U>=this._bufferService.rows||j<0)return;const A=document.createDocumentFragment();if(D){const T=R[0]>P[0];A.appendChild(this._createSelectionElement(U,T?P[0]:R[0],T?R[0]:P[0],j-U+1))}else{const T=B===U?R[0]:0,I=U===F?P[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(U,T,I));const z=j-U-1;if(A.appendChild(this._createSelectionElement(U+1,0,this._bufferService.cols,z)),U!==j){const Y=F===j?P[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(j,0,Y))}}this._selectionContainer.appendChild(A)}_createSelectionElement(R,P,D,B=1){const F=document.createElement("div");return F.style.height=B*this.dimensions.css.cell.height+"px",F.style.top=R*this.dimensions.css.cell.height+"px",F.style.left=P*this.dimensions.css.cell.width+"px",F.style.width=this.dimensions.css.cell.width*(D-P)+"px",F}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const R of this._rowElements)R.replaceChildren()}renderRows(R,P){const D=this._bufferService.buffer,B=D.ybase+D.y,F=Math.min(D.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,A=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=R;T<=P;T++){const I=T+D.ydisp,z=this._rowElements[T],Y=D.lines.get(I);if(!z||!Y)break;z.replaceChildren(...this._rowFactory.createRow(Y,I,I===B,j,A,F,U,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!0)}_handleLinkLeave(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!1)}_setCellUnderline(R,P,D,B,F,U){D<0&&(R=0),B<0&&(P=0);const j=this._bufferService.rows-1;D=Math.max(Math.min(D,j),0),B=Math.max(Math.min(B,j),0),F=Math.min(F,this._bufferService.cols);const A=this._bufferService.buffer,T=A.ybase+A.y,I=Math.min(A.x,F-1),z=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let Z=D;Z<=B;++Z){const ge=Z+A.ydisp,L=this._rowElements[Z],$=A.lines.get(ge);if(!L||!$)break;L.replaceChildren(...this._rowFactory.createRow($,ge,ge===T,Y,X,I,z,this.dimensions.css.cell.width,this._widthCache,U?Z===D?R:0:-1,U?(Z===B?P:F)-1:-1))}}};o.DomRenderer=O=h([m(4,g.IInstantiationService),m(5,_.ICharSizeService),m(6,g.IOptionsService),m(7,g.IBufferService),m(8,_.ICoreBrowserService),m(9,_.IThemeService)],O)},3787:function(c,o,l){var h=this&&this.__decorate||function(E,k,w,C){var N,O=arguments.length,R=O<3?k:C===null?C=Object.getOwnPropertyDescriptor(k,w):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(E,k,w,C);else for(var P=E.length-1;P>=0;P--)(N=E[P])&&(R=(O<3?N(R):O>3?N(k,w,R):N(k,w))||R);return O>3&&R&&Object.defineProperty(k,w,R),R},m=this&&this.__param||function(E,k){return function(w,C){k(w,C,E)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const f=l(2223),v=l(643),x=l(511),b=l(2585),_=l(8055),u=l(4725),p=l(4269),d=l(6171),g=l(3734);let y=o.DomRendererRowFactory=class{constructor(E,k,w,C,N,O,R){this._document=E,this._characterJoinerService=k,this._optionsService=w,this._coreBrowserService=C,this._coreService=N,this._decorationService=O,this._themeService=R,this._workCell=new x.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,k,w){this._selectionStart=E,this._selectionEnd=k,this._columnSelectMode=w}createRow(E,k,w,C,N,O,R,P,D,B,F){const U=[],j=this._characterJoinerService.getJoinedCharacters(k),A=this._themeService.colors;let T,I=E.getNoBgTrimmedLength();w&&I<O+1&&(I=O+1);let z=0,Y="",X=0,Z=0,ge=0,L=!1,$=0,V=!1,W=0;const le=[],ee=B!==-1&&F!==-1;for(let _e=0;_e<I;_e++){E.loadCell(_e,this._workCell);let Re=this._workCell.getWidth();if(Re===0)continue;let q=!1,re=_e,te=this._workCell;if(j.length>0&&_e===j[0][0]){q=!0;const Ce=j.shift();te=new p.JoinedCellData(this._workCell,E.translateToString(!0,Ce[0],Ce[1]),Ce[1]-Ce[0]),re=Ce[1]-1,Re=te.getWidth()}const ue=this._isCellInSelection(_e,k),K=w&&_e===O,Q=ee&&_e>=B&&_e<=F;let J=!1;this._decorationService.forEachDecorationAtCell(_e,k,void 0,Ce=>{J=!0});let ae=te.getChars()||v.WHITESPACE_CELL_CHAR;if(ae===" "&&(te.isUnderline()||te.isOverline())&&(ae=""),W=Re*P-D.get(ae,te.isBold(),te.isItalic()),T){if(z&&(ue&&V||!ue&&!V&&te.bg===X)&&(ue&&V&&A.selectionForeground||te.fg===Z)&&te.extended.ext===ge&&Q===L&&W===$&&!K&&!q&&!J){Y+=ae,z++;continue}z&&(T.textContent=Y),T=this._document.createElement("span"),z=0,Y=""}else T=this._document.createElement("span");if(X=te.bg,Z=te.fg,ge=te.extended.ext,L=Q,$=W,V=ue,q&&O>=_e&&O<=re&&(O=_e),!this._coreService.isCursorHidden&&K){if(le.push("xterm-cursor"),this._coreBrowserService.isFocused)R&&le.push("xterm-cursor-blink"),le.push(C==="bar"?"xterm-cursor-bar":C==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":le.push("xterm-cursor-outline");break;case"block":le.push("xterm-cursor-block");break;case"bar":le.push("xterm-cursor-bar");break;case"underline":le.push("xterm-cursor-underline")}}if(te.isBold()&&le.push("xterm-bold"),te.isItalic()&&le.push("xterm-italic"),te.isDim()&&le.push("xterm-dim"),Y=te.isInvisible()?v.WHITESPACE_CELL_CHAR:te.getChars()||v.WHITESPACE_CELL_CHAR,te.isUnderline()&&(le.push(`xterm-underline-${te.extended.underlineStyle}`),Y===" "&&(Y=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${g.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let Ce=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&Ce<8&&(Ce+=8),T.style.textDecorationColor=A.ansi[Ce].css}te.isOverline()&&(le.push("xterm-overline"),Y===" "&&(Y="")),te.isStrikethrough()&&le.push("xterm-strikethrough"),Q&&(T.style.textDecoration="underline");let me=te.getFgColor(),Ee=te.getFgColorMode(),ye=te.getBgColor(),xe=te.getBgColorMode();const Me=!!te.isInverse();if(Me){const Ce=me;me=ye,ye=Ce;const Ye=Ee;Ee=xe,xe=Ye}let He,pt,Ve,Ge=!1;switch(this._decorationService.forEachDecorationAtCell(_e,k,void 0,Ce=>{Ce.options.layer!=="top"&&Ge||(Ce.backgroundColorRGB&&(xe=50331648,ye=Ce.backgroundColorRGB.rgba>>8&16777215,He=Ce.backgroundColorRGB),Ce.foregroundColorRGB&&(Ee=50331648,me=Ce.foregroundColorRGB.rgba>>8&16777215,pt=Ce.foregroundColorRGB),Ge=Ce.options.layer==="top")}),!Ge&&ue&&(He=this._coreBrowserService.isFocused?A.selectionBackgroundOpaque:A.selectionInactiveBackgroundOpaque,ye=He.rgba>>8&16777215,xe=50331648,Ge=!0,A.selectionForeground&&(Ee=50331648,me=A.selectionForeground.rgba>>8&16777215,pt=A.selectionForeground)),Ge&&le.push("xterm-decoration-top"),xe){case 16777216:case 33554432:Ve=A.ansi[ye],le.push(`xterm-bg-${ye}`);break;case 50331648:Ve=_.rgba.toColor(ye>>16,ye>>8&255,255&ye),this._addStyle(T,`background-color:#${S((ye>>>0).toString(16),"0",6)}`);break;default:Me?(Ve=A.foreground,le.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Ve=A.background}switch(He||te.isDim()&&(He=_.color.multiplyOpacity(Ve,.5)),Ee){case 16777216:case 33554432:te.isBold()&&me<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(me+=8),this._applyMinimumContrast(T,Ve,A.ansi[me],te,He,void 0)||le.push(`xterm-fg-${me}`);break;case 50331648:const Ce=_.rgba.toColor(me>>16&255,me>>8&255,255&me);this._applyMinimumContrast(T,Ve,Ce,te,He,pt)||this._addStyle(T,`color:#${S(me.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,Ve,A.foreground,te,He,void 0)||Me&&le.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}le.length&&(T.className=le.join(" "),le.length=0),K||q||J?T.textContent=Y:z++,W!==this.defaultSpacing&&(T.style.letterSpacing=`${W}px`),U.push(T),_e=re}return T&&z&&(T.textContent=Y),U}_applyMinimumContrast(E,k,w,C,N,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,d.excludeFromContrastRatioDemands)(C.getCode()))return!1;const R=this._getContrastCache(C);let P;if(N||O||(P=R.getColor(k.rgba,w.rgba)),P===void 0){const D=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);P=_.color.ensureContrastRatio(N||k,O||w,D),R.setColor((N||k).rgba,(O||w).rgba,P??null)}return!!P&&(this._addStyle(E,`color:${P.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,k){E.setAttribute("style",`${E.getAttribute("style")||""}${k};`)}_isCellInSelection(E,k){const w=this._selectionStart,C=this._selectionEnd;return!(!w||!C)&&(this._columnSelectMode?w[0]<=C[0]?E>=w[0]&&k>=w[1]&&E<C[0]&&k<=C[1]:E<w[0]&&k>=w[1]&&E>=C[0]&&k<=C[1]:k>w[1]&&k<C[1]||w[1]===C[1]&&k===w[1]&&E>=w[0]&&E<C[0]||w[1]<C[1]&&k===C[1]&&E<C[0]||w[1]<C[1]&&k===w[1]&&E>=w[0])}};function S(E,k,w){for(;E.length<w;)E=k+E;return E}o.DomRendererRowFactory=y=h([m(1,u.ICharacterJoinerService),m(2,b.IOptionsService),m(3,u.ICoreBrowserService),m(4,b.ICoreService),m(5,b.IDecorationService),m(6,u.IThemeService)],y)},2550:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=l.createElement("span"),m=l.createElement("span");m.style.fontWeight="bold";const f=l.createElement("span");f.style.fontStyle="italic";const v=l.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[h,m,f,v],this._container.appendChild(h),this._container.appendChild(m),this._container.appendChild(f),this._container.appendChild(v),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,h,m,f){l===this._font&&h===this._fontSize&&m===this._weight&&f===this._weightBold||(this._font=l,this._fontSize=h,this._weight=m,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(l,h,m){let f=0;if(!h&&!m&&l.length===1&&(f=l.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(l,0);let v=l;h&&(v+="B"),m&&(v+="I");let x=this._holey.get(v);if(x===void 0){let b=0;h&&(b|=1),m&&(b|=2),x=this._measure(l,b),this._holey.set(v,x)}return x}_measure(l,h){const m=this._measureElements[h];return m.textContent=l.repeat(32),m.offsetWidth/32}}},2223:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const h=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(c,o)=>{function l(h){return 57508<=h&&h<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},o.excludeFromContrastRatioDemands=function(h){return l(h)||function(m){return 9472<=m&&m<=9631}(h)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,h=this.selectionEnd;return!(!l||!h)&&(l[1]>h[1]||l[1]===h[1]&&l[0]>h[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(c,o,l){var h=this&&this.__decorate||function(u,p,d,g){var y,S=arguments.length,E=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,p,d,g);else for(var k=u.length-1;k>=0;k--)(y=u[k])&&(E=(S<3?y(E):S>3?y(p,d,E):y(p,d))||E);return S>3&&E&&Object.defineProperty(p,d,E),E},m=this&&this.__param||function(u,p){return function(d,g){p(d,g,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const f=l(2585),v=l(8460),x=l(844);let b=o.CharSizeService=class extends x.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,p,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new _(u,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};o.CharSizeService=b=h([m(2,f.IOptionsService)],b);class _{constructor(p,d,g){this._document=p,this._parentElement=d,this._optionsService=g,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return p.width!==0&&p.height!==0&&(this._result.width=p.width/32,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(c,o,l){var h=this&&this.__decorate||function(p,d,g,y){var S,E=arguments.length,k=E<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,d,g,y);else for(var w=p.length-1;w>=0;w--)(S=p[w])&&(k=(E<3?S(k):E>3?S(d,g,k):S(d,g))||k);return E>3&&k&&Object.defineProperty(d,g,k),k},m=this&&this.__param||function(p,d){return function(g,y){d(g,y,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const f=l(3734),v=l(643),x=l(511),b=l(2585);class _ extends f.AttributeData{constructor(d,g,y){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=g,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=_;let u=o.CharacterJoinerService=class r0{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new x.CellData}register(d){const g={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(g),g.id}deregister(d){for(let g=0;g<this._characterJoiners.length;g++)if(this._characterJoiners[g].id===d)return this._characterJoiners.splice(g,1),!0;return!1}getJoinedCharacters(d){if(this._characterJoiners.length===0)return[];const g=this._bufferService.buffer.lines.get(d);if(!g||g.length===0)return[];const y=[],S=g.translateToString(!0);let E=0,k=0,w=0,C=g.getFg(0),N=g.getBg(0);for(let O=0;O<g.getTrimmedLength();O++)if(g.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==N){if(O-E>1){const R=this._getJoinedRanges(S,w,k,g,E);for(let P=0;P<R.length;P++)y.push(R[P])}E=O,w=k,C=this._workCell.fg,N=this._workCell.bg}k+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const O=this._getJoinedRanges(S,w,k,g,E);for(let R=0;R<O.length;R++)y.push(O[R])}return y}_getJoinedRanges(d,g,y,S,E){const k=d.substring(g,y);let w=[];try{w=this._characterJoiners[0].handler(k)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const N=this._characterJoiners[C].handler(k);for(let O=0;O<N.length;O++)r0._mergeRanges(w,N[O])}catch(N){console.error(N)}return this._stringRangesToCellRanges(w,S,E),w}_stringRangesToCellRanges(d,g,y){let S=0,E=!1,k=0,w=d[S];if(w){for(let C=y;C<this._bufferService.cols;C++){const N=g.getWidth(C),O=g.getString(C).length||v.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!E&&w[0]<=k&&(w[0]=C,E=!0),w[1]<=k){if(w[1]=C,w=d[++S],!w)break;w[0]<=k?(w[0]=C,E=!0):E=!1}k+=O}}w&&(w[1]=this._bufferService.cols)}}static _mergeRanges(d,g){let y=!1;for(let S=0;S<d.length;S++){const E=d[S];if(y){if(g[1]<=E[0])return d[S-1][1]=g[1],d;if(g[1]<=E[1])return d[S-1][1]=Math.max(g[1],E[1]),d.splice(S,1),d;d.splice(S,1),S--}else{if(g[1]<=E[0])return d.splice(S,0,g),d;if(g[1]<=E[1])return E[0]=Math.min(g[0],E[0]),d;g[0]<E[1]&&(E[0]=Math.min(g[0],E[0]),y=!0)}}return y?d[d.length-1][1]=g[1]:d.push(g),d}};o.CharacterJoinerService=u=h([m(0,b.IBufferService)],u)},5114:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(l,h){this._textarea=l,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(c,o,l){var h=this&&this.__decorate||function(b,_,u,p){var d,g=arguments.length,y=g<3?_:p===null?p=Object.getOwnPropertyDescriptor(_,u):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(b,_,u,p);else for(var S=b.length-1;S>=0;S--)(d=b[S])&&(y=(g<3?d(y):g>3?d(_,u,y):d(_,u))||y);return g>3&&y&&Object.defineProperty(_,u,y),y},m=this&&this.__param||function(b,_){return function(u,p){_(u,p,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const f=l(4725),v=l(9806);let x=o.MouseService=class{constructor(b,_){this._renderService=b,this._charSizeService=_}getCoords(b,_,u,p,d){return(0,v.getCoords)(window,b,_,u,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(b,_){const u=(0,v.getCoordsRelativeToElement)(window,b,_);if(this._charSizeService.hasValidSize)return u[0]=Math.min(Math.max(u[0],0),this._renderService.dimensions.css.canvas.width-1),u[1]=Math.min(Math.max(u[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(u[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(u[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(u[0]),y:Math.floor(u[1])}}};o.MouseService=x=h([m(0,f.IRenderService),m(1,f.ICharSizeService)],x)},3230:function(c,o,l){var h=this&&this.__decorate||function(y,S,E,k){var w,C=arguments.length,N=C<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,E):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,S,E,k);else for(var O=y.length-1;O>=0;O--)(w=y[O])&&(N=(C<3?w(N):C>3?w(S,E,N):w(S,E))||N);return C>3&&N&&Object.defineProperty(S,E,N),N},m=this&&this.__param||function(y,S){return function(E,k){S(E,k,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const f=l(3656),v=l(6193),x=l(5596),b=l(4725),_=l(8460),u=l(844),p=l(7226),d=l(2585);let g=o.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,S,E,k,w,C,N,O){if(super(),this._rowCount=y,this._charSizeService=k,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(N.window,(R,P)=>this._renderRows(R,P)),this.register(this._renderDebouncer),this._screenDprMonitor=new x.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(C.onResize(()=>this._fullRefresh())),this.register(C.buffers.onBufferActivate(()=>{var R;return(R=this._renderer.value)===null||R===void 0?void 0:R.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(w.onDecorationRegistered(()=>this._fullRefresh())),this.register(w.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(C.cols,C.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(C.buffer.y,C.buffer.y,!0))),this.register((0,f.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const R=new N.window.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});R.observe(S),this.register({dispose:()=>R.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,S,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,S,this._rowCount))}_renderRows(y,S){this._renderer.value&&(y=Math.min(y,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(y,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:S}),this._onRender.fire({start:y,end:S}),this._isNextRenderRedrawOnly=!0)}resize(y,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,S;this._renderer.value&&((S=(y=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,S)):this._renderer.value.handleResize(y,S),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,S,E){var k;this._selectionState.start=y,this._selectionState.end=S,this._selectionState.columnSelectMode=E,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(y,S,E)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};o.RenderService=g=h([m(2,d.IOptionsService),m(3,b.ICharSizeService),m(4,d.IDecorationService),m(5,d.IBufferService),m(6,b.ICoreBrowserService),m(7,b.IThemeService)],g)},9312:function(c,o,l){var h=this&&this.__decorate||function(w,C,N,O){var R,P=arguments.length,D=P<3?C:O===null?O=Object.getOwnPropertyDescriptor(C,N):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(w,C,N,O);else for(var B=w.length-1;B>=0;B--)(R=w[B])&&(D=(P<3?R(D):P>3?R(C,N,D):R(C,N))||D);return P>3&&D&&Object.defineProperty(C,N,D),D},m=this&&this.__param||function(w,C){return function(N,O){C(N,O,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const f=l(9806),v=l(9504),x=l(456),b=l(4725),_=l(8460),u=l(844),p=l(6114),d=l(4841),g=l(511),y=l(2585),S="",E=new RegExp(S,"g");let k=o.SelectionService=class extends u.Disposable{constructor(w,C,N,O,R,P,D,B,F){super(),this._element=w,this._screenElement=C,this._linkifier=N,this._bufferService=O,this._coreService=R,this._mouseService=P,this._optionsService=D,this._renderService=B,this._coreBrowserService=F,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=U=>this._handleMouseMove(U),this._mouseUpListener=U=>this._handleMouseUp(U),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(U=>this._handleTrim(U)),this.register(this._bufferService.buffers.onBufferActivate(U=>this._handleBufferActivate(U))),this.enable(),this._model=new x.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const w=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!w||!C||w[0]===C[0]&&w[1]===C[1])}get selectionText(){const w=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!w||!C)return"";const N=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(w[0]===C[0])return"";const R=w[0]<C[0]?w[0]:C[0],P=w[0]<C[0]?C[0]:w[0];for(let D=w[1];D<=C[1];D++){const B=N.translateBufferLineToString(D,!0,R,P);O.push(B)}}else{const R=w[1]===C[1]?C[0]:void 0;O.push(N.translateBufferLineToString(w[1],!0,w[0],R));for(let P=w[1]+1;P<=C[1]-1;P++){const D=N.lines.get(P),B=N.translateBufferLineToString(P,!0);D!=null&&D.isWrapped?O[O.length-1]+=B:O.push(B)}if(w[1]!==C[1]){const P=N.lines.get(C[1]),D=N.translateBufferLineToString(C[1],!0,0,C[0]);P&&P.isWrapped?O[O.length-1]+=D:O.push(D)}}return O.map(R=>R.replace(E," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(w){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&w&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(w){const C=this._getMouseBufferCoords(w),N=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(N&&O&&C)&&this._areCoordsInSelection(C,N,O)}isCellInSelection(w,C){const N=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!N||!O)&&this._areCoordsInSelection([w,C],N,O)}_areCoordsInSelection(w,C,N){return w[1]>C[1]&&w[1]<N[1]||C[1]===N[1]&&w[1]===C[1]&&w[0]>=C[0]&&w[0]<N[0]||C[1]<N[1]&&w[1]===N[1]&&w[0]<N[0]||C[1]<N[1]&&w[1]===C[1]&&w[0]>=C[0]}_selectWordAtCursor(w,C){var N,O;const R=(O=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||O===void 0?void 0:O.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const P=this._getMouseBufferCoords(w);return!!P&&(this._selectWordAt(P,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(w,C){this._model.clearSelection(),w=Math.max(w,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,w],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(w){this._model.handleTrim(w)&&this.refresh()}_getMouseBufferCoords(w){const C=this._mouseService.getCoords(w,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(w){let C=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,w,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=N?0:(C>N&&(C-=N),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(w){return p.isMac?w.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:w.shiftKey}handleMouseDown(w){if(this._mouseDownTimeStamp=w.timeStamp,(w.button!==2||!this.hasSelection)&&w.button===0){if(!this._enabled){if(!this.shouldForceSelection(w))return;w.stopPropagation()}w.preventDefault(),this._dragScrollAmount=0,this._enabled&&w.shiftKey?this._handleIncrementalClick(w):w.detail===1?this._handleSingleClick(w):w.detail===2?this._handleDoubleClick(w):w.detail===3&&this._handleTripleClick(w),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(w){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(w))}_handleSingleClick(w){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(w)?3:0,this._model.selectionStart=this._getMouseBufferCoords(w),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&C.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(w){this._selectWordAtCursor(w,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(w){const C=this._getMouseBufferCoords(w);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(w){return w.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(w){if(w.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(w),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(w),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const O=N.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const w=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(w.ydisp+this._bufferService.rows,w.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=w.ydisp),this.refresh()}}_handleMouseUp(w){const C=w.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&w.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(w,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const O=(0,v.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const w=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,N=!(!w||!C||w[0]===C[0]&&w[1]===C[1]);N?w&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&w[0]===this._oldSelectionStart[0]&&w[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(w,C,N)):this._oldHasSelection&&this._fireOnSelectionChange(w,C,N)}_fireOnSelectionChange(w,C,N){this._oldSelectionStart=w,this._oldSelectionEnd=C,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(w){this.clearSelection(),this._trimListener.dispose(),this._trimListener=w.activeBuffer.lines.onTrim(C=>this._handleTrim(C))}_convertViewportColToCharacterIndex(w,C){let N=C;for(let O=0;C>=O;O++){const R=w.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:R>1&&C!==O&&(N+=R-1)}return N}setSelection(w,C,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[w,C],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(w){this._isClickInSelection(w)||(this._selectWordAtCursor(w,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(w,C,N=!0,O=!0){if(w[0]>=this._bufferService.cols)return;const R=this._bufferService.buffer,P=R.lines.get(w[1]);if(!P)return;const D=R.translateBufferLineToString(w[1],!1);let B=this._convertViewportColToCharacterIndex(P,w[0]),F=B;const U=w[0]-B;let j=0,A=0,T=0,I=0;if(D.charAt(B)===" "){for(;B>0&&D.charAt(B-1)===" ";)B--;for(;F<D.length&&D.charAt(F+1)===" ";)F++}else{let X=w[0],Z=w[0];P.getWidth(X)===0&&(j++,X--),P.getWidth(Z)===2&&(A++,Z++);const ge=P.getString(Z).length;for(ge>1&&(I+=ge-1,F+=ge-1);X>0&&B>0&&!this._isCharWordSeparator(P.loadCell(X-1,this._workCell));){P.loadCell(X-1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,X--):L>1&&(T+=L-1,B-=L-1),B--,X--}for(;Z<P.length&&F+1<D.length&&!this._isCharWordSeparator(P.loadCell(Z+1,this._workCell));){P.loadCell(Z+1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===2?(A++,Z++):L>1&&(I+=L-1,F+=L-1),F++,Z++}}F++;let z=B+U-j+T,Y=Math.min(this._bufferService.cols,F-B+j+A-T-I);if(C||D.slice(B,F).trim()!==""){if(N&&z===0&&P.getCodePoint(0)!==32){const X=R.lines.get(w[1]-1);if(X&&P.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const Z=this._getWordAt([this._bufferService.cols-1,w[1]-1],!1,!0,!1);if(Z){const ge=this._bufferService.cols-Z.start;z-=ge,Y+=ge}}}if(O&&z+Y===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const X=R.lines.get(w[1]+1);if(X!=null&&X.isWrapped&&X.getCodePoint(0)!==32){const Z=this._getWordAt([0,w[1]+1],!1,!1,!0);Z&&(Y+=Z.length)}}return{start:z,length:Y}}}_selectWordAt(w,C){const N=this._getWordAt(w,C);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,w[1]--;this._model.selectionStart=[N.start,w[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(w){const C=this._getWordAt(w,!0);if(C){let N=w[1];for(;C.start<0;)C.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,N]}}_isCharWordSeparator(w){return w.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(w.getChars())>=0}_selectLineAt(w){const C=this._bufferService.buffer.getWrappedRangeForLine(w),N={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(N,this._bufferService.cols)}};o.SelectionService=k=h([m(3,y.IBufferService),m(4,y.ICoreService),m(5,b.IMouseService),m(6,y.IOptionsService),m(7,b.IRenderService),m(8,b.ICoreBrowserService)],k)},4725:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const h=l(8343);o.ICharSizeService=(0,h.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),o.IMouseService=(0,h.createDecorator)("MouseService"),o.IRenderService=(0,h.createDecorator)("RenderService"),o.ISelectionService=(0,h.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,h.createDecorator)("ThemeService")},6731:function(c,o,l){var h=this&&this.__decorate||function(k,w,C,N){var O,R=arguments.length,P=R<3?w:N===null?N=Object.getOwnPropertyDescriptor(w,C):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(k,w,C,N);else for(var D=k.length-1;D>=0;D--)(O=k[D])&&(P=(R<3?O(P):R>3?O(w,C,P):O(w,C))||P);return R>3&&P&&Object.defineProperty(w,C,P),P},m=this&&this.__param||function(k,w){return function(C,N){w(C,N,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const f=l(7239),v=l(8055),x=l(8460),b=l(844),_=l(2585),u=v.css.toColor("#ffffff"),p=v.css.toColor("#000000"),d=v.css.toColor("#ffffff"),g=v.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],w=[0,95,135,175,215,255];for(let C=0;C<216;C++){const N=w[C/36%6|0],O=w[C/6%6|0],R=w[C%6];k.push({css:v.channels.toCss(N,O,R),rgba:v.channels.toRgba(N,O,R)})}for(let C=0;C<24;C++){const N=8+10*C;k.push({css:v.channels.toCss(N,N,N),rgba:v.channels.toRgba(N,N,N)})}return k})());let S=o.ThemeService=class extends b.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new x.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:p,cursor:d,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:v.color.blend(p,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:v.color.blend(p,y),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const w=this._colors;if(w.foreground=E(k.foreground,u),w.background=E(k.background,p),w.cursor=E(k.cursor,d),w.cursorAccent=E(k.cursorAccent,g),w.selectionBackgroundTransparent=E(k.selectionBackground,y),w.selectionBackgroundOpaque=v.color.blend(w.background,w.selectionBackgroundTransparent),w.selectionInactiveBackgroundTransparent=E(k.selectionInactiveBackground,w.selectionBackgroundTransparent),w.selectionInactiveBackgroundOpaque=v.color.blend(w.background,w.selectionInactiveBackgroundTransparent),w.selectionForeground=k.selectionForeground?E(k.selectionForeground,v.NULL_COLOR):void 0,w.selectionForeground===v.NULL_COLOR&&(w.selectionForeground=void 0),v.color.isOpaque(w.selectionBackgroundTransparent)&&(w.selectionBackgroundTransparent=v.color.opacity(w.selectionBackgroundTransparent,.3)),v.color.isOpaque(w.selectionInactiveBackgroundTransparent)&&(w.selectionInactiveBackgroundTransparent=v.color.opacity(w.selectionInactiveBackgroundTransparent,.3)),w.ansi=o.DEFAULT_ANSI_COLORS.slice(),w.ansi[0]=E(k.black,o.DEFAULT_ANSI_COLORS[0]),w.ansi[1]=E(k.red,o.DEFAULT_ANSI_COLORS[1]),w.ansi[2]=E(k.green,o.DEFAULT_ANSI_COLORS[2]),w.ansi[3]=E(k.yellow,o.DEFAULT_ANSI_COLORS[3]),w.ansi[4]=E(k.blue,o.DEFAULT_ANSI_COLORS[4]),w.ansi[5]=E(k.magenta,o.DEFAULT_ANSI_COLORS[5]),w.ansi[6]=E(k.cyan,o.DEFAULT_ANSI_COLORS[6]),w.ansi[7]=E(k.white,o.DEFAULT_ANSI_COLORS[7]),w.ansi[8]=E(k.brightBlack,o.DEFAULT_ANSI_COLORS[8]),w.ansi[9]=E(k.brightRed,o.DEFAULT_ANSI_COLORS[9]),w.ansi[10]=E(k.brightGreen,o.DEFAULT_ANSI_COLORS[10]),w.ansi[11]=E(k.brightYellow,o.DEFAULT_ANSI_COLORS[11]),w.ansi[12]=E(k.brightBlue,o.DEFAULT_ANSI_COLORS[12]),w.ansi[13]=E(k.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),w.ansi[14]=E(k.brightCyan,o.DEFAULT_ANSI_COLORS[14]),w.ansi[15]=E(k.brightWhite,o.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const C=Math.min(w.ansi.length-16,k.extendedAnsi.length);for(let N=0;N<C;N++)w.ansi[N+16]=E(k.extendedAnsi[N],o.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let w=0;w<this._restoreColors.ansi.length;++w)this._colors.ansi[w]=this._restoreColors.ansi[w]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(k,w){if(k!==void 0)try{return v.css.toColor(k)}catch{}return w}o.ThemeService=S=h([m(0,_.IOptionsService)],S)},6349:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const h=l(8460),m=l(844);class f extends m.Disposable{constructor(x){super(),this._maxLength=x,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(x){if(this._maxLength===x)return;const b=new Array(x);for(let _=0;_<Math.min(x,this.length);_++)b[_]=this._array[this._getCyclicIndex(_)];this._array=b,this._maxLength=x,this._startIndex=0}get length(){return this._length}set length(x){if(x>this._length)for(let b=this._length;b<x;b++)this._array[b]=void 0;this._length=x}get(x){return this._array[this._getCyclicIndex(x)]}set(x,b){this._array[this._getCyclicIndex(x)]=b}push(x){this._array[this._getCyclicIndex(this._length)]=x,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(x,b,..._){if(b){for(let u=x;u<this._length-b;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+b)];this._length-=b,this.onDeleteEmitter.fire({index:x,amount:b})}for(let u=this._length-1;u>=x;u--)this._array[this._getCyclicIndex(u+_.length)]=this._array[this._getCyclicIndex(u)];for(let u=0;u<_.length;u++)this._array[this._getCyclicIndex(x+u)]=_[u];if(_.length&&this.onInsertEmitter.fire({index:x,amount:_.length}),this._length+_.length>this._maxLength){const u=this._length+_.length-this._maxLength;this._startIndex+=u,this._length=this._maxLength,this.onTrimEmitter.fire(u)}else this._length+=_.length}trimStart(x){x>this._length&&(x=this._length),this._startIndex+=x,this._length-=x,this.onTrimEmitter.fire(x)}shiftElements(x,b,_){if(!(b<=0)){if(x<0||x>=this._length)throw new Error("start argument out of range");if(x+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let p=b-1;p>=0;p--)this.set(x+p+_,this.get(x+p));const u=x+b+_-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let u=0;u<b;u++)this.set(x+u+_,this.get(x+u))}}_getCyclicIndex(x){return(this._startIndex+x)%this._maxLength}}o.CircularList=f},1439:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(h,m=5){if(typeof h!="object")return h;const f=Array.isArray(h)?[]:{};for(const v in h)f[v]=m<=1?h[v]:h[v]&&l(h[v],m-1);return f}},8055:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const h=l(6114);let m=0,f=0,v=0,x=0;var b,_,u,p,d;function g(S){const E=S.toString(16);return E.length<2?"0"+E:E}function y(S,E){return S<E?(E+.05)/(S+.05):(S+.05)/(E+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(E,k,w,C){return C!==void 0?`#${g(E)}${g(k)}${g(w)}${g(C)}`:`#${g(E)}${g(k)}${g(w)}`},S.toRgba=function(E,k,w,C=255){return(E<<24|k<<16|w<<8|C)>>>0}}(b||(o.channels=b={})),function(S){function E(k,w){return x=Math.round(255*w),[m,f,v]=d.toChannels(k.rgba),{css:b.toCss(m,f,v,x),rgba:b.toRgba(m,f,v,x)}}S.blend=function(k,w){if(x=(255&w.rgba)/255,x===1)return{css:w.css,rgba:w.rgba};const C=w.rgba>>24&255,N=w.rgba>>16&255,O=w.rgba>>8&255,R=k.rgba>>24&255,P=k.rgba>>16&255,D=k.rgba>>8&255;return m=R+Math.round((C-R)*x),f=P+Math.round((N-P)*x),v=D+Math.round((O-D)*x),{css:b.toCss(m,f,v),rgba:b.toRgba(m,f,v)}},S.isOpaque=function(k){return(255&k.rgba)==255},S.ensureContrastRatio=function(k,w,C){const N=d.ensureContrastRatio(k.rgba,w.rgba,C);if(N)return d.toColor(N>>24&255,N>>16&255,N>>8&255)},S.opaque=function(k){const w=(255|k.rgba)>>>0;return[m,f,v]=d.toChannels(w),{css:b.toCss(m,f,v),rgba:w}},S.opacity=E,S.multiplyOpacity=function(k,w){return x=255&k.rgba,E(k,x*w/255)},S.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(_||(o.color=_={})),function(S){let E,k;if(!h.isNode){const w=document.createElement("canvas");w.width=1,w.height=1;const C=w.getContext("2d",{willReadFrequently:!0});C&&(E=C,E.globalCompositeOperation="copy",k=E.createLinearGradient(0,0,1,1))}S.toColor=function(w){if(w.match(/#[\da-f]{3,8}/i))switch(w.length){case 4:return m=parseInt(w.slice(1,2).repeat(2),16),f=parseInt(w.slice(2,3).repeat(2),16),v=parseInt(w.slice(3,4).repeat(2),16),d.toColor(m,f,v);case 5:return m=parseInt(w.slice(1,2).repeat(2),16),f=parseInt(w.slice(2,3).repeat(2),16),v=parseInt(w.slice(3,4).repeat(2),16),x=parseInt(w.slice(4,5).repeat(2),16),d.toColor(m,f,v,x);case 7:return{css:w,rgba:(parseInt(w.slice(1),16)<<8|255)>>>0};case 9:return{css:w,rgba:parseInt(w.slice(1),16)>>>0}}const C=w.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return m=parseInt(C[1]),f=parseInt(C[2]),v=parseInt(C[3]),x=Math.round(255*(C[5]===void 0?1:parseFloat(C[5]))),d.toColor(m,f,v,x);if(!E||!k)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=k,E.fillStyle=w,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[m,f,v,x]=E.getImageData(0,0,1,1).data,x!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:b.toRgba(m,f,v,x),css:w}}}(u||(o.css=u={})),function(S){function E(k,w,C){const N=k/255,O=w/255,R=C/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}S.relativeLuminance=function(k){return E(k>>16&255,k>>8&255,255&k)},S.relativeLuminance2=E}(p||(o.rgb=p={})),function(S){function E(w,C,N){const O=w>>24&255,R=w>>16&255,P=w>>8&255;let D=C>>24&255,B=C>>16&255,F=C>>8&255,U=y(p.relativeLuminance2(D,B,F),p.relativeLuminance2(O,R,P));for(;U<N&&(D>0||B>0||F>0);)D-=Math.max(0,Math.ceil(.1*D)),B-=Math.max(0,Math.ceil(.1*B)),F-=Math.max(0,Math.ceil(.1*F)),U=y(p.relativeLuminance2(D,B,F),p.relativeLuminance2(O,R,P));return(D<<24|B<<16|F<<8|255)>>>0}function k(w,C,N){const O=w>>24&255,R=w>>16&255,P=w>>8&255;let D=C>>24&255,B=C>>16&255,F=C>>8&255,U=y(p.relativeLuminance2(D,B,F),p.relativeLuminance2(O,R,P));for(;U<N&&(D<255||B<255||F<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),B=Math.min(255,B+Math.ceil(.1*(255-B))),F=Math.min(255,F+Math.ceil(.1*(255-F))),U=y(p.relativeLuminance2(D,B,F),p.relativeLuminance2(O,R,P));return(D<<24|B<<16|F<<8|255)>>>0}S.ensureContrastRatio=function(w,C,N){const O=p.relativeLuminance(w>>8),R=p.relativeLuminance(C>>8);if(y(O,R)<N){if(R<O){const B=E(w,C,N),F=y(O,p.relativeLuminance(B>>8));if(F<N){const U=k(w,C,N);return F>y(O,p.relativeLuminance(U>>8))?B:U}return B}const P=k(w,C,N),D=y(O,p.relativeLuminance(P>>8));if(D<N){const B=E(w,C,N);return D>y(O,p.relativeLuminance(B>>8))?P:B}return P}},S.reduceLuminance=E,S.increaseLuminance=k,S.toChannels=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},S.toColor=function(w,C,N,O){return{css:b.toCss(w,C,N,O),rgba:b.toRgba(w,C,N,O)}}}(d||(o.rgba=d={})),o.toPaddedHex=g,o.contrastRatio=y},8969:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const h=l(844),m=l(2585),f=l(4348),v=l(7866),x=l(744),b=l(7302),_=l(6975),u=l(8460),p=l(1753),d=l(1480),g=l(7994),y=l(9282),S=l(5435),E=l(5981),k=l(2660);let w=!1;class C extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(O=>{var R;(R=this._onScrollApi)===null||R===void 0||R.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const R in O)this.optionsService.options[R]=O[R]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new b.OptionsService(O)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(x.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(g.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((R,P)=>this._inputHandler.parse(R,P))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,R){this._writeBuffer.write(O,R)}writeSync(O,R){this._logService.logLevel<=m.LogLevelEnum.WARN&&!w&&(this._logService.warn("writeSync is unreliable and will be removed soon."),w=!0),this._writeBuffer.writeSync(O,R)}resize(O,R){isNaN(O)||isNaN(R)||(O=Math.max(O,x.MINIMUM_COLS),R=Math.max(R,x.MINIMUM_ROWS),this._bufferService.resize(O,R))}scroll(O,R=!1){this._bufferService.scroll(O,R)}scrollLines(O,R,P){this._bufferService.scrollLines(O,R,P)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const R=O-this._bufferService.buffer.ydisp;R!==0&&this.scrollLines(R)}registerEscHandler(O,R){return this._inputHandler.registerEscHandler(O,R)}registerDcsHandler(O,R){return this._inputHandler.registerDcsHandler(O,R)}registerCsiHandler(O,R){return this._inputHandler.registerCsiHandler(O,R)}registerOscHandler(O,R){return this._inputHandler.registerOscHandler(O,R)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const R=this.optionsService.rawOptions.windowsPty;R&&R.buildNumber!==void 0&&R.buildNumber!==void 0?O=R.backend==="conpty"&&R.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const R of O)R.dispose()})}}}o.CoreTerminal=C},8460:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===l)return void this._listeners.splice(h,1)}}})),this._event}fire(l,h){const m=[];for(let f=0;f<this._listeners.length;f++)m.push(this._listeners[f]);for(let f=0;f<m.length;f++)m[f].call(void 0,l,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,h){return l(m=>h.fire(m))}},5435:function(c,o,l){var h=this&&this.__decorate||function(U,j,A,T){var I,z=arguments.length,Y=z<3?j:T===null?T=Object.getOwnPropertyDescriptor(j,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(U,j,A,T);else for(var X=U.length-1;X>=0;X--)(I=U[X])&&(Y=(z<3?I(Y):z>3?I(j,A,Y):I(j,A))||Y);return z>3&&Y&&Object.defineProperty(j,A,Y),Y},m=this&&this.__param||function(U,j){return function(A,T){j(A,T,U)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const f=l(2584),v=l(7116),x=l(2015),b=l(844),_=l(482),u=l(8437),p=l(8460),d=l(643),g=l(511),y=l(3734),S=l(2585),E=l(6242),k=l(6351),w=l(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function O(U,j){if(U>24)return j.setWinLines||!1;switch(U){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var R;(function(U){U[U.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",U[U.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(R||(o.WindowsOptionsReportType=R={}));let P=0;class D extends b.Disposable{getAttrData(){return this._curAttrData}constructor(j,A,T,I,z,Y,X,Z,ge=new x.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=A,this._coreService=T,this._logService=I,this._optionsService=z,this._oscLinkService=Y,this._coreMouseService=X,this._unicodeService=Z,this._parser=ge,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new g.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new B(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,$)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:$.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,$,V)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:$,data:V})}),this._parser.setDcsHandlerFallback((L,$,V)=>{$==="HOOK"&&(V=V.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:$,payload:V})}),this._parser.setPrintHandler((L,$,V)=>this.print(L,$,V)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new E.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new E.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new E.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new E.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new E.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new E.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new E.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new E.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new E.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new E.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new E.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((L,$)=>this.requestStatusString(L,$)))}_preserveStack(j,A,T,I){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=A,this._parseStack.decodedLength=T,this._parseStack.position=I}_logSlowResolvingAsync(j){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([j,new Promise((A,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(A=>{if(A!=="#SLOW_TIMEOUT")throw A;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,A){let T,I=this._activeBuffer.x,z=this._activeBuffer.y,Y=0;const X=this._parseStack.paused;if(X){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,A))return this._logSlowResolvingAsync(T),T;I=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>N&&(Y=this._parseStack.position+N)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,Z=>String.fromCharCode(Z)).join("")}"`),typeof j=="string"?j.split("").map(Z=>Z.charCodeAt(0)):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(j.length,N))),X||this._dirtyRowTracker.clearRange(),j.length>N)for(let Z=Y;Z<j.length;Z+=N){const ge=Z+N<j.length?Z+N:j.length,L=typeof j=="string"?this._stringDecoder.decode(j.substring(Z,ge),this._parseBuffer):this._utf8Decoder.decode(j.subarray(Z,ge),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,L))return this._preserveStack(I,z,L,Z),this._logSlowResolvingAsync(T),T}else if(!X){const Z=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,Z))return this._preserveStack(I,z,Z,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===I&&this._activeBuffer.y===z||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,A,T){let I,z;const Y=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,Z=this._bufferService.cols,ge=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,$=this._curAttrData;let V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-A>0&&V.getWidth(this._activeBuffer.x-1)===2&&V.setCellFromCodePoint(this._activeBuffer.x-1,0,1,$.fg,$.bg,$.extended);for(let W=A;W<T;++W){if(I=j[W],z=this._unicodeService.wcwidth(I),I<127&&Y){const le=Y[String.fromCharCode(I)];le&&(I=le.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,_.stringFromCodePoint)(I)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),z||!this._activeBuffer.x){if(this._activeBuffer.x+z-1>=Z){if(ge){for(;this._activeBuffer.x<Z;)V.setCellFromCodePoint(this._activeBuffer.x++,0,1,$.fg,$.bg,$.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=Z-1,z===2)continue}if(L&&(V.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell($),$),V.getWidth(Z-1)===2&&V.setCellFromCodePoint(Z-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,$.fg,$.bg,$.extended)),V.setCellFromCodePoint(this._activeBuffer.x++,I,z,$.fg,$.bg,$.extended),z>0)for(;--z;)V.setCellFromCodePoint(this._activeBuffer.x++,0,0,$.fg,$.bg,$.extended)}else V.getWidth(this._activeBuffer.x-1)?V.addCodepointToCell(this._activeBuffer.x-1,I):V.addCodepointToCell(this._activeBuffer.x-2,I)}T-A>0&&(V.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<Z&&T-A>0&&V.getWidth(this._activeBuffer.x)===0&&!V.hasContent(this._activeBuffer.x)&&V.setCellFromCodePoint(this._activeBuffer.x,0,1,$.fg,$.bg,$.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,A){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,A):this._parser.registerCsiHandler(j,T=>!O(T.params[0],this._optionsService.rawOptions.windowOptions)||A(T))}registerDcsHandler(j,A){return this._parser.registerDcsHandler(j,new k.DcsHandler(A))}registerEscHandler(j,A){return this._parser.registerEscHandler(j,A)}registerOscHandler(j,A){return this._parser.registerOscHandler(j,new E.OscHandler(A))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);A.hasWidth(this._activeBuffer.x)&&!A.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,A){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+A):(this._activeBuffer.x=j,this._activeBuffer.y=A),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,A){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+A)}cursorUp(j){const A=this._activeBuffer.y-this._activeBuffer.scrollTop;return A>=0?this._moveCursor(0,-Math.min(A,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const A=this._activeBuffer.scrollBottom-this._activeBuffer.y;return A>=0?this._moveCursor(0,Math.min(A,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const A=j.params[0];return A===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:A===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=j.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=j.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const A=j.params[0];return A===1&&(this._curAttrData.bg|=536870912),A!==2&&A!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,A,T,I=!1,z=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);Y.replaceCells(A,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),z),I&&(Y.isWrapped=!1)}_resetBufferLine(j,A=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),A),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),T.isWrapped=!1)}eraseInDisplay(j,A=!1){let T;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);T<this._bufferService.rows;T++)this._resetBufferLine(T,A);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,A),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,A);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,A);this._dirtyRowTracker.markDirty(0);break;case 3:const I=this._activeBuffer.lines.length-this._bufferService.rows;I>0&&(this._activeBuffer.lines.trimStart(I),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-I,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-I,0),this._onScroll.fire(0))}return!0}eraseInLine(j,A=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,A);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,A)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let A=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-I+1;for(;A--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let A=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let I;for(I=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-I;A--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let A=j.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let A=j.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);I.deleteCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);I.insertCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);I.insertCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=j.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);I.deleteCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),I.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const A=j.params[0]||1,T=new Uint32Array(A);for(let I=0;I<A;++I)T[I]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let A=0;A<j.length;A++)switch(j.params[A]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let A=0;A<j.length;A++)switch(j.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let A=0;A<j.length;A++)switch(j.params[A]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let A=0;A<j.length;A++)switch(j.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[A]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,A){const T=this._coreService.decPrivateModes,{activeProtocol:I,activeEncoding:z}=this._coreMouseService,Y=this._coreService,{buffers:X,cols:Z}=this._bufferService,{active:ge,alt:L}=X,$=this._optionsService.rawOptions,V=_e=>_e?1:2,W=j.params[0];return le=W,ee=A?W===2?4:W===4?V(Y.modes.insertMode):W===12?3:W===20?V($.convertEol):0:W===1?V(T.applicationCursorKeys):W===3?$.windowOptions.setWinLines?Z===80?2:Z===132?1:0:0:W===6?V(T.origin):W===7?V(T.wraparound):W===8?3:W===9?V(I==="X10"):W===12?V($.cursorBlink):W===25?V(!Y.isCursorHidden):W===45?V(T.reverseWraparound):W===66?V(T.applicationKeypad):W===67?4:W===1e3?V(I==="VT200"):W===1002?V(I==="DRAG"):W===1003?V(I==="ANY"):W===1004?V(T.sendFocus):W===1005?4:W===1006?V(z==="SGR"):W===1015?4:W===1016?V(z==="SGR_PIXELS"):W===1048?1:W===47||W===1047||W===1049?V(ge===L):W===2004?V(T.bracketedPasteMode):0,Y.triggerDataEvent(`${f.C0.ESC}[${A?"":"?"}${le};${ee}$y`),!0;var le,ee}_updateAttrColor(j,A,T,I,z){return A===2?(j|=50331648,j&=-16777216,j|=y.AttributeData.fromColorRGB([T,I,z])):A===5&&(j&=-50331904,j|=33554432|255&T),j}_extractColor(j,A,T){const I=[0,0,-1,0,0,0];let z=0,Y=0;do{if(I[Y+z]=j.params[A+Y],j.hasSubParams(A+Y)){const X=j.getSubParams(A+Y);let Z=0;do I[1]===5&&(z=1),I[Y+Z+1+z]=X[Z];while(++Z<X.length&&Z+Y+1+z<I.length);break}if(I[1]===5&&Y+z>=2||I[1]===2&&Y+z>=5)break;I[1]&&(z=1)}while(++Y+A<j.length&&Y+z<I.length);for(let X=2;X<I.length;++X)I[X]===-1&&(I[X]=0);switch(I[0]){case 38:T.fg=this._updateAttrColor(T.fg,I[1],I[3],I[4],I[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,I[1],I[3],I[4],I[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,I[1],I[3],I[4],I[5])}return Y}_processUnderline(j,A){A.extended=A.extended.clone(),(!~j||j>5)&&(j=1),A.extended.underlineStyle=j,A.fg|=268435456,j===0&&(A.fg&=-268435457),A.updateExtended()}_processSGR0(j){j.fg=u.DEFAULT_ATTR_DATA.fg,j.bg=u.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const A=j.length;let T;const I=this._curAttrData;for(let z=0;z<A;z++)T=j.params[z],T>=30&&T<=37?(I.fg&=-50331904,I.fg|=16777216|T-30):T>=40&&T<=47?(I.bg&=-50331904,I.bg|=16777216|T-40):T>=90&&T<=97?(I.fg&=-50331904,I.fg|=16777224|T-90):T>=100&&T<=107?(I.bg&=-50331904,I.bg|=16777224|T-100):T===0?this._processSGR0(I):T===1?I.fg|=134217728:T===3?I.bg|=67108864:T===4?(I.fg|=268435456,this._processUnderline(j.hasSubParams(z)?j.getSubParams(z)[0]:1,I)):T===5?I.fg|=536870912:T===7?I.fg|=67108864:T===8?I.fg|=1073741824:T===9?I.fg|=2147483648:T===2?I.bg|=134217728:T===21?this._processUnderline(2,I):T===22?(I.fg&=-134217729,I.bg&=-134217729):T===23?I.bg&=-67108865:T===24?(I.fg&=-268435457,this._processUnderline(0,I)):T===25?I.fg&=-536870913:T===27?I.fg&=-67108865:T===28?I.fg&=-1073741825:T===29?I.fg&=2147483647:T===39?(I.fg&=-67108864,I.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):T===49?(I.bg&=-67108864,I.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?z+=this._extractColor(j,z,I):T===53?I.bg|=1073741824:T===55?I.bg&=-1073741825:T===59?(I.extended=I.extended.clone(),I.extended.underlineColor=-1,I.updateExtended()):T===100?(I.fg&=-67108864,I.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,I.bg&=-67108864,I.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const A=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${A};${T}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const A=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${A};${T}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const A=j.params[0]||1;switch(A){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=A%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(j){const A=j.params[0]||1;let T;return(j.length<2||(T=j.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>A&&(this._activeBuffer.scrollTop=A-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(j){if(!O(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const A=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:A!==2&&this._onRequestWindowsOptionsReport.fire(R.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(R.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:A!==0&&A!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),A!==0&&A!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:A!==0&&A!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),A!==0&&A!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const A=[],T=j.split(";");for(;T.length>1;){const I=T.shift(),z=T.shift();if(/^\d+$/.exec(I)){const Y=parseInt(I);if(F(Y))if(z==="?")A.push({type:0,index:Y});else{const X=(0,w.parseColor)(z);X&&A.push({type:1,index:Y,color:X})}}}return A.length&&this._onColor.fire(A),!0}setHyperlink(j){const A=j.split(";");return!(A.length<2)&&(A[1]?this._createHyperlink(A[0],A[1]):!A[0]&&this._finishHyperlink())}_createHyperlink(j,A){this._getCurrentLinkId()&&this._finishHyperlink();const T=j.split(":");let I;const z=T.findIndex(Y=>Y.startsWith("id="));return z!==-1&&(I=T[z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:I,uri:A}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,A){const T=j.split(";");for(let I=0;I<T.length&&!(A>=this._specialColors.length);++I,++A)if(T[I]==="?")this._onColor.fire([{type:0,index:this._specialColors[A]}]);else{const z=(0,w.parseColor)(T[I]);z&&this._onColor.fire([{type:1,index:this._specialColors[A],color:z}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const A=[],T=j.split(";");for(let I=0;I<T.length;++I)if(/^\d+$/.exec(T[I])){const z=parseInt(T[I]);F(z)&&A.push({type:2,index:z})}return A.length&&this._onColor.fire(A),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(C[j[0]],v.CHARSETS[j[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new g.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let A=0;A<this._bufferService.rows;++A){const T=this._activeBuffer.ybase+this._activeBuffer.y+A,I=this._activeBuffer.lines.get(T);I&&(I.fill(j),I.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,A){const T=this._bufferService.buffer,I=this._optionsService.rawOptions;return(z=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${z}${f.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[I.cursorStyle]-(I.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,A){this._dirtyRowTracker.markRangeDirty(j,A)}}o.InputHandler=D;let B=class{constructor(U){this._bufferService=U,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(U){U<this.start?this.start=U:U>this.end&&(this.end=U)}markRangeDirty(U,j){U>j&&(P=U,U=j,j=P),U<this.start&&(this.start=U),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function F(U){return 0<=U&&U<256}B=h([m(0,S.IBufferService)],B)},844:(c,o)=>{function l(h){for(const m of h)m.dispose();h.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const m=this._disposables.indexOf(h);m!==-1&&this._disposables.splice(m,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var m;this._isDisposed||h===this._value||((m=this._value)===null||m===void 0||m.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},o.toDisposable=function(h){return{dispose:h}},o.disposeArray=l,o.getDisposeArrayDisposable=function(h){return{dispose:()=>l(h)}}},1505:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(m,f,v){this._data[m]||(this._data[m]={}),this._data[m][f]=v}get(m,f){return this._data[m]?this._data[m][f]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(h,m,f,v,x){this._data.get(h,m)||this._data.set(h,m,new l),this._data.get(h,m).set(f,v,x)}get(h,m,f,v){var x;return(x=this._data.get(h,m))===null||x===void 0?void 0:x.get(f,v)}clear(){this._data.clear()}}},6114:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const l=o.isNode?"node":navigator.userAgent,h=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const m=l.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),o.isIpad=h==="iPad",o.isIphone=h==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),o.isLinux=h.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(l=this._search(this._getKey(h)),this._array.splice(l,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const m=this._getKey(h);if(m===void 0||(l=this._search(m),l===-1)||this._getKey(this._array[l])!==m)return!1;do if(this._array[l]===h)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===m);return!1}*getKeyIterator(h){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===h)}forEachByKey(h,m){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do m(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===h)}values(){return[...this._array].values()}_search(h){let m=0,f=this._array.length-1;for(;f>=m;){let v=m+f>>1;const x=this._getKey(this._array[v]);if(x>h)f=v-1;else{if(!(x<h)){for(;v>0&&this._getKey(this._array[v-1])===h;)v--;return v}m=v+1}}return m}}},7226:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const h=l(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(x){this._tasks.push(x),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(x){this._idleCallback=void 0;let b=0,_=0,u=x.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(b=Date.now(),this._tasks[this._i]()||this._i++,b=Math.max(1,Date.now()-b),_=Math.max(b,_),p=x.timeRemaining(),1.5*_>p)return u-b<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(u-b))}ms`),void this._start();u=p}this.clear()}}class f extends m{_requestCallback(x){return setTimeout(()=>x(this._createDeadline(16)))}_cancelCallback(x){clearTimeout(x)}_createDeadline(x){const b=Date.now()+x;return{timeRemaining:()=>Math.max(0,b-Date.now())}}}o.PriorityTaskQueue=f,o.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:f,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const h=l(643);o.updateWindowsModeWrappedState=function(m){const f=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),v=f==null?void 0:f.get(m.cols-1),x=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);x&&v&&(x.isWrapped=v[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&v[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new l;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=l;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,v=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=v}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=h},9092:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const h=l(6349),m=l(7226),f=l(3734),v=l(8437),x=l(4634),b=l(511),_=l(643),u=l(4863),p=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(d,g,y){this._hasScrollback=d,this._optionsService=g,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=b.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=b.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,g){return new v.BufferLine(this._bufferService.cols,this.getNullCell(d),g)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const g=d+this._optionsService.rawOptions.scrollback;return g>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:g}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=v.DEFAULT_ATTR_DATA);let g=this._rows;for(;g--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,g){const y=this.getNullCell(v.DEFAULT_ATTR_DATA);let S=0;const E=this._getCorrectBufferLength(g);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<d)for(let w=0;w<this.lines.length;w++)S+=+this.lines.get(w).resize(d,y);let k=0;if(this._rows<g)for(let w=this._rows;w<g;w++)this.lines.length<g+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(d,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(d,y)));else for(let w=this._rows;w>g;w--)this.lines.length>g+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const w=this.lines.length-E;w>0&&(this.lines.trimStart(w),this.ybase=Math.max(this.ybase-w,0),this.ydisp=Math.max(this.ydisp-w,0),this.savedY=Math.max(this.savedY-w,0)),this.lines.maxLength=E}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,g-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=g-1,this._isReflowEnabled&&(this._reflow(d,g),this._cols>d))for(let k=0;k<this.lines.length;k++)S+=+this.lines.get(k).resize(d,y);this._cols=d,this._rows=g,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let g=0;for(;this._memoryCleanupPosition<this.lines.length;)if(g+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),g>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&d.backend==="conpty"&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,g){this._cols!==d&&(d>this._cols?this._reflowLarger(d,g):this._reflowSmaller(d,g))}_reflowLarger(d,g){const y=(0,x.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(y.length>0){const S=(0,x.reflowLargerCreateNewLayout)(this.lines,y);(0,x.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(d,g,S.countRemoved)}}_reflowLargerAdjustViewport(d,g,y){const S=this.getNullCell(v.DEFAULT_ATTR_DATA);let E=y;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<g&&this.lines.push(new v.BufferLine(d,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(d,g){const y=this.getNullCell(v.DEFAULT_ATTR_DATA),S=[];let E=0;for(let k=this.lines.length-1;k>=0;k--){let w=this.lines.get(k);if(!w||!w.isWrapped&&w.getTrimmedLength()<=d)continue;const C=[w];for(;w.isWrapped&&k>0;)w=this.lines.get(--k),C.unshift(w);const N=this.ybase+this.y;if(N>=k&&N<k+C.length)continue;const O=C[C.length-1].getTrimmedLength(),R=(0,x.reflowSmallerGetNewLineLengths)(C,this._cols,d),P=R.length-C.length;let D;D=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const B=[];for(let I=0;I<P;I++){const z=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);B.push(z)}B.length>0&&(S.push({start:k+C.length+E,newLines:B}),E+=B.length),C.push(...B);let F=R.length-1,U=R[F];U===0&&(F--,U=R[F]);let j=C.length-P-1,A=O;for(;j>=0;){const I=Math.min(A,U);if(C[F]===void 0)break;if(C[F].copyCellsFrom(C[j],A-I,U-I,I,!0),U-=I,U===0&&(F--,U=R[F]),A-=I,A===0){j--;const z=Math.max(j,0);A=(0,x.getWrappedLineTrimmedLength)(C,z,this._cols)}}for(let I=0;I<C.length;I++)R[I]<d&&C[I].setCell(R[I],y);let T=P-D;for(;T-- >0;)this.ybase===0?this.y<g-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-g&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+g-1)}if(S.length>0){const k=[],w=[];for(let F=0;F<this.lines.length;F++)w.push(this.lines.get(F));const C=this.lines.length;let N=C-1,O=0,R=S[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let P=0;for(let F=Math.min(this.lines.maxLength-1,C+E-1);F>=0;F--)if(R&&R.start>N+P){for(let U=R.newLines.length-1;U>=0;U--)this.lines.set(F--,R.newLines[U]);F++,k.push({index:N+1,amount:R.newLines.length}),P+=R.newLines.length,R=S[++O]}else this.lines.set(F,w[N--]);let D=0;for(let F=k.length-1;F>=0;F--)k[F].index+=D,this.lines.onInsertEmitter.fire(k[F]),D+=k[F].amount;const B=Math.max(0,C+E-this.lines.maxLength);B>0&&this.lines.onTrimEmitter.fire(B)}}translateBufferLineToString(d,g,y=0,S){const E=this.lines.get(d);return E?E.translateToString(g,y,S):""}getWrappedRangeForLine(d){let g=d,y=d;for(;g>0&&this.lines.get(g).isWrapped;)g--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:g,last:y}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].line===d&&(this.markers[g].dispose(),this.markers.splice(g--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const g=new u.Marker(d);return this.markers.push(g),g.register(this.lines.onTrim(y=>{g.line-=y,g.line<0&&g.dispose()})),g.register(this.lines.onInsert(y=>{g.line>=y.index&&(g.line+=y.amount)})),g.register(this.lines.onDelete(y=>{g.line>=y.index&&g.line<y.index+y.amount&&g.dispose(),g.line>y.index&&(g.line-=y.amount)})),g.register(g.onDispose(()=>this._removeMarker(g))),g}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const h=l(3734),m=l(511),f=l(643),v=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let x=0;class b{constructor(u,p,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*u);const g=p||m.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let y=0;y<u;++y)this.setCell(y,g);this.length=u}get(u){const p=this._data[3*u+0],d=2097151&p;return[this._data[3*u+1],2097152&p?this._combined[u]:d?(0,v.stringFromCodePoint)(d):"",p>>22,2097152&p?this._combined[u].charCodeAt(this._combined[u].length-1):d]}set(u,p){this._data[3*u+1]=p[f.CHAR_DATA_ATTR_INDEX],p[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[u]=p[1],this._data[3*u+0]=2097152|u|p[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*u+0]=p[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(u){return this._data[3*u+0]>>22}hasWidth(u){return 12582912&this._data[3*u+0]}getFg(u){return this._data[3*u+1]}getBg(u){return this._data[3*u+2]}hasContent(u){return 4194303&this._data[3*u+0]}getCodePoint(u){const p=this._data[3*u+0];return 2097152&p?this._combined[u].charCodeAt(this._combined[u].length-1):2097151&p}isCombined(u){return 2097152&this._data[3*u+0]}getString(u){const p=this._data[3*u+0];return 2097152&p?this._combined[u]:2097151&p?(0,v.stringFromCodePoint)(2097151&p):""}isProtected(u){return 536870912&this._data[3*u+2]}loadCell(u,p){return x=3*u,p.content=this._data[x+0],p.fg=this._data[x+1],p.bg=this._data[x+2],2097152&p.content&&(p.combinedData=this._combined[u]),268435456&p.bg&&(p.extended=this._extendedAttrs[u]),p}setCell(u,p){2097152&p.content&&(this._combined[u]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[u]=p.extended),this._data[3*u+0]=p.content,this._data[3*u+1]=p.fg,this._data[3*u+2]=p.bg}setCellFromCodePoint(u,p,d,g,y,S){268435456&y&&(this._extendedAttrs[u]=S),this._data[3*u+0]=p|d<<22,this._data[3*u+1]=g,this._data[3*u+2]=y}addCodepointToCell(u,p){let d=this._data[3*u+0];2097152&d?this._combined[u]+=(0,v.stringFromCodePoint)(p):(2097151&d?(this._combined[u]=(0,v.stringFromCodePoint)(2097151&d)+(0,v.stringFromCodePoint)(p),d&=-2097152,d|=2097152):d=p|4194304,this._data[3*u+0]=d)}insertCells(u,p,d,g){if((u%=this.length)&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs),p<this.length-u){const y=new m.CellData;for(let S=this.length-u-p-1;S>=0;--S)this.setCell(u+p+S,this.loadCell(u+S,y));for(let S=0;S<p;++S)this.setCell(u+S,d)}else for(let y=u;y<this.length;++y)this.setCell(y,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs)}deleteCells(u,p,d,g){if(u%=this.length,p<this.length-u){const y=new m.CellData;for(let S=0;S<this.length-u-p;++S)this.setCell(u+S,this.loadCell(u+p+S,y));for(let S=this.length-p;S<this.length;++S)this.setCell(S,d)}else for(let y=u;y<this.length;++y)this.setCell(y,d);u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs),this.getWidth(u)!==0||this.hasContent(u)||this.setCellFromCodePoint(u,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs)}replaceCells(u,p,d,g,y=!1){if(y)for(u&&this.getWidth(u-1)===2&&!this.isProtected(u-1)&&this.setCellFromCodePoint(u-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs);u<p&&u<this.length;)this.isProtected(u)||this.setCell(u,d),u++;else for(u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,(g==null?void 0:g.fg)||0,(g==null?void 0:g.bg)||0,(g==null?void 0:g.extended)||new h.ExtendedAttrs);u<p&&u<this.length;)this.setCell(u++,d)}resize(u,p){if(u===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*u;if(u>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const g=new Uint32Array(d);g.set(this._data),this._data=g}for(let g=this.length;g<u;++g)this.setCell(g,p)}else{this._data=this._data.subarray(0,d);const g=Object.keys(this._combined);for(let S=0;S<g.length;S++){const E=parseInt(g[S],10);E>=u&&delete this._combined[E]}const y=Object.keys(this._extendedAttrs);for(let S=0;S<y.length;S++){const E=parseInt(y[S],10);E>=u&&delete this._extendedAttrs[E]}}return this.length=u,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const u=new Uint32Array(this._data.length);return u.set(this._data),this._data=u,1}return 0}fill(u,p=!1){if(p)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,u);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,u)}}copyFrom(u){this.length!==u.length?this._data=new Uint32Array(u._data):this._data.set(u._data),this.length=u.length,this._combined={};for(const p in u._combined)this._combined[p]=u._combined[p];this._extendedAttrs={};for(const p in u._extendedAttrs)this._extendedAttrs[p]=u._extendedAttrs[p];this.isWrapped=u.isWrapped}clone(){const u=new b(0);u._data=new Uint32Array(this._data),u.length=this.length;for(const p in this._combined)u._combined[p]=this._combined[p];for(const p in this._extendedAttrs)u._extendedAttrs[p]=this._extendedAttrs[p];return u.isWrapped=this.isWrapped,u}getTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0])return u+(this._data[3*u+0]>>22);return 0}getNoBgTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0]||50331648&this._data[3*u+2])return u+(this._data[3*u+0]>>22);return 0}copyCellsFrom(u,p,d,g,y){const S=u._data;if(y)for(let k=g-1;k>=0;k--){for(let w=0;w<3;w++)this._data[3*(d+k)+w]=S[3*(p+k)+w];268435456&S[3*(p+k)+2]&&(this._extendedAttrs[d+k]=u._extendedAttrs[p+k])}else for(let k=0;k<g;k++){for(let w=0;w<3;w++)this._data[3*(d+k)+w]=S[3*(p+k)+w];268435456&S[3*(p+k)+2]&&(this._extendedAttrs[d+k]=u._extendedAttrs[p+k])}const E=Object.keys(u._combined);for(let k=0;k<E.length;k++){const w=parseInt(E[k],10);w>=p&&(this._combined[w-p+d]=u._combined[w])}}translateToString(u=!1,p=0,d=this.length){u&&(d=Math.min(d,this.getTrimmedLength()));let g="";for(;p<d;){const y=this._data[3*p+0],S=2097151&y;g+=2097152&y?this._combined[p]:S?(0,v.stringFromCodePoint)(S):f.WHITESPACE_CELL_CHAR,p+=y>>22||1}return g}}o.BufferLine=b},4841:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,h){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return h*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(c,o)=>{function l(h,m,f){if(m===h.length-1)return h[m].getTrimmedLength();const v=!h[m].hasContent(f-1)&&h[m].getWidth(f-1)===1,x=h[m+1].getWidth(0)===2;return v&&x?f-1:f}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(h,m,f,v,x){const b=[];for(let _=0;_<h.length-1;_++){let u=_,p=h.get(++u);if(!p.isWrapped)continue;const d=[h.get(_)];for(;u<h.length&&p.isWrapped;)d.push(p),p=h.get(++u);if(v>=_&&v<u){_+=d.length-1;continue}let g=0,y=l(d,g,m),S=1,E=0;for(;S<d.length;){const w=l(d,S,m),C=w-E,N=f-y,O=Math.min(C,N);d[g].copyCellsFrom(d[S],E,y,O,!1),y+=O,y===f&&(g++,y=0),E+=O,E===w&&(S++,E=0),y===0&&g!==0&&d[g-1].getWidth(f-1)===2&&(d[g].copyCellsFrom(d[g-1],f-1,y++,1,!1),d[g-1].setCell(f-1,x))}d[g].replaceCells(y,f,x);let k=0;for(let w=d.length-1;w>0&&(w>g||d[w].getTrimmedLength()===0);w--)k++;k>0&&(b.push(_+d.length-k),b.push(k)),_+=d.length-1}return b},o.reflowLargerCreateNewLayout=function(h,m){const f=[];let v=0,x=m[v],b=0;for(let _=0;_<h.length;_++)if(x===_){const u=m[++v];h.onDeleteEmitter.fire({index:_-b,amount:u}),_+=u-1,b+=u,x=m[++v]}else f.push(_);return{layout:f,countRemoved:b}},o.reflowLargerApplyNewLayout=function(h,m){const f=[];for(let v=0;v<m.length;v++)f.push(h.get(m[v]));for(let v=0;v<f.length;v++)h.set(v,f[v]);h.length=m.length},o.reflowSmallerGetNewLineLengths=function(h,m,f){const v=[],x=h.map((p,d)=>l(h,d,m)).reduce((p,d)=>p+d);let b=0,_=0,u=0;for(;u<x;){if(x-u<f){v.push(x-u);break}b+=f;const p=l(h,_,m);b>p&&(b-=p,_++);const d=h[_].getWidth(b-1)===2;d&&b--;const g=d?f-1:f;v.push(g),u+=g}return v},o.getWrappedLineTrimmedLength=l},5295:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const h=l(8460),m=l(844),f=l(9092);class v extends m.Disposable{constructor(b,_){super(),this._optionsService=b,this._bufferService=_,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(b){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(b),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(b,_){this._normal.resize(b,_),this._alt.resize(b,_),this.setupTabStops(b)}setupTabStops(b){this._normal.setupTabStops(b),this._alt.setupTabStops(b)}}o.BufferSet=v},511:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const h=l(482),m=l(643),f=l(3734);class v extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(b){const _=new v;return _.setFromCharData(b),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(b){this.fg=b[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(b[m.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(b[m.CHAR_DATA_CHAR_INDEX].length===2){const u=b[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){const p=b[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(u-55296)+p-56320+65536|b[m.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=b[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[m.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=b[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|b[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=v},643:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const h=l(8460),m=l(844);class f{get id(){return this._id}constructor(x){this.line=x,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(x){return this._disposables.push(x),x}}o.Marker=f,f._nextId=1},7116:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(c,o)=>{var l,h,m;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(l||(o.C0=l={})),function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""}(h||(o.C1=h={})),function(f){f.ST=`${l.ESC}\\`}(m||(o.C1_ESCAPED=m={}))},7399:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const h=l(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(f,v,x,b){const _={type:0,cancel:!1,key:void 0},u=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?_.key=v?h.C0.ESC+"OA":h.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?_.key=v?h.C0.ESC+"OD":h.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?_.key=v?h.C0.ESC+"OC":h.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(_.key=v?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(f.altKey){_.key=h.C0.ESC+h.C0.DEL;break}_.key=h.C0.DEL;break;case 9:if(f.shiftKey){_.key=h.C0.ESC+"[Z";break}_.key=h.C0.HT,_.cancel=!0;break;case 13:_.key=f.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,_.cancel=!0;break;case 27:_.key=h.C0.ESC,f.altKey&&(_.key=h.C0.ESC+h.C0.ESC),_.cancel=!0;break;case 37:if(f.metaKey)break;u?(_.key=h.C0.ESC+"[1;"+(u+1)+"D",_.key===h.C0.ESC+"[1;3D"&&(_.key=h.C0.ESC+(x?"b":"[1;5D"))):_.key=v?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(f.metaKey)break;u?(_.key=h.C0.ESC+"[1;"+(u+1)+"C",_.key===h.C0.ESC+"[1;3C"&&(_.key=h.C0.ESC+(x?"f":"[1;5C"))):_.key=v?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(f.metaKey)break;u?(_.key=h.C0.ESC+"[1;"+(u+1)+"A",x||_.key!==h.C0.ESC+"[1;3A"||(_.key=h.C0.ESC+"[1;5A")):_.key=v?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(f.metaKey)break;u?(_.key=h.C0.ESC+"[1;"+(u+1)+"B",x||_.key!==h.C0.ESC+"[1;3B"||(_.key=h.C0.ESC+"[1;5B")):_.key=v?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(_.key=h.C0.ESC+"[2~");break;case 46:_.key=u?h.C0.ESC+"[3;"+(u+1)+"~":h.C0.ESC+"[3~";break;case 36:_.key=u?h.C0.ESC+"[1;"+(u+1)+"H":v?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:_.key=u?h.C0.ESC+"[1;"+(u+1)+"F":v?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:f.shiftKey?_.type=2:f.ctrlKey?_.key=h.C0.ESC+"[5;"+(u+1)+"~":_.key=h.C0.ESC+"[5~";break;case 34:f.shiftKey?_.type=3:f.ctrlKey?_.key=h.C0.ESC+"[6;"+(u+1)+"~":_.key=h.C0.ESC+"[6~";break;case 112:_.key=u?h.C0.ESC+"[1;"+(u+1)+"P":h.C0.ESC+"OP";break;case 113:_.key=u?h.C0.ESC+"[1;"+(u+1)+"Q":h.C0.ESC+"OQ";break;case 114:_.key=u?h.C0.ESC+"[1;"+(u+1)+"R":h.C0.ESC+"OR";break;case 115:_.key=u?h.C0.ESC+"[1;"+(u+1)+"S":h.C0.ESC+"OS";break;case 116:_.key=u?h.C0.ESC+"[15;"+(u+1)+"~":h.C0.ESC+"[15~";break;case 117:_.key=u?h.C0.ESC+"[17;"+(u+1)+"~":h.C0.ESC+"[17~";break;case 118:_.key=u?h.C0.ESC+"[18;"+(u+1)+"~":h.C0.ESC+"[18~";break;case 119:_.key=u?h.C0.ESC+"[19;"+(u+1)+"~":h.C0.ESC+"[19~";break;case 120:_.key=u?h.C0.ESC+"[20;"+(u+1)+"~":h.C0.ESC+"[20~";break;case 121:_.key=u?h.C0.ESC+"[21;"+(u+1)+"~":h.C0.ESC+"[21~";break;case 122:_.key=u?h.C0.ESC+"[23;"+(u+1)+"~":h.C0.ESC+"[23~";break;case 123:_.key=u?h.C0.ESC+"[24;"+(u+1)+"~":h.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(x&&!b||!f.altKey||f.metaKey)!x||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?_.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(_.key=h.C0.US),f.key==="@"&&(_.key=h.C0.NUL)):f.keyCode===65&&(_.type=1);else{const p=m[f.keyCode],d=p==null?void 0:p[f.shiftKey?1:0];if(d)_.key=h.C0.ESC+d;else if(f.keyCode>=65&&f.keyCode<=90){const g=f.ctrlKey?f.keyCode-64:f.keyCode+32;let y=String.fromCharCode(g);f.shiftKey&&(y=y.toUpperCase()),_.key=h.C0.ESC+y}else if(f.keyCode===32)_.key=h.C0.ESC+(f.ctrlKey?h.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let g=f.code.slice(3,4);f.shiftKey||(g=g.toLowerCase()),_.key=h.C0.ESC+g,_.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?_.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?_.key=h.C0.NUL:f.keyCode>=51&&f.keyCode<=55?_.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?_.key=h.C0.DEL:f.keyCode===219?_.key=h.C0.ESC:f.keyCode===220?_.key=h.C0.FS:f.keyCode===221&&(_.key=h.C0.GS)}return _}},482:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,h=0,m=l.length){let f="";for(let v=h;v<m;++v){let x=l[v];x>65535?(x-=65536,f+=String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):f+=String.fromCharCode(x)}return f},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,h){const m=l.length;if(!m)return 0;let f=0,v=0;if(this._interim){const x=l.charCodeAt(v++);56320<=x&&x<=57343?h[f++]=1024*(this._interim-55296)+x-56320+65536:(h[f++]=this._interim,h[f++]=x),this._interim=0}for(let x=v;x<m;++x){const b=l.charCodeAt(x);if(55296<=b&&b<=56319){if(++x>=m)return this._interim=b,f;const _=l.charCodeAt(x);56320<=_&&_<=57343?h[f++]=1024*(b-55296)+_-56320+65536:(h[f++]=b,h[f++]=_)}else b!==65279&&(h[f++]=b)}return f}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,h){const m=l.length;if(!m)return 0;let f,v,x,b,_=0,u=0,p=0;if(this.interim[0]){let y=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let E,k=0;for(;(E=63&this.interim[++k])&&k<4;)S<<=6,S|=E;const w=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=w-k;for(;p<C;){if(p>=m)return 0;if(E=l[p++],(192&E)!=128){p--,y=!0;break}this.interim[k++]=E,S<<=6,S|=63&E}y||(w===2?S<128?p--:h[_++]=S:w===3?S<2048||S>=55296&&S<=57343||S===65279||(h[_++]=S):S<65536||S>1114111||(h[_++]=S)),this.interim.fill(0)}const d=m-4;let g=p;for(;g<m;){for(;!(!(g<d)||128&(f=l[g])||128&(v=l[g+1])||128&(x=l[g+2])||128&(b=l[g+3]));)h[_++]=f,h[_++]=v,h[_++]=x,h[_++]=b,g+=4;if(f=l[g++],f<128)h[_++]=f;else if((224&f)==192){if(g>=m)return this.interim[0]=f,_;if(v=l[g++],(192&v)!=128){g--;continue}if(u=(31&f)<<6|63&v,u<128){g--;continue}h[_++]=u}else if((240&f)==224){if(g>=m)return this.interim[0]=f,_;if(v=l[g++],(192&v)!=128){g--;continue}if(g>=m)return this.interim[0]=f,this.interim[1]=v,_;if(x=l[g++],(192&x)!=128){g--;continue}if(u=(15&f)<<12|(63&v)<<6|63&x,u<2048||u>=55296&&u<=57343||u===65279)continue;h[_++]=u}else if((248&f)==240){if(g>=m)return this.interim[0]=f,_;if(v=l[g++],(192&v)!=128){g--;continue}if(g>=m)return this.interim[0]=f,this.interim[1]=v,_;if(x=l[g++],(192&x)!=128){g--;continue}if(g>=m)return this.interim[0]=f,this.interim[1]=v,this.interim[2]=x,_;if(b=l[g++],(192&b)!=128){g--;continue}if(u=(7&f)<<18|(63&v)<<12|(63&x)<<6|63&b,u<65536||u>1114111)continue;h[_++]=u}}return _}}},225:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;o.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let f=0;f<l.length;++f)m.fill(0,l[f][0],l[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?m[f]:function(v,x){let b,_=0,u=x.length-1;if(v<x[0][0]||v>x[u][1])return!1;for(;u>=_;)if(b=_+u>>1,v>x[b][1])_=b+1;else{if(!(v<x[b][0]))return!0;u=b-1}return!1}(f,h)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const h=l(8460),m=l(844);class f extends m.Disposable{constructor(x){super(),this._action=x,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(x,b){if(b!==void 0&&this._syncCalls>b)return void(this._syncCalls=0);if(this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const u=this._callbacks.shift();u&&u()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(x,b){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(b),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(b)}_innerWrite(x=0,b=!0){const _=x||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const u=this._writeBuffer[this._bufferOffset],p=this._action(u,b);if(p){const g=y=>Date.now()-_>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(_,y);return void p.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(g)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=u.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=f},5941:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function m(f,v){const x=f.toString(16),b=x.length<2?"0"+x:x;switch(v){case 4:return x[0];case 8:return b;case 12:return(b+b).slice(0,3);default:return b+b}}o.parseColor=function(f){if(!f)return;let v=f.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const x=l.exec(v);if(x){const b=x[1]?15:x[4]?255:x[7]?4095:65535;return[Math.round(parseInt(x[1]||x[4]||x[7]||x[10],16)/b*255),Math.round(parseInt(x[2]||x[5]||x[8]||x[11],16)/b*255),Math.round(parseInt(x[3]||x[6]||x[9]||x[12],16)/b*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),h.exec(v)&&[3,6,9,12].includes(v.length))){const x=v.length/3,b=[0,0,0];for(let _=0;_<3;++_){const u=parseInt(v.slice(x*_,x*_+x),16);b[_]=x===1?u<<4:x===2?u:x===3?u>>4:u>>8}return b}},o.toRgbString=function(f,v=16){const[x,b,_]=f;return`rgb:${m(x,v)}/${m(b,v)}/${m(_,v)}`}},5770:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const h=l(482),m=l(8742),f=l(5770),v=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(b,_){this._handlers[b]===void 0&&(this._handlers[b]=[]);const u=this._handlers[b];return u.push(_),{dispose:()=>{const p=u.indexOf(_);p!==-1&&u.splice(p,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}reset(){if(this._active.length)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(b,_){if(this.reset(),this._ident=b,this._active=this._handlers[b]||v,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(b,_,u){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(b,_,u);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(b,_,u))}unhook(b,_=!0){if(this._active.length){let u=!1,p=this._active.length-1,d=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,u=_,d=this._stack.fallThrough,this._stack.paused=!1),!d&&u===!1){for(;p>=0&&(u=this._active[p].unhook(b),u!==!0);p--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,u;p--}for(;p>=0;p--)if(u=this._active[p].unhook(!1),u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",b);this._active=v,this._ident=0}};const x=new m.Params;x.addParam(0),o.DcsHandler=class{constructor(b){this._handler=b,this._data="",this._params=x,this._hitLimit=!1}hook(b){this._params=b.length>1||b.params[0]?b.clone():x,this._data="",this._hitLimit=!1}put(b,_,u){this._hitLimit||(this._data+=(0,h.utf32ToString)(b,_,u),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(b){let _=!1;if(this._hitLimit)_=!1;else if(b&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then(u=>(this._params=x,this._data="",this._hitLimit=!1,u));return this._params=x,this._data="",this._hitLimit=!1,_}}},2015:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const h=l(844),m=l(8742),f=l(6242),v=l(6351);class x{constructor(p){this.table=new Uint8Array(p)}setDefault(p,d){this.table.fill(p<<4|d)}add(p,d,g,y){this.table[d<<8|p]=g<<4|y}addMany(p,d,g,y){for(let S=0;S<p.length;S++)this.table[d<<8|p[S]]=g<<4|y}}o.TransitionTable=x;const b=160;o.VT500_TRANSITION_TABLE=function(){const u=new x(4095),p=Array.apply(null,Array(256)).map((k,w)=>w),d=(k,w)=>p.slice(k,w),g=d(32,127),y=d(0,24);y.push(25),y.push.apply(y,d(28,32));const S=d(0,14);let E;for(E in u.setDefault(1,0),u.addMany(g,0,2,0),S)u.addMany([24,26,153,154],E,3,0),u.addMany(d(128,144),E,3,0),u.addMany(d(144,152),E,3,0),u.add(156,E,0,0),u.add(27,E,11,1),u.add(157,E,4,8),u.addMany([152,158,159],E,0,7),u.add(155,E,11,3),u.add(144,E,11,9);return u.addMany(y,0,3,0),u.addMany(y,1,3,1),u.add(127,1,0,1),u.addMany(y,8,0,8),u.addMany(y,3,3,3),u.add(127,3,0,3),u.addMany(y,4,3,4),u.add(127,4,0,4),u.addMany(y,6,3,6),u.addMany(y,5,3,5),u.add(127,5,0,5),u.addMany(y,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(g,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(d(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(g,7,0,7),u.addMany(y,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(d(64,127),3,7,0),u.addMany(d(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(d(48,60),4,8,4),u.addMany(d(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(d(32,64),6,0,6),u.add(127,6,0,6),u.addMany(d(64,127),6,0,0),u.addMany(d(32,48),3,9,5),u.addMany(d(32,48),5,9,5),u.addMany(d(48,64),5,0,6),u.addMany(d(64,127),5,7,0),u.addMany(d(32,48),4,9,5),u.addMany(d(32,48),1,9,2),u.addMany(d(32,48),2,9,2),u.addMany(d(48,127),2,10,0),u.addMany(d(48,80),1,10,0),u.addMany(d(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(d(96,127),1,10,0),u.add(80,1,11,9),u.addMany(y,9,0,9),u.add(127,9,0,9),u.addMany(d(28,32),9,0,9),u.addMany(d(32,48),9,9,12),u.addMany(d(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(y,11,0,11),u.addMany(d(32,128),11,0,11),u.addMany(d(28,32),11,0,11),u.addMany(y,10,0,10),u.add(127,10,0,10),u.addMany(d(28,32),10,0,10),u.addMany(d(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(d(32,48),10,9,12),u.addMany(y,12,0,12),u.add(127,12,0,12),u.addMany(d(28,32),12,0,12),u.addMany(d(32,48),12,9,12),u.addMany(d(48,64),12,0,11),u.addMany(d(64,127),12,12,13),u.addMany(d(64,127),10,12,13),u.addMany(d(64,127),9,12,13),u.addMany(y,13,13,13),u.addMany(g,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(b,0,2,0),u.add(b,8,5,8),u.add(b,6,0,6),u.add(b,11,0,11),u.add(b,13,13,13),u}();class _ extends h.Disposable{constructor(p=o.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,g,y)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,g)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,d=[64,126]){let g=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(g=p.prefix.charCodeAt(0),g&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<p.intermediates.length;++S){const E=p.intermediates.charCodeAt(S);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=E}}if(p.final.length!==1)throw new Error("final must be a single byte");const y=p.final.charCodeAt(0);if(d[0]>y||y>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return g<<=8,g|=y,g}identToString(p){const d=[];for(;p;)d.push(String.fromCharCode(255&p)),p>>=8;return d.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,d){const g=this._identifier(p,[48,126]);this._escHandlers[g]===void 0&&(this._escHandlers[g]=[]);const y=this._escHandlers[g];return y.push(d),{dispose:()=>{const S=y.indexOf(d);S!==-1&&y.splice(S,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,d){this._executeHandlers[p.charCodeAt(0)]=d}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,d){const g=this._identifier(p);this._csiHandlers[g]===void 0&&(this._csiHandlers[g]=[]);const y=this._csiHandlers[g];return y.push(d),{dispose:()=>{const S=y.indexOf(d);S!==-1&&y.splice(S,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,d){return this._dcsParser.registerHandler(this._identifier(p),d)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,d){return this._oscParser.registerHandler(p,d)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,d,g,y,S){this._parseStack.state=p,this._parseStack.handlers=d,this._parseStack.handlerPos=g,this._parseStack.transition=y,this._parseStack.chunkPos=S}parse(p,d,g){let y,S=0,E=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(g===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const w=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(g===!1&&C>-1){for(;C>=0&&(y=w[C](this._params),y!==!0);C--)if(y instanceof Promise)return this._parseStack.handlerPos=C,y}this._parseStack.handlers=[];break;case 4:if(g===!1&&C>-1){for(;C>=0&&(y=w[C](),y!==!0);C--)if(y instanceof Promise)return this._parseStack.handlerPos=C,y}this._parseStack.handlers=[];break;case 6:if(S=p[this._parseStack.chunkPos],y=this._dcsParser.unhook(S!==24&&S!==26,g),y)return y;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=p[this._parseStack.chunkPos],y=this._oscParser.end(S!==24&&S!==26,g),y)return y;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let w=k;w<d;++w){switch(S=p[w],E=this._transitions.table[this.currentState<<8|(S<160?S:b)],E>>4){case 2:for(let P=w+1;;++P){if(P>=d||(S=p[P])<32||S>126&&S<b){this._printHandler(p,w,P),w=P-1;break}if(++P>=d||(S=p[P])<32||S>126&&S<b){this._printHandler(p,w,P),w=P-1;break}if(++P>=d||(S=p[P])<32||S>126&&S<b){this._printHandler(p,w,P),w=P-1;break}if(++P>=d||(S=p[P])<32||S>126&&S<b){this._printHandler(p,w,P),w=P-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:w,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|S];let N=C?C.length-1:-1;for(;N>=0&&(y=C[N](this._params),y!==!0);N--)if(y instanceof Promise)return this._preserveStack(3,C,N,E,w),y;N<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++w<d&&(S=p[w])>47&&S<60);w--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const O=this._escHandlers[this._collect<<8|S];let R=O?O.length-1:-1;for(;R>=0&&(y=O[R](),y!==!0);R--)if(y instanceof Promise)return this._preserveStack(4,O,R,E,w),y;R<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let P=w+1;;++P)if(P>=d||(S=p[P])===24||S===26||S===27||S>127&&S<b){this._dcsParser.put(p,w,P),w=P-1;break}break;case 14:if(y=this._dcsParser.unhook(S!==24&&S!==26),y)return this._preserveStack(6,[],0,E,w),y;S===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let P=w+1;;P++)if(P>=d||(S=p[P])<32||S>127&&S<b){this._oscParser.put(p,w,P),w=P-1;break}break;case 6:if(y=this._oscParser.end(S!==24&&S!==26),y)return this._preserveStack(5,[],0,E,w),y;S===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}o.EscapeSequenceParser=_},6242:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const h=l(5770),m=l(482),f=[];o.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,x){this._handlers[v]===void 0&&(this._handlers[v]=[]);const b=this._handlers[v];return b.push(x),{dispose:()=>{const _=b.indexOf(x);_!==-1&&b.splice(_,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,x,b){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(v,x,b);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(v,x,b))}start(){this.reset(),this._state=1}put(v,x,b){if(this._state!==3){if(this._state===1)for(;x<b;){const _=v[x++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&b-x>0&&this._put(v,x,b)}}end(v,x=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let b=!1,_=this._active.length-1,u=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,b=x,u=this._stack.fallThrough,this._stack.paused=!1),!u&&b===!1){for(;_>=0&&(b=this._active[_].end(v),b!==!0);_--)if(b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,b;_--}for(;_>=0;_--)if(b=this._active[_].end(!1),b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,b}else this._handlerFb(this._id,"END",v);this._active=f,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,x,b){this._hitLimit||(this._data+=(0,m.utf32ToString)(v,x,b),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let x=!1;if(this._hitLimit)x=!1;else if(v&&(x=this._handler(this._data),x instanceof Promise))return x.then(b=>(this._data="",this._hitLimit=!1,b));return this._data="",this._hitLimit=!1,x}}},8742:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class h{static fromArray(f){const v=new h;if(!f.length)return v;for(let x=Array.isArray(f[0])?1:0;x<f.length;++x){const b=f[x];if(Array.isArray(b))for(let _=0;_<b.length;++_)v.addSubParam(b[_]);else v.addParam(b)}return v}constructor(f=32,v=32){if(this.maxLength=f,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new h(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let v=0;v<this.length;++v){f.push(this.params[v]);const x=this._subParamsIdx[v]>>8,b=255&this._subParamsIdx[v];b-x>0&&f.push(Array.prototype.slice.call(this._subParams,x,b))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>l?l:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>l?l:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const v=this._subParamsIdx[f]>>8,x=255&this._subParamsIdx[f];return x-v>0?this._subParams.subarray(v,x):null}getSubParamsAll(){const f={};for(let v=0;v<this.length;++v){const x=this._subParamsIdx[v]>>8,b=255&this._subParamsIdx[v];b-x>0&&(f[v]=this._subParams.slice(x,b))}return f}addDigit(f){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const x=this._digitIsSub?this._subParams:this.params,b=x[v-1];x[v-1]=~b?Math.min(10*b+f,l):f}}o.Params=h},5741:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,h){const m={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(m),h.dispose=()=>this._wrappedAddonDispose(m),h.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let h=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===l){h=m;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(h,1)}}},8771:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const h=l(3785),m=l(511);o.BufferApiView=class{constructor(f,v){this._buffer=f,this.type=v}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const v=this._buffer.lines.get(f);if(v)return new h.BufferLineApiView(v)}getNullCell(){return new m.CellData}}},3785:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const h=l(511);o.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,f){if(!(m<0||m>=this._line.length))return f?(this._line.loadCell(m,f),f):this._line.loadCell(m,new h.CellData)}translateToString(m,f,v){return this._line.translateToString(m,f,v)}}},8285:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const h=l(8771),m=l(8460),f=l(844);class v extends f.Disposable{constructor(b){super(),this._core=b,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=v},7975:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,h){return this._core.registerCsiHandler(l,m=>h(m.toArray()))}addCsiHandler(l,h){return this.registerCsiHandler(l,h)}registerDcsHandler(l,h){return this._core.registerDcsHandler(l,(m,f)=>h(m,f.toArray()))}addDcsHandler(l,h){return this.registerDcsHandler(l,h)}registerEscHandler(l,h){return this._core.registerEscHandler(l,h)}addEscHandler(l,h){return this.registerEscHandler(l,h)}registerOscHandler(l,h){return this._core.registerOscHandler(l,h)}addOscHandler(l,h){return this.registerOscHandler(l,h)}}},7090:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(c,o,l){var h=this&&this.__decorate||function(u,p,d,g){var y,S=arguments.length,E=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,p,d,g);else for(var k=u.length-1;k>=0;k--)(y=u[k])&&(E=(S<3?y(E):S>3?y(p,d,E):y(p,d))||E);return S>3&&E&&Object.defineProperty(p,d,E),E},m=this&&this.__param||function(u,p){return function(d,g){p(d,g,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const f=l(8460),v=l(844),x=l(5295),b=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let _=o.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(u){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(u.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(u.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new x.BufferSet(u,this))}resize(u,p){this.cols=u,this.rows=p,this.buffers.resize(u,p),this._onResize.fire({cols:u,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(u,p=!1){const d=this.buffer;let g;g=this._cachedBlankLine,g&&g.length===this.cols&&g.getFg(0)===u.fg&&g.getBg(0)===u.bg||(g=d.getBlankLine(u,p),this._cachedBlankLine=g),g.isWrapped=p;const y=d.ybase+d.scrollTop,S=d.ybase+d.scrollBottom;if(d.scrollTop===0){const E=d.lines.isFull;S===d.lines.length-1?E?d.lines.recycle().copyFrom(g):d.lines.push(g.clone()):d.lines.splice(S+1,0,g.clone()),E?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{const E=S-y+1;d.lines.shiftElements(y+1,E-1,-1),d.lines.set(S,g.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(u,p,d){const g=this.buffer;if(u<0){if(g.ydisp===0)return;this.isUserScrolling=!0}else u+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);const y=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+u,g.ybase),0),y!==g.ydisp&&(p||this._onScroll.fire(g.ydisp))}};o.BufferService=_=h([m(0,b.IOptionsService)],_)},7994:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,h){this._charsets[l]=h,this.glevel===l&&(this.charset=h)}}},1753:function(c,o,l){var h=this&&this.__decorate||function(g,y,S,E){var k,w=arguments.length,C=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,S):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,y,S,E);else for(var N=g.length-1;N>=0;N--)(k=g[N])&&(C=(w<3?k(C):w>3?k(y,S,C):k(y,S))||C);return w>3&&C&&Object.defineProperty(y,S,C),C},m=this&&this.__param||function(g,y){return function(S,E){y(S,E,g)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const f=l(2585),v=l(8460),x=l(844),b={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:g=>g.button!==4&&g.action===1&&(g.ctrl=!1,g.alt=!1,g.shift=!1,!0)},VT200:{events:19,restrict:g=>g.action!==32},DRAG:{events:23,restrict:g=>g.action!==32||g.button!==3},ANY:{events:31,restrict:g=>!0}};function _(g,y){let S=(g.ctrl?16:0)|(g.shift?4:0)|(g.alt?8:0);return g.button===4?(S|=64,S|=g.action):(S|=3&g.button,4&g.button&&(S|=64),8&g.button&&(S|=128),g.action===32?S|=32:g.action!==0||y||(S|=3)),S}const u=String.fromCharCode,p={DEFAULT:g=>{const y=[_(g,!1)+32,g.col+32,g.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${u(y[0])}${u(y[1])}${u(y[2])}`},SGR:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${_(g,!0)};${g.col};${g.row}${y}`},SGR_PIXELS:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${_(g,!0)};${g.x};${g.y}${y}`}};let d=o.CoreMouseService=class extends x.Disposable{constructor(g,y){super(),this._bufferService=g,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(b))this.addProtocol(S,b[S]);for(const S of Object.keys(p))this.addEncoding(S,p[S]);this.reset()}addProtocol(g,y){this._protocols[g]=y}addEncoding(g,y){this._encodings[g]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(g){if(!this._protocols[g])throw new Error(`unknown protocol "${g}"`);this._activeProtocol=g,this._onProtocolChange.fire(this._protocols[g].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(g){if(!this._encodings[g])throw new Error(`unknown encoding "${g}"`);this._activeEncoding=g}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(g){if(g.col<0||g.col>=this._bufferService.cols||g.row<0||g.row>=this._bufferService.rows||g.button===4&&g.action===32||g.button===3&&g.action!==32||g.button!==4&&(g.action===2||g.action===3)||(g.col++,g.row++,g.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,g,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(g))return!1;const y=this._encodings[this._activeEncoding](g);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=g,!0}explainEvents(g){return{down:!!(1&g),up:!!(2&g),drag:!!(4&g),move:!!(8&g),wheel:!!(16&g)}}_equalEvents(g,y,S){if(S){if(g.x!==y.x||g.y!==y.y)return!1}else if(g.col!==y.col||g.row!==y.row)return!1;return g.button===y.button&&g.action===y.action&&g.ctrl===y.ctrl&&g.alt===y.alt&&g.shift===y.shift}};o.CoreMouseService=d=h([m(0,f.IBufferService),m(1,f.ICoreService)],d)},6975:function(c,o,l){var h=this&&this.__decorate||function(d,g,y,S){var E,k=arguments.length,w=k<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,y):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,g,y,S);else for(var C=d.length-1;C>=0;C--)(E=d[C])&&(w=(k<3?E(w):k>3?E(g,y,w):E(g,y))||w);return k>3&&w&&Object.defineProperty(g,y,w),w},m=this&&this.__param||function(d,g){return function(y,S){g(y,S,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const f=l(1439),v=l(8460),x=l(844),b=l(2585),_=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=o.CoreService=class extends x.Disposable{constructor(d,g,y){super(),this._bufferService=d,this._logService=g,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(_),this.decPrivateModes=(0,f.clone)(u)}reset(){this.modes=(0,f.clone)(_),this.decPrivateModes=(0,f.clone)(u)}triggerDataEvent(d,g=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;g&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),g&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(S=>S.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(g=>g.charCodeAt(0))),this._onBinary.fire(d))}};o.CoreService=p=h([m(0,b.IBufferService),m(1,b.ILogService),m(2,b.IOptionsService)],p)},9074:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const h=l(8055),m=l(8460),f=l(844),v=l(6106);let x=0,b=0;class _ extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(d=>d==null?void 0:d.marker.line),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const g=new u(d);if(g){const y=g.marker.onDispose(()=>g.dispose());g.onDispose(()=>{g&&(this._decorations.delete(g)&&this._onDecorationRemoved.fire(g),y.dispose())}),this._decorations.insert(g),this._onDecorationRegistered.fire(g)}return g}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,g,y){var S,E,k;let w=0,C=0;for(const N of this._decorations.getKeyIterator(g))w=(S=N.options.x)!==null&&S!==void 0?S:0,C=w+((E=N.options.width)!==null&&E!==void 0?E:1),d>=w&&d<C&&(!y||((k=N.options.layer)!==null&&k!==void 0?k:"bottom")===y)&&(yield N)}forEachDecorationAtCell(d,g,y,S){this._decorations.forEachByKey(g,E=>{var k,w,C;x=(k=E.options.x)!==null&&k!==void 0?k:0,b=x+((w=E.options.width)!==null&&w!==void 0?w:1),d>=x&&d<b&&(!y||((C=E.options.layer)!==null&&C!==void 0?C:"bottom")===y)&&S(E)})}}o.DecorationService=_;class u extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const h=l(2585),m=l(8343);class f{constructor(...x){this._entries=new Map;for(const[b,_]of x)this.set(b,_)}set(x,b){const _=this._entries.get(x);return this._entries.set(x,b),_}forEach(x){for(const[b,_]of this._entries.entries())x(b,_)}has(x){return this._entries.has(x)}get(x){return this._entries.get(x)}}o.ServiceCollection=f,o.InstantiationService=class{constructor(){this._services=new f,this._services.set(h.IInstantiationService,this)}setService(v,x){this._services.set(v,x)}getService(v){return this._services.get(v)}createInstance(v,...x){const b=(0,m.getServiceDependencies)(v).sort((p,d)=>p.index-d.index),_=[];for(const p of b){const d=this._services.get(p.id);if(!d)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${p.id}.`);_.push(d)}const u=b.length>0?b[0].index:x.length;if(x.length!==u)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${u+1} conflicts with ${x.length} static arguments`);return new v(...x,..._)}}},7866:function(c,o,l){var h=this&&this.__decorate||function(u,p,d,g){var y,S=arguments.length,E=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,d):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,p,d,g);else for(var k=u.length-1;k>=0;k--)(y=u[k])&&(E=(S<3?y(E):S>3?y(p,d,E):y(p,d))||E);return S>3&&E&&Object.defineProperty(p,d,E),E},m=this&&this.__param||function(u,p){return function(d,g){p(d,g,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const f=l(844),v=l(2585),x={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let b,_=o.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(u){super(),this._optionsService=u,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),b=this}_updateLogLevel(){this._logLevel=x[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(u){for(let p=0;p<u.length;p++)typeof u[p]=="function"&&(u[p]=u[p]())}_log(u,p,d){this._evalLazyOptionalParams(d),u.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...d)}trace(u,...p){var d,g;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((g=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.trace.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.log,u,p)}debug(u,...p){var d,g;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((g=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.debug.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.log,u,p)}info(u,...p){var d,g;this._logLevel<=v.LogLevelEnum.INFO&&this._log((g=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.info.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.info,u,p)}warn(u,...p){var d,g;this._logLevel<=v.LogLevelEnum.WARN&&this._log((g=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.warn.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.warn,u,p)}error(u,...p){var d,g;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((g=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.error.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.error,u,p)}};o.LogService=_=h([m(0,v.IOptionsService)],_),o.setTraceLogger=function(u){b=u},o.traceCall=function(u,p,d){if(typeof d.value!="function")throw new Error("not supported");const g=d.value;d.value=function(...y){if(b.logLevel!==v.LogLevelEnum.TRACE)return g.apply(this,y);b.trace(`GlyphRenderer#${g.name}(${y.map(E=>JSON.stringify(E)).join(", ")})`);const S=g.apply(this,y);return b.trace(`GlyphRenderer#${g.name} return`,S),S}}},7302:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const h=l(8460),m=l(844),f=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class x extends m.Disposable{constructor(_){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const u=Object.assign({},o.DEFAULT_OPTIONS);for(const p in _)if(p in u)try{const d=_[p];u[p]=this._sanitizeAndValidateOption(p,d)}catch(d){console.error(d)}this.rawOptions=u,this.options=Object.assign({},u),this._setupOptions()}onSpecificOptionChange(_,u){return this.onOptionChange(p=>{p===_&&u(this.rawOptions[_])})}onMultipleOptionChange(_,u){return this.onOptionChange(p=>{_.indexOf(p)!==-1&&u()})}_setupOptions(){const _=p=>{if(!(p in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},u=(p,d)=>{if(!(p in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);d=this._sanitizeAndValidateOption(p,d),this.rawOptions[p]!==d&&(this.rawOptions[p]=d,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const d={get:_.bind(this,p),set:u.bind(this,p)};Object.defineProperty(this.options,p,d)}}_sanitizeAndValidateOption(_,u){switch(_){case"cursorStyle":if(u||(u=o.DEFAULT_OPTIONS[_]),!function(p){return p==="block"||p==="underline"||p==="bar"}(u))throw new Error(`"${u}" is not a valid value for ${_}`);break;case"wordSeparator":u||(u=o.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof u=="number"&&1<=u&&u<=1e3)break;u=v.includes(u)?u:o.DEFAULT_OPTIONS[_];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(`${_} cannot be less than 1, value: ${u}`);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${u}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${u}`);break;case"rows":case"cols":if(!u&&u!==0)throw new Error(`${_} must be numeric, value: ${u}`);break;case"windowsPty":u=u??{}}return u}}o.OptionsService=x},2660:function(c,o,l){var h=this&&this.__decorate||function(x,b,_,u){var p,d=arguments.length,g=d<3?b:u===null?u=Object.getOwnPropertyDescriptor(b,_):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(x,b,_,u);else for(var y=x.length-1;y>=0;y--)(p=x[y])&&(g=(d<3?p(g):d>3?p(b,_,g):p(b,_))||g);return d>3&&g&&Object.defineProperty(b,_,g),g},m=this&&this.__param||function(x,b){return function(_,u){b(_,u,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const f=l(2585);let v=o.OscLinkService=class{constructor(x){this._bufferService=x,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(x){const b=this._bufferService.buffer;if(x.id===void 0){const y=b.addMarker(b.ybase+b.y),S={data:x,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(S,y)),this._dataByLinkId.set(S.id,S),S.id}const _=x,u=this._getEntryIdKey(_),p=this._entriesWithId.get(u);if(p)return this.addLineToLink(p.id,b.ybase+b.y),p.id;const d=b.addMarker(b.ybase+b.y),g={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(g,d)),this._entriesWithId.set(g.key,g),this._dataByLinkId.set(g.id,g),g.id}addLineToLink(x,b){const _=this._dataByLinkId.get(x);if(_&&_.lines.every(u=>u.line!==b)){const u=this._bufferService.buffer.addMarker(b);_.lines.push(u),u.onDispose(()=>this._removeMarkerFromLink(_,u))}}getLinkData(x){var b;return(b=this._dataByLinkId.get(x))===null||b===void 0?void 0:b.data}_getEntryIdKey(x){return`${x.id};;${x.uri}`}_removeMarkerFromLink(x,b){const _=x.lines.indexOf(b);_!==-1&&(x.lines.splice(_,1),x.lines.length===0&&(x.data.id!==void 0&&this._entriesWithId.delete(x.key),this._dataByLinkId.delete(x.id)))}};o.OscLinkService=v=h([m(0,f.IBufferService)],v)},8343:(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",h="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(m){return m[h]||[]},o.createDecorator=function(m){if(o.serviceRegistry.has(m))return o.serviceRegistry.get(m);const f=function(v,x,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,u,p){u[l]===u?u[h].push({id:_,index:p}):(u[h]=[{id:_,index:p}],u[l]=u)})(f,v,b)};return f.toString=()=>m,o.serviceRegistry.set(m,f),f}},2585:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const h=l(8343);var m;o.IBufferService=(0,h.createDecorator)("BufferService"),o.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),o.ICoreService=(0,h.createDecorator)("CoreService"),o.ICharsetService=(0,h.createDecorator)("CharsetService"),o.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(m||(o.LogLevelEnum=m={})),o.ILogService=(0,h.createDecorator)("LogService"),o.IOptionsService=(0,h.createDecorator)("OptionsService"),o.IOscLinkService=(0,h.createDecorator)("OscLinkService"),o.IUnicodeService=(0,h.createDecorator)("UnicodeService"),o.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(c,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const h=l(8460),m=l(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const f=new m.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let v=0;const x=f.length;for(let b=0;b<x;++b){let _=f.charCodeAt(b);if(55296<=_&&_<=56319){if(++b>=x)return v+this.wcwidth(_);const u=f.charCodeAt(b);56320<=u&&u<=57343?_=1024*(_-55296)+u-56320+65536:v+=this.wcwidth(u)}v+=this.wcwidth(_)}return v}}}},s={};function n(c){var o=s[c];if(o!==void 0)return o.exports;var l=s[c]={exports:{}};return r[c].call(l.exports,l,l.exports,n),l.exports}var i={};return(()=>{var c=i;Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const o=n(9042),l=n(3236),h=n(844),m=n(5741),f=n(8285),v=n(7975),x=n(7090),b=["cols","rows"];class _ extends h.Disposable{constructor(p){super(),this._core=this.register(new l.Terminal(p)),this._addonManager=this.register(new m.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=y=>this._core.options[y],g=(y,S)=>{this._checkReadonlyOptions(y),this._core.options[y]=S};for(const y in this._core.options){const S={get:d.bind(this,y),set:g.bind(this,y)};Object.defineProperty(this._publicOptions,y,S)}}_checkReadonlyOptions(p){if(b.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new x.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const d in p)this._publicOptions[d]=p[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(p,d){this._verifyIntegers(p,d),this._core.resize(p,d)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){var d,g,y;return this._checkProposedApi(),this._verifyPositiveIntegers((d=p.x)!==null&&d!==void 0?d:0,(g=p.width)!==null&&g!==void 0?g:0,(y=p.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,d,g){this._verifyIntegers(p,d,g),this._core.select(p,d,g)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,d){this._verifyIntegers(p,d),this._core.selectLines(p,d)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,d){this._core.write(p,d)}writeln(p,d){this._core.write(p),this._core.write(`\r
`,d)}paste(p){this._core.paste(p)}refresh(p,d){this._verifyIntegers(p,d),this._core.refresh(p,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return o}_verifyIntegers(...p){for(const d of p)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const d of p)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}c.Terminal=_})(),i})())})(t0);var Ob=t0.exports,s0={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={};return(()=>{var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const i=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(i._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,i=n._renderService.dimensions;if(i.css.cell.width===0||i.css.cell.height===0)return;const c=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),h=Math.max(0,parseInt(o.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),f=l-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),v=h-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-c;return{cols:Math.max(2,Math.floor(v/i.css.cell.width)),rows:Math.max(1,Math.floor(f/i.css.cell.height))}}}})(),r})())})(s0);var Pb=s0.exports;function Mb({container:e,isDark:t,onClose:r}){var f;const[s,n]=M.useState(!1),i=M.useRef(null),c=M.useRef(null),o=M.useRef(null),l=M.useRef(null);M.useEffect(()=>{if(!i.current)return;c.current=new Ob.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'"Cascadia Code", "Fira Code", Consolas, monospace',theme:{background:"#1a1b26",foreground:"#c0caf5",cursor:"#c0caf5",black:"#15161e",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#bb9af7",cyan:"#7dcfff",white:"#a9b1d6",brightBlack:"#414868",brightRed:"#f7768e",brightGreen:"#9ece6a",brightYellow:"#e0af68",brightBlue:"#7aa2f7",brightMagenta:"#bb9af7",brightCyan:"#7dcfff",brightWhite:"#c0caf5"},rows:30,cols:100}),o.current=new Pb.FitAddon,c.current.loadAddon(o.current),c.current.open(i.current),o.current.fit();const v=window.location.protocol==="https:"?"wss:":"ws:",x=window.location.hostname,b="3001";l.current=new WebSocket(`${v}//${x}:${b}/ws/container/${e.Id}/terminal`),l.current.onopen=()=>{},l.current.onmessage=u=>{c.current.write(u.data)},l.current.onerror=u=>{console.error("WebSocket error:",u)},l.current.onclose=()=>{l.current},c.current.onData(u=>{l.current&&l.current.readyState===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"input",data:u}))});const _=()=>{if(o.current){o.current.fit();const{rows:u,cols:p}=c.current;l.current&&l.current.readyState===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"resize",rows:u,cols:p}))}};return window.addEventListener("resize",_),()=>{l.current&&l.current.close(),c.current&&c.current.dispose(),window.removeEventListener("resize",_)}},[e.Id]);const h=()=>{n(!s),setTimeout(()=>{o.current&&o.current.fit()},100)},m=((f=e.Names[0])==null?void 0:f.replace(/^\//,""))||e.Id.substring(0,12);return a.jsx("div",{className:`fixed inset-0 ${s?"z-[100]":"z-50"} flex items-center justify-center bg-black/60 backdrop-blur-sm p-4`,children:a.jsxs("div",{className:`${s?"w-full h-full":"w-[90vw] h-[80vh] max-w-7xl"} ${t?"glass border border-white/20":"bg-white border border-gray-300"} rounded-xl shadow-2xl overflow-hidden flex flex-col transition-all duration-300`,children:[a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 border-b ${t?"border-white/10 bg-white/5":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),a.jsxs("h3",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:[m," - Terminal"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:h,className:`p-1.5 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-200 text-gray-600"}`,children:s?a.jsx(hx,{className:"w-4 h-4"}):a.jsx(cx,{className:"w-4 h-4"})}),a.jsx("button",{onClick:r,className:`p-1.5 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-200 text-gray-600"}`,children:a.jsx(qr,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 p-4 overflow-hidden bg-[#1a1b26]",children:a.jsx("div",{ref:i,className:"w-full h-full"})})]})})}function Ib({isDark:e,containers:t,onClose:r,onSuccess:s}){const[n,i]=M.useState(0),[c,o]=M.useState({}),[l,h]=M.useState({}),[m,f]=M.useState(!1),[v,x]=M.useState({}),b=M.useRef(null),_=t&&t.length>0?t[n]:null,u=(E,k)=>{o(w=>({...w,[E]:[...w[E]||[],k]}))},p=(E,k)=>{x(w=>{const N={...w[E]||{layers:{},generalLogs:[]}};if(k.id){const O=N.layers[k.id]||{size:0,current:0,total:0};let R=O.total,P=O.current;k.progressDetail&&(k.progressDetail.total&&(R=k.progressDetail.total),k.progressDetail.current&&(P=k.progressDetail.current)),N.layers[k.id]={...O,status:k.status,progress:k.progress,current:P,total:R}}else k.status&&(N.generalLogs=[...N.generalLogs,k.status]);return{...w,[E]:N}})},d=async E=>{const k=localStorage.getItem("dma_current_endpoint"),w={"Content-Type":"application/json"};k&&(w["x-endpoint-id"]=k);const C={...E,alwaysPull:!0},O=(await fetch("/api/containers/create",{method:"POST",headers:w,body:JSON.stringify(C)})).body.getReader(),R=new TextDecoder;for(;;){const{value:P,done:D}=await O.read();if(D)break;const F=R.decode(P,{stream:!0}).split(`
`).filter(U=>U.trim());for(const U of F)try{const j=JSON.parse(U);if(j.type==="pull"?p(E.name,j.data):u(E.name,j),j.type==="error")throw new Error(j.message)}catch(j){j.message!=="Unexpected end of JSON input"&&console.error("Error parsing log:",j)}}},g=async()=>{if(!(!t||t.length===0)){for(let E=0;E<t.length;E++){i(E);const k=t[E];h(w=>({...w,[k.name]:"updating"}));try{await d(k),h(w=>({...w,[k.name]:"success"}))}catch(w){console.error(`Failed to update ${k.name}:`,w),h(C=>({...C,[k.name]:"error"})),u(k.name,{type:"error",message:w.message})}}f(!0),s&&s()}};M.useEffect(()=>{t&&t.length>0&&g()},[]),M.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[c,n,v]);const y=(E,k)=>!k||k===0?0:Math.min(100,Math.max(0,E/k*100)),S=E=>{const k=c[E]||[],w=v[E];return a.jsx("div",{className:"space-y-1 font-mono text-sm",children:k.map((C,N)=>{switch(C.type){case"step":return a.jsxs("div",{className:`flex items-center gap-2 py-2 font-bold border-b ${e?"text-cyan-400 border-white/10":"text-cyan-600 border-gray-200"}`,children:[a.jsx(vg,{className:"w-4 h-4"}),C.message]},N);case"command":const O=C.message.match(/(?:[^\s"']+|"[^"]*"|'[^']*')+/g)||[],R=[];let P=[];return O.forEach((D,B)=>{if(B===0&&D==="docker"){P.push(D);return}if(B===1&&D==="run"){P.push(D),R.push(P),P=[];return}D.startsWith("-")?(P.length>0&&R.push(P),P=[D]):B===O.length-1&&!D.startsWith("-")&&R.length>0?(P.length>0&&R.push(P),P=[D]):P.push(D)}),P.length>0&&R.push(P),a.jsx("div",{className:`pl-4 mb-4 font-mono text-sm break-all p-3 rounded-lg border ${e?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:a.jsx("div",{className:`space-y-1 ${e?"text-gray-300":"text-gray-700"}`,children:R.map((D,B)=>a.jsx("div",{className:`${B>0?"pl-4":""}`,children:D.map((F,U)=>a.jsx("span",{className:`mr-2 ${B===0?e?"text-cyan-400 font-bold":"text-cyan-600 font-bold":F.startsWith("-")?e?"text-yellow-500":"text-yellow-600":e?"text-gray-300":"text-gray-700"}`,children:F},U))},B))})},N);case"pull-start":return a.jsxs("div",{className:"pl-4 mb-4",children:[a.jsx("div",{className:`text-xs mb-2 ${e?"text-gray-400":"text-gray-500"}`,children:C.message}),w&&Object.keys(w.layers).length>0&&a.jsx("div",{className:`space-y-2 p-4 rounded-lg border ${e?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:Object.entries(w.layers).map(([D,B])=>{const F=y(B.current,B.total),U=B.status==="Downloading"||B.status==="Extracting",j=B.status==="Pull complete"||B.status==="Already exists",A=U||j;return a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("span",{className:j?e?"text-cyan-400":"text-cyan-600":e?"text-gray-400":"text-gray-500",children:["Layer ",D,": ",B.status]}),A&&a.jsx("span",{className:j?e?"text-cyan-400":"text-cyan-600":e?"text-gray-500":"text-gray-400",children:j?"100%":B.total?`${Math.round(B.current/B.total*100)}%`:""})]}),A&&a.jsx("div",{className:`w-full rounded-full h-1.5 overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:a.jsx("div",{className:`${j?"bg-cyan-500":"bg-blue-500"} h-1.5 rounded-full transition-all duration-300`,style:{width:j?"100%":`${F}%`}})})]},D)})})]},N);case"info":return a.jsx("div",{className:`pl-4 ${e?"text-gray-400":"text-gray-600"}`,children:C.message},N);case"success":return a.jsxs("div",{className:"flex items-center gap-2 pl-4 text-green-500",children:[a.jsx(Fo,{className:"w-4 h-4"}),C.message]},N);case"error":return a.jsxs("div",{className:"flex items-center gap-2 pl-4 text-red-500",children:[a.jsx(un,{className:"w-4 h-4"}),C.message]},N);default:return null}})})};return _?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl flex flex-col max-h-[85vh]`,children:[a.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${e?"border-white/10":"border-gray-200"} flex-shrink-0`,children:[a.jsx("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:t.length>1?` (${n+1}/${t.length})`:`: ${t[0].name}`}),m&&a.jsx("button",{onClick:r,className:`p-2 rounded-lg transition-all ${e?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[t.length>1&&a.jsx("div",{className:`w-64 border-r ${e?"border-white/10":"border-gray-200"} overflow-y-auto p-4`,children:a.jsx("div",{className:"space-y-2",children:t.map((E,k)=>a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg transition-all ${k===n?e?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":e?"text-gray-400":"text-gray-600"}`,children:[l[E.name]==="success"&&a.jsx(Fo,{className:"w-4 h-4 text-green-500"}),l[E.name]==="error"&&a.jsx(un,{className:"w-4 h-4 text-red-500"}),l[E.name]==="updating"&&a.jsx(gs,{className:"w-4 h-4 animate-spin text-cyan-500"}),!l[E.name]&&a.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${e?"border-gray-700":"border-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium truncate",children:E.name})]},k))})}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:`p-4 border-b ${e?"border-white/10 bg-white/5":"border-gray-200 bg-gray-50"}`,children:a.jsxs("h3",{className:`font-bold ${e?"text-white":"text-gray-900"}`,children:[_.name," - "]})}),a.jsx("div",{ref:b,className:`flex-1 overflow-auto p-6 font-mono text-sm ${e?"bg-gray-950":"bg-gray-50"}`,children:S(_.name)})]})]}),a.jsxs("div",{className:`p-6 border-t ${e?"border-white/10":"border-gray-200"} flex justify-between items-center flex-shrink-0`,children:[a.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:m?"":"..."}),m&&a.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg font-medium bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all",children:""})]})]})}):null}class Bb extends bc.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){var t;return this.state.hasError?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 text-white p-4",children:a.jsxs("div",{className:"bg-red-900/50 p-6 rounded-lg max-w-2xl w-full border border-red-500",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-red-400",children:""}),a.jsx("pre",{className:"bg-black/50 p-4 rounded overflow-auto text-sm font-mono",children:(t=this.state.error)==null?void 0:t.toString()}),a.jsx("button",{className:"mt-4 px-4 py-2 bg-red-600 rounded hover:bg-red-700",onClick:()=>this.props.onClose?this.props.onClose():window.location.reload(),children:""})]})}):this.props.children}}function Db(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),i=s==="dark",{refreshEndpoints:c,currentEndpoint:o}=Jr(),[l,h]=M.useState([]),[m,f]=M.useState([]),[v,x]=M.useState(null),[b,_]=M.useState(!1),[u,p]=M.useState(!1),[d,g]=M.useState(!1),[y,S]=M.useState(null),[E,k]=M.useState(new Map),[w,C]=M.useState(new Map),[N,O]=M.useState(null),[R]=M.useState(M.useRef(null)),[P,D]=M.useState(null),[B,F]=M.useState(!1),[U,j]=M.useState(!1),[A,T]=M.useState(!1),[I,z]=M.useState([]),[Y,X]=M.useState({show:!1,container:null});M.useEffect(()=>{c()},[]),M.useEffect(()=>{h([]),Z();const K=setInterval(Z,3e3);return()=>clearInterval(K)},[o]),M.useEffect(()=>{const K=async()=>{if(l.length!==0)try{const J=(await se.get("/api/containers/stats/batch")).data;C(new Map(Object.entries(J)))}catch(Q){console.error("Failed to fetch stats:",Q)}};if(l.length>0){K();const Q=setInterval(K,1e4);return()=>clearInterval(Q)}},[l]),M.useEffect(()=>{const K=Q=>{R.current&&!R.current.contains(Q.target)&&O(null)};if(N)return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[N]);const Z=async()=>{try{const K=await se.get("/api/containers");h(K.data)}catch(K){console.error("Failed to fetch containers:",K)}},ge=async K=>{k(Q=>new Map(Q).set(K,"checking"));try{const Q=await se.get(`/api/containers/${K}/check-update`),J=Q.data.status||(Q.data.hasUpdate?"available":"latest");k(ae=>new Map(ae).set(K,J))}catch{k(J=>new Map(J).set(K,"error"))}},L=async()=>{j(!0);const K=l.map(J=>J.Id),Q=new Map(E);K.forEach(J=>Q.set(J,"checking")),k(Q);try{const ae=(await se.post("/api/containers/check-update/batch",{ids:K})).data;k(me=>{const Ee=new Map(me);return Object.entries(ae).forEach(([ye,xe])=>{const Me=xe.status||(xe.hasUpdate?"available":"latest");Ee.set(ye,Me)}),Ee})}catch(J){console.error("Batch update check failed:",J),k(ae=>{const me=new Map(ae);return K.forEach(Ee=>{me.get(Ee)==="checking"&&me.set(Ee,"error")}),me})}finally{j(!1)}},$=async K=>{var ae,me,Ee,ye,xe,Me,He,pt,Ve;const J=(await se.get(`/api/containers/${K}`)).data;return{name:((ae=J.Name)==null?void 0:ae.replace(/^\//,""))||"",image:(me=J.Config)==null?void 0:me.Image,ports:(Ee=J.HostConfig)!=null&&Ee.PortBindings?Object.entries(J.HostConfig.PortBindings).map(([Ge,Ce])=>{const Ye=Ge.split("/")[0],Rs=Ce&&Ce[0]?Ce[0].HostPort:"";return Rs?`${Rs}:${Ye}`:Ye}):[],volumes:((ye=J.Mounts)==null?void 0:ye.map(Ge=>`${Ge.Source?Ge.Source:Ge.Name}:${Ge.Destination}`))||[],env:((xe=J.Config)==null?void 0:xe.Env)||[],restart:((He=(Me=J.HostConfig)==null?void 0:Me.RestartPolicy)==null?void 0:He.Name)||"no",network:((pt=J.HostConfig)==null?void 0:pt.NetworkMode)||"bridge",labels:((Ve=J.Config)==null?void 0:Ve.Labels)||{}}},V=async K=>{try{const Q=await $(K);z([Q]),T(!0)}catch(Q){alert(`: ${Q.message}`)}},W=async()=>{const K=[],Q=[];for(const J of l){const ae=E.get(J.Id);ae==="available"?K.push(J):(!ae||ae==="checking")&&Q.push(J)}if(Q.length>0){j(!0);try{const J=Q.map(Ee=>Ee.Id);k(Ee=>{const ye=new Map(Ee);return J.forEach(xe=>ye.set(xe,"checking")),ye});const me=(await se.post("/api/containers/check-update/batch",{ids:J})).data;k(Ee=>{const ye=new Map(Ee);return Object.entries(me).forEach(([xe,Me])=>{const He=Me.status||(Me.hasUpdate?"available":"latest");if(ye.set(xe,He),He==="available"){const pt=l.find(Ve=>Ve.Id===xe);pt&&K.push(pt)}}),ye})}catch(J){console.error("Batch check failed during update all:",J)}finally{j(!1)}}if(K.length===0){alert("");return}try{const J=[];for(const ae of K){const me=await $(ae.Id);J.push(me)}z(J),T(!0)}catch(J){alert(`: ${J.message}`)}},le=async(K,Q,J={})=>{try{await se.post(`/api/containers/${K.Id}/${Q}`,J),O(null),Z()}catch(ae){console.error(`Failed to ${Q} container:`,ae),alert(`: ${ae.message}`)}},ee=async K=>{const Q=K==="start"?l.filter(J=>J.State==="exited"):l.filter(J=>J.State==="running");if(Q.length===0){alert("");return}for(const J of Q)try{await se.post(`/api/containers/${J.Id}/${K}`)}catch(ae){console.error(`Failed to ${K} container ${J.Names[0]}:`,ae)}Z()},_e=K=>{x(K),_(!0),O(null)},Re=async K=>{var Q,J,ae,me,Ee,ye,xe,Me,He,pt,Ve,Ge;try{const Ye=(await se.get(`/api/containers/${K.Id}`)).data,Rs={name:((Q=Ye.Name)==null?void 0:Q.replace(/^\//,""))||"",image:((J=Ye.Config)==null?void 0:J.Image)||K.Image,ports:(ae=Ye.HostConfig)!=null&&ae.PortBindings?Object.entries(Ye.HostConfig.PortBindings).map(([et,nr])=>{const Ri=et.split("/")[0],Ai=nr&&nr[0]?nr[0].HostPort:"";return Ai?`${Ai}:${Ri}`:Ri}):[],volumes:((me=Ye.Mounts)==null?void 0:me.map(et=>`${et.Source?et.Source:et.Name}:${et.Destination}`))||[],env:((Ee=Ye.Config)==null?void 0:Ee.Env)||[],restart:((xe=(ye=Ye.HostConfig)==null?void 0:ye.RestartPolicy)==null?void 0:xe.Name)||"no",network:((Me=Ye.HostConfig)==null?void 0:Me.NetworkMode)||"bridge",iconUrl:((pt=(He=Ye.Config)==null?void 0:He.Labels)==null?void 0:pt.ICON_URL)||"",webUi:((Ge=(Ve=Ye.Config)==null?void 0:Ve.Labels)==null?void 0:Ge.WEBUI_URL)||""};S(Rs),p(!0),O(null)}catch(Ce){console.error("Failed to fetch container details:",Ce),alert("")}},q=K=>{D(K),F(!0),O(null)},re=K=>{O(N===K?null:K)},te=()=>{localStorage.removeItem("dma_token"),r("/login")},ue=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")};return a.jsxs("div",{className:i?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${i?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${i?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${i?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${i?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(Qr,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:i}),a.jsx(Qr,{icon:a.jsx(mr,{}),label:e("nav.containers"),active:!0,isDark:i}),a.jsx(Qr,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:i}),a.jsx(Qr,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:i}),a.jsx(Qr,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:i}),a.jsx(Qr,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:i}),a.jsx(Qr,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:i})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:i,popupDirection:"up"}),a.jsxs("button",{onClick:te,className:`w-full ${i?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${i?"text-white":"text-gray-900"}`,children:e("nav.containers")}),a.jsxs("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-600"}`,children:[" ",l.length," "]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>p(!0),className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${i?"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:ue,className:`${i?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${i?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:i?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:`mb-6 p-4 rounded-lg ${i?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} border`,children:[a.jsx("h3",{className:`text-sm font-medium mb-3 ${i?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>ee("start"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i?"bg-green-500/10 text-green-400 hover:bg-green-500/20":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:[a.jsx(Ei,{className:"w-4 h-4 inline mr-1"}),""]}),a.jsxs("button",{onClick:()=>ee("stop"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i?"bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20":"bg-yellow-50 text-yellow-600 hover:bg-yellow-100"}`,children:[a.jsx(mu,{className:"w-4 h-4 inline mr-1"}),""]}),a.jsxs("button",{onClick:()=>ee("restart"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i?"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,children:[a.jsx(wg,{className:"w-4 h-4 inline mr-1"}),""]}),a.jsxs("button",{onClick:L,disabled:U,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i?"bg-purple-500/10 text-purple-400 hover:bg-purple-500/20":"bg-purple-50 text-purple-600 hover:bg-purple-100"} disabled:opacity-50`,children:[U?a.jsx(gs,{className:"w-4 h-4 inline mr-1 animate-spin"}):a.jsx(Fo,{className:"w-4 h-4 inline mr-1"}),""]}),a.jsxs("button",{onClick:W,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i?"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(gu,{className:"w-4 h-4 inline mr-1"}),""]})]})]}),a.jsx("div",{className:"space-y-3",children:l.map(K=>a.jsx($b,{container:K,isDark:i,stats:w.get(K.Id),updateStatus:E.get(K.Id),isMenuOpen:N===K.Id,onIconClick:()=>re(K.Id),handleAction:le,handleShowLogs:_e,handleShowUpdate:Re,handleShowTerminal:q,checkUpdate:()=>ge(K.Id),updateContainer:()=>V(K.Id),menuRef:N===K.Id?R:null,onDeleteClick:Q=>X({show:!0,container:Q})},K.Id))})]}),b&&v&&a.jsx(Tb,{container:v,isDark:i,onClose:()=>_(!1)}),u&&a.jsx(e0,{isDark:i,images:m,onClose:()=>{p(!1),S(null)},onSuccess:Z,initialData:y}),B&&P&&a.jsx(Mb,{container:P,isDark:i,onClose:()=>F(!1)}),A&&a.jsx(Bb,{onClose:()=>T(!1),children:a.jsx(Ib,{isDark:i,containers:I,onClose:()=>{T(!1),Z()},onSuccess:()=>{Z()}})}),Y.show&&Y.container&&a.jsx(Fb,{isDark:i,container:Y.container,onClose:()=>X({show:!1,container:null}),onConfirm:K=>{le(Y.container,"remove",{deleteImage:K}),X({show:!1,container:null})}})]})}function $b({container:e,isDark:t,stats:r,updateStatus:s,isMenuOpen:n,onIconClick:i,handleAction:c,handleShowLogs:o,handleShowUpdate:l,handleShowTerminal:h,checkUpdate:m,updateContainer:f,menuRef:v,onDeleteClick:x}){var B,F,U,j,A,T,I,z,Y;const b=e.State==="running",_=e.State==="paused",u=e.State==="exited",p=()=>b?"bg-green-500":_?"bg-yellow-500":u?"bg-gray-500":"bg-red-500",d=((B=e.Names[0])==null?void 0:B.replace(/^\//,""))||e.Id.substring(0,12),g=e.Image,y=Object.keys(((F=e.NetworkSettings)==null?void 0:F.Networks)||{}),S=y[0]||"-",E=((A=(j=(U=e.NetworkSettings)==null?void 0:U.Networks)==null?void 0:j[y[0]])==null?void 0:A.IPAddress)||"-",k=((T=e.Ports)==null?void 0:T.map(X=>X.PublicPort?`${X.PublicPort}:${X.PrivatePort}`:X.PrivatePort).join(", "))||"-",w=((I=e.Mounts)==null?void 0:I.map(X=>`${X.Source?X.Source.split("/").pop():X.Name}:${X.Destination}`).join(", "))||"-",C=(z=e.Labels)==null?void 0:z.WEBUI_URL,N=!!C,O=C?C.startsWith("http")?C:`http://${C}`:null,R=(Y=e.Labels)==null?void 0:Y.ICON_URL,P=sr(),D=e.Labels&&(e.Labels["com.docker.compose.project"]||e.Labels["com.docker.stack.namespace"]);return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-lg p-4 border transition-all hover:shadow-lg relative`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{onClick:i,className:`w-16 h-16 rounded-lg flex items-center justify-center ${t?"bg-white/5":"bg-gray-100"} cursor-pointer transition-all hover:scale-105 ${n?"ring-2 ring-cyan-400":""} overflow-hidden`,children:R?a.jsx("img",{src:R,alt:d,className:"w-full h-full object-cover"}):a.jsx(mr,{className:`w-10 h-10 ${t?"text-cyan-400":"text-cyan-600"}`})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full ${p()} border-2 ${t?"border-gray-900":"border-white"} shadow-lg`}),n&&a.jsxs("div",{ref:v,className:`absolute left-full ml-2 top-0 w-56 ${t?"glass border-white/20 shadow-2xl":"bg-white border-gray-200 shadow-2xl"} border rounded-lg overflow-hidden z-50 animate-in fade-in slide-in-from-left-2 duration-200`,children:[N&&O&&a.jsxs(a.Fragment,{children:[a.jsx(Gt,{icon:a.jsx(sx,{className:"w-4 h-4"}),label:"",onClick:()=>window.open(O,"_blank"),isDark:t}),a.jsx(sl,{isDark:t})]}),a.jsx(Gt,{icon:a.jsx(Ho,{className:"w-4 h-4"}),label:"",onClick:()=>h(e),isDark:t,disabled:!b}),!D&&a.jsxs(a.Fragment,{children:[a.jsx(sl,{isDark:t}),!b&&!_&&a.jsx(Gt,{icon:a.jsx(Ei,{className:"w-4 h-4"}),label:"",onClick:()=>c(e,"start"),isDark:t}),b&&a.jsx(Gt,{icon:a.jsx(mu,{className:"w-4 h-4"}),label:"",onClick:()=>c(e,"stop"),isDark:t}),b&&a.jsx(Gt,{icon:a.jsx(dx,{className:"w-4 h-4"}),label:"",onClick:()=>c(e,"pause"),isDark:t}),_&&a.jsx(Gt,{icon:a.jsx(px,{className:"w-4 h-4"}),label:"",onClick:()=>c(e,"unpause"),isDark:t}),a.jsx(Gt,{icon:a.jsx(wg,{className:"w-4 h-4"}),label:"",onClick:()=>c(e,"restart"),isDark:t})]}),a.jsx(sl,{isDark:t}),a.jsx(Gt,{icon:a.jsx(_n,{className:"w-4 h-4"}),label:"",onClick:()=>o(e),isDark:t}),!D&&a.jsxs(a.Fragment,{children:[a.jsx(Gt,{icon:a.jsx(bg,{className:"w-4 h-4"}),label:"",onClick:()=>l(e),isDark:t}),a.jsx(Gt,{icon:a.jsx(ct,{className:"w-4 h-4"}),label:"",onClick:()=>{x(e)},isDark:t,danger:!0})]})]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:d}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tr,{className:`w-3.5 h-3.5 ${t?"text-gray-500":"text-gray-400"}`}),a.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:g})]}),s==="checking"&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${t?"bg-blue-500/10 text-blue-400":"bg-blue-50 text-blue-600"}`,children:[a.jsx(gs,{className:"w-3 h-3 animate-spin"}),a.jsx("span",{children:""})]}),s==="latest"&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${t?"bg-green-500/10 text-green-400":"bg-green-50 text-green-600"}`,children:[a.jsx(Fo,{className:"w-3 h-3"}),a.jsx("span",{children:""})]}),s==="available"&&a.jsxs("button",{onClick:D?()=>P("/stacks"):f,className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium transition-all ${t?"bg-orange-500/10 text-orange-400 hover:bg-orange-500/20":"bg-orange-50 text-orange-600 hover:bg-orange-100"}`,children:[D?a.jsx(Wt,{className:"w-3 h-3"}):a.jsx(un,{className:"w-3 h-3"}),a.jsx("span",{children:D?"":""})]}),s==="updating"&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${t?"bg-cyan-500/10 text-cyan-400":"bg-cyan-50 text-cyan-600"}`,children:[a.jsx(gs,{className:"w-3 h-3 animate-spin"}),a.jsx("span",{children:""})]}),s==="local"&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${t?"bg-gray-500/10 text-gray-400":"bg-gray-100 text-gray-600"}`,children:[a.jsx(Pt,{className:"w-3 h-3"}),a.jsx("span",{children:""})]}),s==="error"&&a.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${t?"bg-red-500/10 text-red-400":"bg-red-50 text-red-600"}`,title:"",children:[a.jsx(un,{className:"w-3 h-3"}),a.jsx("span",{children:""})]})]}),a.jsxs("div",{className:`grid grid-cols-3 gap-x-6 gap-y-1 text-xs ${t?"text-gray-400":"text-gray-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sg,{className:"w-3 h-3"}),a.jsxs("span",{className:"truncate",children:[S,": ",E]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"w-3 h-3"}),a.jsxs("span",{className:"truncate",children:[": ",k]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ix,{className:"w-3 h-3"}),a.jsxs("span",{className:"truncate",children:[": ",w]})]})]})]}),a.jsx("div",{className:"flex items-center justify-end",style:{width:"280px"},children:b?r?a.jsxs("div",{className:`flex gap-3 px-3 py-2 rounded-lg ${t?"bg-white/5":"bg-gray-50"}`,style:{width:"210px"},children:[a.jsxs("div",{className:"flex-1 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(_g,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"CPU"})]}),a.jsxs("div",{className:"text-base font-bold text-blue-400 text-right",style:{width:"70px",display:"inline-block"},children:[r.cpu.percent,"%"]})]}),a.jsx("div",{className:`w-px ${t?"bg-white/10":"bg-gray-200"}`}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(Pt,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:""})]}),a.jsx("div",{className:"text-base font-bold text-purple-400 text-right",style:{width:"90px",display:"inline-block"},children:r.memory.usageFormatted})]})]}):a.jsx("div",{className:`flex items-center justify-center rounded-lg ${t?"bg-white/5":"bg-gray-50"}`,style:{width:"210px",height:"64px"},children:a.jsx(gs,{className:`w-5 h-5 animate-spin ${t?"text-gray-600":"text-gray-400"}`})}):a.jsx("div",{style:{width:"210px"}})})]})})}function Fb({isDark:e,container:t,onClose:r,onConfirm:s}){var o;const[n,i]=M.useState(!1),c=((o=t.Names[0])==null?void 0:o.replace(/^\//,""))||t.Id.substring(0,12);return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-md border shadow-2xl p-6`,children:[a.jsx("h3",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:""}),a.jsxs("p",{className:`mb-6 ${e?"text-gray-300":"text-gray-600"}`,children:[" ",a.jsx("span",{className:"font-mono font-bold",children:c})," "]}),a.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border mb-6 cursor-pointer ${e?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("input",{type:"checkbox",checked:n,onChange:l=>i(l.target.checked),className:"w-5 h-5 rounded border-gray-300 text-red-500 focus:ring-red-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`font-medium ${e?"text-gray-200":"text-gray-700"}`,children:""}),a.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:""})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg font-medium transition-all ${e?"hover:bg-white/10 text-gray-300":"hover:bg-gray-100 text-gray-600"}`,children:""}),a.jsx("button",{onClick:()=>s(n),className:"px-4 py-2 rounded-lg font-medium bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/20",children:""})]})]})})}function Gt({icon:e,label:t,onClick:r,isDark:s,disabled:n=!1,danger:i=!1}){return a.jsxs("button",{onClick:r,disabled:n,className:`w-full px-4 py-2.5 flex items-center gap-3 transition-all text-left ${n?"opacity-50 cursor-not-allowed":i?s?"hover:bg-red-500/10 text-red-400":"hover:bg-red-50 text-red-600":s?"hover:bg-white/5 text-gray-300":"hover:bg-gray-50 text-gray-700"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function sl({isDark:e}){return a.jsx("div",{className:`border-t ${e?"border-white/10":"border-gray-200"}`})}function Qr({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function Hb({isDark:e,onClose:t,onSuccess:r}){const[s,n]=M.useState(""),[i,c]=M.useState(!1),[o,l]=M.useState(!1),[h,m]=M.useState({layers:{},generalLogs:[],totalSize:0}),f=async _=>{if(_.preventDefault(),!!s.trim()){c(!0),l(!1),m({layers:{},generalLogs:[],totalSize:0});try{const u=localStorage.getItem("dma_current_endpoint"),p={"Content-Type":"application/json"};u&&(p["x-endpoint-id"]=u);const g=(await fetch("/api/images/pull",{method:"POST",headers:p,body:JSON.stringify({imageName:s.trim()})})).body.getReader(),y=new TextDecoder;for(;;){const{value:S,done:E}=await g.read();if(E)break;const w=y.decode(S,{stream:!0}).split(`
`).filter(C=>C.trim());for(const C of w)try{const N=JSON.parse(C);if(N.error)throw new Error(N.error);m(O=>{const R={...O};if(N.id){const P=R.layers[N.id]||{size:0,current:0,total:0};let D=P.total,B=P.current;N.progressDetail&&(N.progressDetail.total&&(D=N.progressDetail.total),N.progressDetail.current&&(B=N.progressDetail.current)),R.layers[N.id]={...P,status:N.status,progress:N.progress,size:D||P.size,current:B,total:D}}else N.status&&(R.generalLogs=[...O.generalLogs,N.status]);return R.totalSize=Object.values(R.layers).reduce((P,D)=>P+(D.size||0),0),R})}catch(N){console.error("Error parsing log:",N)}}l(!0)}catch(u){console.error("Failed to pull image:",u),alert(`: ${u.message}`)}finally{c(!1)}}},v=()=>{t()},x=_=>_?(_/(1024*1024)).toFixed(0):"0",b=(_,u)=>!u||u===0?0:Math.min(100,Math.max(0,_/u*100));return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl flex flex-col max-h-[80vh]`,children:[a.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${e?"border-white/10":"border-gray-200"} flex-shrink-0`,children:[a.jsxs("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:[": ",s||"..."]}),!i&&a.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-all ${e?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:!i&&!o?a.jsx("form",{onSubmit:f,className:"flex-shrink-0",children:a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:s,onChange:_=>n(_.target.value),placeholder:": nginx:latest",className:`flex-1 px-4 py-3 rounded-lg ${e?"glass text-white placeholder-gray-500":"bg-gray-50 border border-gray-200 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-cyan-500`,disabled:i}),a.jsx("button",{type:"submit",className:"px-6 py-3 rounded-lg font-medium bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",disabled:i||!s.trim(),children:""})]}),a.jsx("p",{className:`mt-2 text-xs ${e?"text-gray-500":"text-gray-400"}`,children:" Docker Hub :"})]})}):a.jsxs("div",{className:`flex-1 overflow-y-auto p-6 font-mono text-sm ${e?"bg-gray-950":"bg-gray-50"}`,children:[h.generalLogs.map((_,u)=>a.jsx("div",{className:`pl-4 mb-1 whitespace-pre-wrap ${e?"text-gray-400":"text-gray-600"}`,children:_},`gen-${u}`)),Object.keys(h.layers).length>0&&a.jsx("div",{className:"pl-4 mb-4",children:a.jsx("div",{className:`space-y-2 p-4 rounded-lg border ${e?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:Object.entries(h.layers).map(([_,u])=>{const p=b(u.current,u.total),d=u.status==="Downloading"||u.status==="Extracting",g=u.status==="Pull complete"||u.status==="Already exists",y=d||g;return a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("span",{className:g?e?"text-cyan-400":"text-cyan-600":e?"text-gray-400":"text-gray-500",children:["Layer ",_,": ",u.status]}),y&&a.jsx("span",{className:g?e?"text-cyan-400":"text-cyan-600":e?"text-gray-500":"text-gray-400",children:g?"100%":u.total?`${Math.round(u.current/u.total*100)}%`:""})]}),y&&a.jsx("div",{className:`w-full rounded-full h-1.5 overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:a.jsx("div",{className:`${g?"bg-cyan-500":"bg-blue-500"} h-1.5 rounded-full transition-all duration-300`,style:{width:g?"100%":`${p}%`}})})]},_)})})}),(i||o)&&a.jsxs("div",{className:`mt-4 pt-4 border-t ${e?"border-white/10":"border-gray-200"} flex justify-between items-center`,children:[a.jsxs("div",{className:`font-bold ${e?"text-gray-300":"text-gray-700"}`,children:[": ",x(h.totalSize)," MB"]}),i?a.jsx("div",{className:"animate-pulse text-cyan-500",children:"..."}):a.jsx("button",{onClick:r,className:"px-6 py-2 rounded-lg font-medium bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all",children:""})]})]})})]})})}function Ub(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),[i,c]=M.useState([]),[o,l]=M.useState(!1),[h,m]=M.useState(!1),[f,v]=M.useState(null),{refreshEndpoints:x,currentEndpoint:b}=Jr();M.useEffect(()=>{x()},[]),M.useEffect(()=>{c([]),_()},[b]);const _=async()=>{try{const k=(await se.get("/api/images")).data||[];k.sort((w,C)=>{const N=w.RepoTags&&w.RepoTags.length>0?w.RepoTags[0]:w.Id,O=C.RepoTags&&C.RepoTags.length>0?C.RepoTags[0]:C.Id;return N.localeCompare(O)}),c(k)}catch(E){console.error("Failed to fetch images:",E)}},u=async E=>{if(confirm(` ${E.RepoTags?E.RepoTags[0]:E.Id.substring(0,12)} `))try{await se.delete(`/api/images/${E.Id}`),_()}catch(k){console.error("Failed to remove image:",k),alert(`: ${k.message}`)}},p=async()=>{var E;if(confirm(""))try{const w=((E=(await se.post("/api/images/prune")).data.ImagesDeleted)==null?void 0:E.length)||0;alert(` ${w} `),_()}catch(k){console.error("Failed to prune images:",k),alert(`: ${k.message}`)}},d=()=>{localStorage.removeItem("dma_token"),r("/login")},g=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},y=E=>{v(E),m(!0)},S=s==="dark";return a.jsxs("div",{className:S?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${S?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${S?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${S?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${S?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(Zr,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:S}),a.jsx(Zr,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:S}),a.jsx(Zr,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:S}),a.jsx(Zr,{icon:a.jsx(tr,{}),label:e("nav.images"),active:!0,isDark:S}),a.jsx(Zr,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:S}),a.jsx(Zr,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:S}),a.jsx(Zr,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:S})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:S,popupDirection:"up"}),a.jsxs("button",{onClick:d,className:`w-full ${S?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${S?"text-white":"text-gray-900"}`,children:e("nav.images")}),a.jsxs("p",{className:`mt-1 text-sm ${S?"text-gray-400":"text-gray-600"}`,children:[" ",i.length," "]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:p,className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${S?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:[a.jsx(ct,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsxs("button",{onClick:()=>l(!0),className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${S?"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(yg,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:g,className:`${S?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${S?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:S?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"space-y-4",children:i.map(E=>a.jsx(zb,{image:E,isDark:S,handleRemove:u,onRun:y},E.Id))})]}),o&&a.jsx(Hb,{onClose:()=>l(!1),onSuccess:()=>{l(!1),_()},isDark:S}),h&&a.jsx(e0,{isDark:S,onClose:()=>{m(!1),v(null)},onSuccess:()=>{m(!1),v(null),confirm("")&&r("/containers")},initialData:f?{image:f.RepoTags&&f.RepoTags.length>0?f.RepoTags[0]:f.Id}:null})]})}function zb({image:e,isDark:t,handleRemove:r,onRun:s}){const n=new Date(e.Created*1e3).toLocaleDateString("zh-CN"),i=(e.Size/1024/1024).toFixed(2)+" MB",c=e.Id.split(":")[1].substring(0,12),o=e.RepoDigests&&e.RepoDigests.length>0?e.RepoDigests[0].split("@")[1].substring(0,12):"-",l=e.RepoTags||["<none>:<none>"],h=e.Containers&&e.Containers.length>0;return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-4 border transition-all hover:shadow-md`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${t?"bg-blue-500/20":"bg-blue-50"} flex items-center justify-center flex-shrink-0`,children:a.jsx(tr,{className:`w-6 h-6 ${t?"text-blue-400":"text-blue-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.map((m,f)=>a.jsx("h3",{className:`text-lg font-bold truncate ${t?"text-white":"text-gray-900"}`,title:m,children:m},f)),h?a.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold ${t?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-green-100 text-green-700 border border-green-200"}`,children:e.Containers.join(", ")}):a.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold ${t?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:""})]}),a.jsxs("div",{className:`flex items-center gap-3 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"font-mono",children:c})}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"font-mono",children:o})}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{children:i})}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{children:n})})]})]}),a.jsxs("div",{className:"relative ml-4 flex gap-2",children:[a.jsx("button",{onClick:()=>s(e),className:`p-2.5 rounded-lg ${t?"hover:bg-green-500/10 text-green-400 hover:text-green-300":"hover:bg-green-50 text-green-600 hover:text-green-700"} transition-colors`,title:"",children:a.jsx(Ei,{className:"w-5 h-5"})}),!h&&a.jsx("button",{onClick:()=>r(e),className:`p-2.5 rounded-lg ${t?"hover:bg-red-500/10 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"} transition-colors`,title:"",children:a.jsx(ct,{className:"w-5 h-5"})})]})]})})})}function Zr({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function Wb(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),[i,c]=M.useState([]),[o,l]=M.useState(null),{refreshEndpoints:h,currentEndpoint:m}=Jr();M.useEffect(()=>{h()},[]),M.useEffect(()=>{c([]),f()},[m]);const f=async()=>{try{const d=(await se.get("/api/volumes")).data.Volumes||[];d.sort((g,y)=>g.Name.localeCompare(y.Name)),c(d)}catch(p){console.error("Failed to fetch volumes:",p)}},v=async p=>{if(confirm(` ${p.Name} `))try{await se.delete(`/api/volumes/${p.Name}`),f(),l(null)}catch(d){console.error("Failed to remove volume:",d),alert(`: ${d.message}`)}},x=async()=>{var p;if(confirm(""))try{const g=((p=(await se.post("/api/volumes/prune")).data.VolumesDeleted)==null?void 0:p.length)||0;alert(` ${g} `),f()}catch(d){console.error("Failed to prune volumes:",d),alert(`: ${d.message}`)}},b=()=>{localStorage.removeItem("dma_token"),r("/login")},_=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},u=s==="dark";return a.jsxs("div",{className:u?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${u?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${u?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${u?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${u?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(es,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:u}),a.jsx(es,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:u}),a.jsx(es,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:u}),a.jsx(es,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:u}),a.jsx(es,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),active:!0,isDark:u}),a.jsx(es,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:u}),a.jsx(es,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:u})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:u,popupDirection:"up"}),a.jsxs("button",{onClick:b,className:`w-full ${u?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${u?"text-white":"text-gray-900"}`,children:e("nav.volumes")}),a.jsxs("p",{className:`mt-1 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:[" ",i.length," "]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${u?"bg-red-500/10 text-red-400 hover:bg-red-500/20":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:[a.jsx(ct,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:_,className:`${u?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${u?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:u?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"space-y-4",children:i.map(p=>a.jsx(Vb,{volume:p,isDark:u,handleRemove:v},p.Name))})]})]})}function Vb({volume:e,isDark:t,handleRemove:r}){const s=e.CreatedAt?new Date(e.CreatedAt).toLocaleDateString("zh-CN"):"-",n=e.Containers&&e.Containers.length>0;return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-4 border transition-all hover:shadow-md`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${t?"bg-purple-500/20":"bg-purple-50"} flex items-center justify-center flex-shrink-0`,children:a.jsx(Pt,{className:`w-6 h-6 ${t?"text-purple-400":"text-purple-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`text-lg font-bold truncate ${t?"text-white":"text-gray-900"}`,title:e.Name,children:e.Name}),n?a.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold ${t?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-green-100 text-green-700 border border-green-200"}`,children:e.Containers.join(", ")}):a.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-bold ${t?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:""})]}),a.jsxs("div",{className:`flex items-center gap-3 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[a.jsxs("span",{className:"font-mono",children:[": ",e.Driver]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{className:"truncate max-w-md",title:e.Mountpoint,children:[": ",e.Mountpoint]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{children:[": ",s]})]})]}),!n&&a.jsx("div",{className:"relative ml-4",children:a.jsx("button",{onClick:()=>r(e),className:`p-2.5 rounded-lg ${t?"hover:bg-red-500/10 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"} transition-colors`,title:"",children:a.jsx(ct,{className:"w-5 h-5"})})})]})})})}function es({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function Kb(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),[i,c]=M.useState([]),[o,l]=M.useState(null),[h,m]=M.useState(!1),{refreshEndpoints:f,currentEndpoint:v}=Jr();M.useEffect(()=>{f()},[]),M.useEffect(()=>{c([]),x()},[v]);const x=async()=>{try{const g=(await se.get("/api/networks")).data||[];g.sort((y,S)=>y.Name.localeCompare(S.Name)),c(g)}catch(d){console.error("Failed to fetch networks:",d)}},b=async d=>{if(confirm(` ${d.Name} `))try{await se.delete(`/api/networks/${d.Id}`),x(),l(null)}catch(g){console.error("Failed to remove network:",g),alert(`: ${g.message}`)}},_=()=>{localStorage.removeItem("dma_token"),r("/login")},u=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},p=s==="dark";return a.jsxs("div",{className:p?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${p?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${p?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${p?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${p?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(ts,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:p}),a.jsx(ts,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:p}),a.jsx(ts,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:p}),a.jsx(ts,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:p}),a.jsx(ts,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:p}),a.jsx(ts,{icon:a.jsx(rr,{}),label:e("nav.networks"),active:!0,isDark:p}),a.jsx(ts,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:p})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:p,popupDirection:"up"}),a.jsxs("button",{onClick:_,className:`w-full ${p?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${p?"text-white":"text-gray-900"}`,children:e("nav.networks")}),a.jsxs("p",{className:`mt-1 text-sm ${p?"text-gray-400":"text-gray-600"}`,children:[" ",i.length," "]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>m(!0),className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${p?"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:u,className:`${p?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${p?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:p?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"space-y-4",children:i.map(d=>a.jsx(qb,{network:d,isDark:p,actionMenuId:o,setActionMenuId:l,handleRemove:b},d.Id))})]}),a.jsx(Gb,{isOpen:h,onClose:()=>m(!1),isDark:p,onCreated:x})]})}function qb({network:e,isDark:t,actionMenuId:r,setActionMenuId:s,handleRemove:n}){var f,v,x,b;e.Id;const i=new Date(e.Created).toLocaleDateString("zh-CN"),c=["bridge","host","none"].includes(e.Name),o=(v=(f=e.IPAM)==null?void 0:f.Config)==null?void 0:v.find(_=>_.Subnet&&!_.Subnet.includes(":")),l=(b=(x=e.IPAM)==null?void 0:x.Config)==null?void 0:b.find(_=>_.Subnet&&_.Subnet.includes(":")),h=o?o.Subnet:"-",m=l?l.Subnet:"-";return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-4 border transition-all hover:shadow-md`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${t?"bg-teal-500/20":"bg-teal-50"} flex items-center justify-center flex-shrink-0`,children:a.jsx(rr,{className:`w-6 h-6 ${t?"text-teal-400":"text-teal-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:e.Name}),c&&a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-800"}`,children:""})]}),a.jsxs("div",{className:`flex items-center gap-3 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[a.jsxs("span",{className:"font-mono",children:[": ",e.Driver]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{children:[": ",e.Scope]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{className:"font-mono",children:["IPv4: ",h]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{className:"font-mono",children:["IPv6: ",m]}),a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("span",{children:[": ",i]})]})]}),!c&&(!e.Containers||Object.keys(e.Containers).length===0)&&a.jsx("div",{className:"relative ml-4",children:a.jsx("button",{onClick:()=>n(e),className:`p-2.5 rounded-lg ${t?"hover:bg-red-500/10 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"} transition-colors`,title:"",children:a.jsx(ct,{className:"w-5 h-5"})})})]})})})}function Gb({isOpen:e,onClose:t,isDark:r,onCreated:s}){const[n,i]=M.useState({Name:"",Driver:"bridge",EnableIPv4:!1,IPv4Subnet:"",IPv4Gateway:"",EnableIPv6:!1,IPv6Subnet:"",IPv6Gateway:"",Internal:!1,Attachable:!1,Ingress:!1,Options:[]});if(!e)return null;const c=async m=>{var f,v;m.preventDefault();try{const x={Name:n.Name,Driver:n.Driver,Internal:n.Internal,Attachable:n.Attachable,Ingress:n.Ingress,EnableIPv6:n.EnableIPv6,Options:n.Options.reduce((b,_)=>(_.key&&_.value&&(b[_.key]=_.value),b),{}),IPAM:{Config:[]}};n.EnableIPv4&&n.IPv4Subnet&&x.IPAM.Config.push({Subnet:n.IPv4Subnet,Gateway:n.IPv4Gateway||void 0}),n.EnableIPv6&&n.IPv6Subnet&&x.IPAM.Config.push({Subnet:n.IPv6Subnet,Gateway:n.IPv6Gateway||void 0}),await se.post("/api/networks",x),s(),t()}catch(x){console.error("Failed to create network:",x),alert(`: ${((v=(f=x.response)==null?void 0:f.data)==null?void 0:v.error)||x.message}`)}},o=()=>{i({...n,Options:[...n.Options,{key:"",value:""}]})},l=(m,f,v)=>{const x=[...n.Options];x[m][f]=v,i({...n,Options:x})},h=m=>{const f=n.Options.filter((v,x)=>x!==m);i({...n,Options:f})};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${r?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-2xl border shadow-2xl max-h-[90vh] overflow-y-auto`,children:[a.jsxs("div",{className:`p-6 border-b ${r?"border-white/10":"border-gray-100"} flex items-center justify-between sticky top-0 ${r?"bg-gray-900/95":"bg-white/95"} backdrop-blur z-10`,children:[a.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:""}),a.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-colors ${r?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-500"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:`block text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:[a.jsx("span",{className:"text-red-500 mr-1",children:"*"}),""]}),a.jsx("input",{type:"text",required:!0,value:n.Name,onChange:m=>i({...n,Name:m.target.value}),placeholder:"",className:`w-full px-4 py-2.5 rounded-lg border ${r?"bg-black/20 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500/50 outline-none transition-all`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`block text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("select",{value:n.Driver,onChange:m=>i({...n,Driver:m.target.value}),className:`w-full px-4 py-2.5 rounded-lg border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500/50 outline-none transition-all`,children:[a.jsx("option",{value:"bridge",children:"bridge"}),a.jsx("option",{value:"host",children:"host"}),a.jsx("option",{value:"overlay",children:"overlay"}),a.jsx("option",{value:"macvlan",children:"macvlan"}),a.jsx("option",{value:"null",children:"null"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Xi,{label:"IPv4",checked:n.EnableIPv4,onChange:m=>i({...n,EnableIPv4:m}),isDark:r}),a.jsx(Xi,{label:"",checked:n.Internal,onChange:m=>i({...n,Internal:m}),isDark:r}),a.jsx(Xi,{label:"",checked:n.Attachable,onChange:m=>i({...n,Attachable:m}),isDark:r}),a.jsx(Xi,{label:"IPv6",checked:n.EnableIPv6,onChange:m=>i({...n,EnableIPv6:m}),isDark:r})]}),n.EnableIPv4&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"IPv4  (CIDR)"}),a.jsx("input",{type:"text",placeholder:"e.g. 172.20.0.0/16",value:n.IPv4Subnet,onChange:m=>i({...n,IPv4Subnet:m.target.value}),className:`w-full px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"IPv4  ()"}),a.jsx("input",{type:"text",placeholder:"e.g. 172.20.0.1",value:n.IPv4Gateway,onChange:m=>i({...n,IPv4Gateway:m.target.value}),className:`w-full px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`})]})]}),n.EnableIPv6&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"IPv6  (CIDR)"}),a.jsx("input",{type:"text",placeholder:"e.g. 2001:db8::/64",value:n.IPv6Subnet,onChange:m=>i({...n,IPv6Subnet:m.target.value}),className:`w-full px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"IPv6  ()"}),a.jsx("input",{type:"text",placeholder:"e.g. 2001:db8::1",value:n.IPv6Gateway,onChange:m=>i({...n,IPv6Gateway:m.target.value}),className:`w-full px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:`block text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:""}),a.jsxs("div",{className:"space-y-2",children:[n.Options.map((m,f)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Key",value:m.key,onChange:v=>l(f,"key",v.target.value),className:`flex-1 px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`}),a.jsx("input",{type:"text",placeholder:"Value",value:m.value,onChange:v=>l(f,"value",v.target.value),className:`flex-1 px-3 py-2 rounded border ${r?"bg-black/20 border-white/10 text-white":"bg-white border-gray-300"} focus:outline-none focus:border-blue-500`}),a.jsx("button",{type:"button",onClick:()=>h(f),className:"p-2 text-red-500 hover:bg-red-500/10 rounded",children:a.jsx(ct,{className:"w-4 h-4"})})]},f)),a.jsx("button",{type:"button",onClick:o,className:`w-full py-2 border border-dashed rounded-lg text-sm transition-colors ${r?"border-white/20 text-gray-400 hover:border-white/40 hover:text-white":"border-gray-300 text-gray-500 hover:border-gray-400 hover:text-gray-700"}`,children:"+ "})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r?"hover:bg-white/10 text-gray-300":"hover:bg-gray-100 text-gray-600"}`,children:""}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 hover:bg-blue-600 text-white transition-colors",children:""})]})]})]})})}function Xi({label:e,checked:t,onChange:r,isDark:s,disabled:n}){return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:`text-sm ${s?"text-gray-300":"text-gray-700"}`,children:e}),a.jsx("button",{type:"button",disabled:n,onClick:()=>!n&&r(!t),className:`w-12 h-6 rounded-full transition-colors relative ${t?"bg-blue-500":s?"bg-gray-700":"bg-gray-300"} ${n?"opacity-50 cursor-not-allowed":""}`,children:a.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-0"}`})})]})}function ts({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function Yb({stackName:e,isDark:t,isNewStack:r,pull:s,onClose:n,onDeploySuccess:i}){const[c,o]=M.useState([]),[l,h]=M.useState("deploying"),[m,f]=M.useState(!0),[v,x]=M.useState({}),b=M.useRef(null),_=M.useRef(null),u=M.useRef(!1);M.useEffect(()=>{u.current||(u.current=!0,p())},[e]),M.useEffect(()=>{m&&b.current&&b.current.scrollIntoView({behavior:"smooth"})},[c,v,m]);const p=async()=>{try{o([{type:"info",message:"..."}]);const C=(await fetch(`/api/stacks/${e}/deploy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isNew:r,pull:s})})).body.getReader(),N=new TextDecoder;let O="";for(;;){const{done:R,value:P}=await C.read();if(R)break;O+=N.decode(P,{stream:!0});const D=O.split(`
`);O=D.pop();for(const B of D)if(B.trim())try{const F=JSON.parse(B);d(F)}catch{console.warn("Failed to parse log line:",B)}}}catch(w){console.error("Failed to deploy stack:",w),o(C=>[...C,{type:"error",message:`: ${w.message}`}]),h("error")}},d=w=>{switch(w.type){case"step":o(C=>[...C,{type:"step",message:w.message}]);break;case"pull-start":o(C=>[...C,{type:"info",message:w.message},{type:"pull-widget"}]);break;case"pull":g(w.data);break;case"command":o(C=>[...C,{type:"command",message:w.message}]);break;case"info":o(C=>[...C,{type:"info",message:w.message}]);break;case"stdout":o(C=>[...C,{type:"stdout",message:w.message}]);break;case"stderr":o(C=>[...C,{type:"stderr",message:w.message}]);break;case"success":o(C=>[...C,{type:"success",message:w.message}]);break;case"done":o(C=>[...C,{type:"done",message:w.message}]),h("success"),i&&i();break;case"error":o(C=>[...C,{type:"error",message:w.message}]),h("error");break;case"warning":o(C=>[...C,{type:"warning",message:w.message}]);break}},g=w=>{w.status==="Downloading"||w.status==="Extracting"?x(C=>{var N,O;return{...C,[w.id]:{status:w.status,progress:w.progressDetail,current:(N=w.progressDetail)==null?void 0:N.current,total:(O=w.progressDetail)==null?void 0:O.total}}}):(w.status==="Pull complete"||w.status==="Already exists")&&x(C=>{var N,O;return{...C,[w.id]:{...C[w.id],status:w.status,current:((N=C[w.id])==null?void 0:N.total)||100,total:((O=C[w.id])==null?void 0:O.total)||100,completed:!0}}})},y=()=>{if(!_.current)return;const{scrollTop:w,scrollHeight:C,clientHeight:N}=_.current,O=C-w-N<50;f(O)},S=()=>{switch(l){case"deploying":return a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-cyan-500 border-t-transparent"});case"success":return a.jsx(ps,{className:"w-5 h-5 text-green-500"});case"error":return a.jsx(mg,{className:"w-5 h-5 text-red-500"});default:return null}},E=()=>{switch(l){case"deploying":return"...";case"success":return"";case"error":return"";default:return""}},k=(w,C)=>{switch(w.type){case"step":return a.jsxs("div",{className:`flex items-center gap-2 font-bold mt-4 mb-2 border-b pb-1 ${t?"text-cyan-400 border-cyan-500/20":"text-cyan-600 border-cyan-600/20"}`,children:[a.jsx(Ho,{className:"w-4 h-4"}),a.jsx("span",{children:w.message})]},C);case"command":const N=w.message.match(/(?:[^\s"']+|"[^"]*"|'[^']*')+/g)||[],O=[];let R=[];return N.forEach((P,D)=>{if(D===0&&P==="docker"){R.push(P);return}if(D===1&&P==="run"){R.push(P),O.push(R),R=[];return}P.startsWith("-")?(R.length>0&&O.push(R),R=[P]):D===N.length-1&&!P.startsWith("-")&&O.length>0?(R.length>0&&O.push(R),R=[P]):R.push(P)}),R.length>0&&O.push(R),a.jsx("div",{className:`pl-4 mb-4 font-mono text-sm break-all p-3 rounded-lg border ${t?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:a.jsx("div",{className:`space-y-1 ${t?"text-gray-300":"text-gray-700"}`,children:O.map((P,D)=>a.jsx("div",{className:`${D>0?"pl-4":""}`,children:P.map((B,F)=>a.jsx("span",{className:`mr-2 ${D===0?t?"text-cyan-400 font-bold":"text-cyan-600 font-bold":B.startsWith("-")?t?"text-yellow-500":"text-yellow-600":t?"text-gray-300":"text-gray-700"}`,children:B},F))},D))})},C);case"pull-widget":return a.jsx("div",{className:"pl-4 mb-4",children:Object.keys(v).length>0&&a.jsx("div",{className:`space-y-2 p-4 rounded-lg border ${t?"bg-black/30 border-white/5":"bg-gray-50 border-gray-200"}`,children:Object.entries(v).map(([P,D])=>a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsxs("span",{className:D.completed?t?"text-cyan-400":"text-cyan-600":t?"text-gray-400":"text-gray-500",children:["Layer ",P,": ",D.status]}),(D.total||D.completed)&&a.jsx("span",{className:D.completed?t?"text-cyan-400":"text-cyan-600":t?"text-gray-500":"text-gray-400",children:D.completed?"100%":`${Math.round(D.current/D.total*100)}%`})]}),(D.total||D.completed)&&a.jsx("div",{className:`w-full rounded-full h-1.5 overflow-hidden ${t?"bg-gray-700":"bg-gray-200"}`,children:a.jsx("div",{className:`${D.completed?"bg-cyan-500":"bg-blue-500"} h-1.5 rounded-full transition-all duration-300`,style:{width:D.completed?"100%":`${D.current/D.total*100}%`}})})]},P))})},C);case"info":return a.jsx("div",{className:`pl-4 ${t?"text-gray-400":"text-gray-600"}`,children:w.message},C);case"stdout":return a.jsx("div",{className:`pl-4 ${t?"text-gray-300":"text-gray-700"}`,children:w.message},C);case"stderr":return a.jsx("div",{className:"pl-4 text-yellow-500",children:w.message},C);case"error":return a.jsx("div",{className:"pl-4 text-red-500 font-bold bg-red-500/10 p-2 rounded my-2",children:w.message},C);case"success":return a.jsxs("div",{className:`pl-4 font-bold p-2 my-2 flex items-center gap-2 ${t?"text-cyan-400":"text-cyan-600"}`,children:[a.jsx(ps,{className:"w-4 h-4"}),w.message]},C);case"done":return a.jsxs("div",{className:`pl-4 font-bold mt-4 border-t pt-2 flex items-center gap-2 ${t?"text-cyan-400 border-white/10":"text-cyan-600 border-gray-200"}`,children:[a.jsx(ps,{className:"w-4 h-4"}),w.message]},C);case"warning":return a.jsx("div",{className:"pl-4 text-orange-500",children:w.message},C);default:return a.jsx("div",{className:"pl-4 text-gray-500",children:w.message},C)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${t?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl h-[80vh] flex flex-col border shadow-2xl`,children:[a.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${t?"border-white/10":"border-gray-200"}`,children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:""}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:e})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-white/5 px-3 py-1.5 rounded-full",children:[S(),a.jsx("span",{className:`text-sm font-medium ${l==="success"?"text-green-500":l==="error"?"text-red-500":t?"text-gray-400":"text-gray-600"}`,children:E()})]}),a.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-all ${t?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{ref:_,onScroll:y,className:`flex-1 overflow-auto p-6 font-mono text-sm ${t?"bg-gray-950":"bg-gray-50"}`,children:a.jsxs("div",{className:"space-y-1",children:[c.map((w,C)=>k(w,C)),a.jsx("div",{ref:b})]})}),a.jsxs("div",{className:`flex items-center justify-between p-4 border-t ${t?"border-white/10":"border-gray-200"}`,children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:m,onChange:w=>f(w.target.checked),className:"w-4 h-4 rounded border-gray-300 text-cyan-500 focus:ring-cyan-500"}),a.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:""})]}),l!=="deploying"&&a.jsx("button",{onClick:n,className:"px-6 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all text-sm font-medium shadow-lg shadow-cyan-500/20",children:""})]})]})})}/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function n0(e){return typeof e>"u"||e===null}function Jb(e){return typeof e=="object"&&e!==null}function Xb(e){return Array.isArray(e)?e:n0(e)?[]:[e]}function Qb(e,t){var r,s,n,i;if(t)for(i=Object.keys(t),r=0,s=i.length;r<s;r+=1)n=i[r],e[n]=t[n];return e}function Zb(e,t){var r="",s;for(s=0;s<t;s+=1)r+=e;return r}function ew(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var tw=n0,rw=Jb,sw=Xb,nw=Zb,iw=ew,ow=Qb,ze={isNothing:tw,isObject:rw,toArray:sw,repeat:nw,isNegativeZero:iw,extend:ow};function i0(e,t){var r="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),s+" "+r):s}function fi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=i0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}fi.prototype=Object.create(Error.prototype);fi.prototype.constructor=fi;fi.prototype.toString=function(t){return this.name+": "+i0(this,t)};var ut=fi;function nl(e,t,r,s,n){var i="",c="",o=Math.floor(n/2)-1;return s-t>o&&(i=" ... ",t=s-o+i.length),r-s>o&&(c=" ...",r=s+o-c.length),{str:i+e.slice(t,r).replace(/\t/g,"")+c,pos:s-t+i.length}}function il(e,t){return ze.repeat(" ",t-e.length)+e}function aw(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,s=[0],n=[],i,c=-1;i=r.exec(e.buffer);)n.push(i.index),s.push(i.index+i[0].length),e.position<=i.index&&c<0&&(c=s.length-2);c<0&&(c=s.length-1);var o="",l,h,m=Math.min(e.line+t.linesAfter,n.length).toString().length,f=t.maxLength-(t.indent+m+3);for(l=1;l<=t.linesBefore&&!(c-l<0);l++)h=nl(e.buffer,s[c-l],n[c-l],e.position-(s[c]-s[c-l]),f),o=ze.repeat(" ",t.indent)+il((e.line-l+1).toString(),m)+" | "+h.str+`
`+o;for(h=nl(e.buffer,s[c],n[c],e.position,f),o+=ze.repeat(" ",t.indent)+il((e.line+1).toString(),m)+" | "+h.str+`
`,o+=ze.repeat("-",t.indent+m+3+h.pos)+`^
`,l=1;l<=t.linesAfter&&!(c+l>=n.length);l++)h=nl(e.buffer,s[c+l],n[c+l],e.position-(s[c]-s[c+l]),f),o+=ze.repeat(" ",t.indent)+il((e.line+l+1).toString(),m)+" | "+h.str+`
`;return o.replace(/\n$/,"")}var lw=aw,cw=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],uw=["scalar","sequence","mapping"];function hw(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(s){t[String(s)]=r})}),t}function dw(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(cw.indexOf(r)===-1)throw new ut('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=hw(t.styleAliases||null),uw.indexOf(this.kind)===-1)throw new ut('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Qe=dw;function md(e,t){var r=[];return e[t].forEach(function(s){var n=r.length;r.forEach(function(i,c){i.tag===s.tag&&i.kind===s.kind&&i.multi===s.multi&&(n=c)}),r[n]=s}),r}function fw(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function s(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(s);return e}function uc(e){return this.extend(e)}uc.prototype.extend=function(t){var r=[],s=[];if(t instanceof Qe)s.push(t);else if(Array.isArray(t))s=s.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(s=s.concat(t.explicit));else throw new ut("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(i){if(!(i instanceof Qe))throw new ut("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new ut("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new ut("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(i){if(!(i instanceof Qe))throw new ut("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(uc.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(s),n.compiledImplicit=md(n,"implicit"),n.compiledExplicit=md(n,"explicit"),n.compiledTypeMap=fw(n.compiledImplicit,n.compiledExplicit),n};var o0=uc,a0=new Qe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),l0=new Qe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),c0=new Qe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),u0=new o0({explicit:[a0,l0,c0]});function pw(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function gw(){return null}function mw(e){return e===null}var h0=new Qe("tag:yaml.org,2002:null",{kind:"scalar",resolve:pw,construct:gw,predicate:mw,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function vw(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function _w(e){return e==="true"||e==="True"||e==="TRUE"}function yw(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var d0=new Qe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:vw,construct:_w,predicate:yw,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function xw(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function bw(e){return 48<=e&&e<=55}function ww(e){return 48<=e&&e<=57}function Sw(e){if(e===null)return!1;var t=e.length,r=0,s=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;s=!0}return s&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!xw(e.charCodeAt(r)))return!1;s=!0}return s&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!bw(e.charCodeAt(r)))return!1;s=!0}return s&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!ww(e.charCodeAt(r)))return!1;s=!0}return!(!s||n==="_")}function Cw(e){var t=e,r=1,s;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),s=t[0],(s==="-"||s==="+")&&(s==="-"&&(r=-1),t=t.slice(1),s=t[0]),t==="0")return 0;if(s==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Ew(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ze.isNegativeZero(e)}var f0=new Qe("tag:yaml.org,2002:int",{kind:"scalar",resolve:Sw,construct:Cw,predicate:Ew,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),kw=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function jw(e){return!(e===null||!kw.test(e)||e[e.length-1]==="_")}function Nw(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Lw=/^[-+]?[0-9]+e/;function Rw(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ze.isNegativeZero(e))return"-0.0";return r=e.toString(10),Lw.test(r)?r.replace("e",".e"):r}function Aw(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ze.isNegativeZero(e))}var p0=new Qe("tag:yaml.org,2002:float",{kind:"scalar",resolve:jw,construct:Nw,predicate:Aw,represent:Rw,defaultStyle:"lowercase"}),g0=u0.extend({implicit:[h0,d0,f0,p0]}),m0=g0,v0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),_0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Tw(e){return e===null?!1:v0.exec(e)!==null||_0.exec(e)!==null}function Ow(e){var t,r,s,n,i,c,o,l=0,h=null,m,f,v;if(t=v0.exec(e),t===null&&(t=_0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],s=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,s,n));if(i=+t[4],c=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(m=+t[10],f=+(t[11]||0),h=(m*60+f)*6e4,t[9]==="-"&&(h=-h)),v=new Date(Date.UTC(r,s,n,i,c,o,l)),h&&v.setTime(v.getTime()-h),v}function Pw(e){return e.toISOString()}var y0=new Qe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Tw,construct:Ow,instanceOf:Date,represent:Pw});function Mw(e){return e==="<<"||e===null}var x0=new Qe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Mw}),bu=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Iw(e){if(e===null)return!1;var t,r,s=0,n=e.length,i=bu;for(r=0;r<n;r++)if(t=i.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;s+=6}return s%8===0}function Bw(e){var t,r,s=e.replace(/[\r\n=]/g,""),n=s.length,i=bu,c=0,o=[];for(t=0;t<n;t++)t%4===0&&t&&(o.push(c>>16&255),o.push(c>>8&255),o.push(c&255)),c=c<<6|i.indexOf(s.charAt(t));return r=n%4*6,r===0?(o.push(c>>16&255),o.push(c>>8&255),o.push(c&255)):r===18?(o.push(c>>10&255),o.push(c>>2&255)):r===12&&o.push(c>>4&255),new Uint8Array(o)}function Dw(e){var t="",r=0,s,n,i=e.length,c=bu;for(s=0;s<i;s++)s%3===0&&s&&(t+=c[r>>18&63],t+=c[r>>12&63],t+=c[r>>6&63],t+=c[r&63]),r=(r<<8)+e[s];return n=i%3,n===0?(t+=c[r>>18&63],t+=c[r>>12&63],t+=c[r>>6&63],t+=c[r&63]):n===2?(t+=c[r>>10&63],t+=c[r>>4&63],t+=c[r<<2&63],t+=c[64]):n===1&&(t+=c[r>>2&63],t+=c[r<<4&63],t+=c[64],t+=c[64]),t}function $w(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var b0=new Qe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Iw,construct:Bw,predicate:$w,represent:Dw}),Fw=Object.prototype.hasOwnProperty,Hw=Object.prototype.toString;function Uw(e){if(e===null)return!0;var t=[],r,s,n,i,c,o=e;for(r=0,s=o.length;r<s;r+=1){if(n=o[r],c=!1,Hw.call(n)!=="[object Object]")return!1;for(i in n)if(Fw.call(n,i))if(!c)c=!0;else return!1;if(!c)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function zw(e){return e!==null?e:[]}var w0=new Qe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Uw,construct:zw}),Ww=Object.prototype.toString;function Vw(e){if(e===null)return!0;var t,r,s,n,i,c=e;for(i=new Array(c.length),t=0,r=c.length;t<r;t+=1){if(s=c[t],Ww.call(s)!=="[object Object]"||(n=Object.keys(s),n.length!==1))return!1;i[t]=[n[0],s[n[0]]]}return!0}function Kw(e){if(e===null)return[];var t,r,s,n,i,c=e;for(i=new Array(c.length),t=0,r=c.length;t<r;t+=1)s=c[t],n=Object.keys(s),i[t]=[n[0],s[n[0]]];return i}var S0=new Qe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Vw,construct:Kw}),qw=Object.prototype.hasOwnProperty;function Gw(e){if(e===null)return!0;var t,r=e;for(t in r)if(qw.call(r,t)&&r[t]!==null)return!1;return!0}function Yw(e){return e!==null?e:{}}var C0=new Qe("tag:yaml.org,2002:set",{kind:"mapping",resolve:Gw,construct:Yw}),wu=m0.extend({implicit:[y0,x0],explicit:[b0,w0,S0,C0]}),Hr=Object.prototype.hasOwnProperty,zo=1,E0=2,k0=3,Wo=4,ol=1,Jw=2,vd=3,Xw=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Qw=/[\x85\u2028\u2029]/,Zw=/[,\[\]\{\}]/,j0=/^(?:!|!!|![a-z\-]+!)$/i,N0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _d(e){return Object.prototype.toString.call(e)}function er(e){return e===10||e===13}function vs(e){return e===9||e===32}function vt(e){return e===9||e===32||e===10||e===13}function Gs(e){return e===44||e===91||e===93||e===123||e===125}function eS(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function tS(e){return e===120?2:e===117?4:e===85?8:0}function rS(e){return 48<=e&&e<=57?e-48:-1}function yd(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function sS(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function L0(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var R0=new Array(256),A0=new Array(256);for(var Ts=0;Ts<256;Ts++)R0[Ts]=yd(Ts)?1:0,A0[Ts]=yd(Ts);function nS(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||wu,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function T0(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=lw(r),new ut(t,r)}function oe(e,t){throw T0(e,t)}function Vo(e,t){e.onWarning&&e.onWarning.call(null,T0(e,t))}var xd={YAML:function(t,r,s){var n,i,c;t.version!==null&&oe(t,"duplication of %YAML directive"),s.length!==1&&oe(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),n===null&&oe(t,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),c=parseInt(n[2],10),i!==1&&oe(t,"unacceptable YAML version of the document"),t.version=s[0],t.checkLineBreaks=c<2,c!==1&&c!==2&&Vo(t,"unsupported YAML version of the document")},TAG:function(t,r,s){var n,i;s.length!==2&&oe(t,"TAG directive accepts exactly two arguments"),n=s[0],i=s[1],j0.test(n)||oe(t,"ill-formed tag handle (first argument) of the TAG directive"),Hr.call(t.tagMap,n)&&oe(t,'there is a previously declared suffix for "'+n+'" tag handle'),N0.test(i)||oe(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{oe(t,"tag prefix is malformed: "+i)}t.tagMap[n]=i}};function Dr(e,t,r,s){var n,i,c,o;if(t<r){if(o=e.input.slice(t,r),s)for(n=0,i=o.length;n<i;n+=1)c=o.charCodeAt(n),c===9||32<=c&&c<=1114111||oe(e,"expected valid JSON character");else Xw.test(o)&&oe(e,"the stream contains non-printable characters");e.result+=o}}function bd(e,t,r,s){var n,i,c,o;for(ze.isObject(r)||oe(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),c=0,o=n.length;c<o;c+=1)i=n[c],Hr.call(t,i)||(L0(t,i,r[i]),s[i]=!0)}function Ys(e,t,r,s,n,i,c,o,l){var h,m;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),h=0,m=n.length;h<m;h+=1)Array.isArray(n[h])&&oe(e,"nested arrays are not supported inside keys"),typeof n=="object"&&_d(n[h])==="[object Object]"&&(n[h]="[object Object]");if(typeof n=="object"&&_d(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(h=0,m=i.length;h<m;h+=1)bd(e,t,i[h],r);else bd(e,t,i,r);else!e.json&&!Hr.call(r,n)&&Hr.call(t,n)&&(e.line=c||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,oe(e,"duplicated mapping key")),L0(t,n,i),delete r[n];return t}function Su(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):oe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function $e(e,t,r){for(var s=0,n=e.input.charCodeAt(e.position);n!==0;){for(;vs(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(er(n))for(Su(e),n=e.input.charCodeAt(e.position),s++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&s!==0&&e.lineIndent<r&&Vo(e,"deficient indentation"),s}function ba(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||vt(r)))}function Cu(e,t){t===1?e.result+=" ":t>1&&(e.result+=ze.repeat(`
`,t-1))}function iS(e,t,r){var s,n,i,c,o,l,h,m,f=e.kind,v=e.result,x;if(x=e.input.charCodeAt(e.position),vt(x)||Gs(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(n=e.input.charCodeAt(e.position+1),vt(n)||r&&Gs(n)))return!1;for(e.kind="scalar",e.result="",i=c=e.position,o=!1;x!==0;){if(x===58){if(n=e.input.charCodeAt(e.position+1),vt(n)||r&&Gs(n))break}else if(x===35){if(s=e.input.charCodeAt(e.position-1),vt(s))break}else{if(e.position===e.lineStart&&ba(e)||r&&Gs(x))break;if(er(x))if(l=e.line,h=e.lineStart,m=e.lineIndent,$e(e,!1,-1),e.lineIndent>=t){o=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=c,e.line=l,e.lineStart=h,e.lineIndent=m;break}}o&&(Dr(e,i,c,!1),Cu(e,e.line-l),i=c=e.position,o=!1),vs(x)||(c=e.position+1),x=e.input.charCodeAt(++e.position)}return Dr(e,i,c,!1),e.result?!0:(e.kind=f,e.result=v,!1)}function oS(e,t){var r,s,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,s=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Dr(e,s,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)s=e.position,e.position++,n=e.position;else return!0;else er(r)?(Dr(e,s,n,!0),Cu(e,$e(e,!1,t)),s=n=e.position):e.position===e.lineStart&&ba(e)?oe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);oe(e,"unexpected end of the stream within a single quoted scalar")}function aS(e,t){var r,s,n,i,c,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=s=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Dr(e,r,e.position,!0),e.position++,!0;if(o===92){if(Dr(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),er(o))$e(e,!1,t);else if(o<256&&R0[o])e.result+=A0[o],e.position++;else if((c=tS(o))>0){for(n=c,i=0;n>0;n--)o=e.input.charCodeAt(++e.position),(c=eS(o))>=0?i=(i<<4)+c:oe(e,"expected hexadecimal character");e.result+=sS(i),e.position++}else oe(e,"unknown escape sequence");r=s=e.position}else er(o)?(Dr(e,r,s,!0),Cu(e,$e(e,!1,t)),r=s=e.position):e.position===e.lineStart&&ba(e)?oe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,s=e.position)}oe(e,"unexpected end of the stream within a double quoted scalar")}function lS(e,t){var r=!0,s,n,i,c=e.tag,o,l=e.anchor,h,m,f,v,x,b=Object.create(null),_,u,p,d;if(d=e.input.charCodeAt(e.position),d===91)m=93,x=!1,o=[];else if(d===123)m=125,x=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),d=e.input.charCodeAt(++e.position);d!==0;){if($e(e,!0,t),d=e.input.charCodeAt(e.position),d===m)return e.position++,e.tag=c,e.anchor=l,e.kind=x?"mapping":"sequence",e.result=o,!0;r?d===44&&oe(e,"expected the node content, but found ','"):oe(e,"missed comma between flow collection entries"),u=_=p=null,f=v=!1,d===63&&(h=e.input.charCodeAt(e.position+1),vt(h)&&(f=v=!0,e.position++,$e(e,!0,t))),s=e.line,n=e.lineStart,i=e.position,fn(e,t,zo,!1,!0),u=e.tag,_=e.result,$e(e,!0,t),d=e.input.charCodeAt(e.position),(v||e.line===s)&&d===58&&(f=!0,d=e.input.charCodeAt(++e.position),$e(e,!0,t),fn(e,t,zo,!1,!0),p=e.result),x?Ys(e,o,b,u,_,p,s,n,i):f?o.push(Ys(e,null,b,u,_,p,s,n,i)):o.push(_),$e(e,!0,t),d=e.input.charCodeAt(e.position),d===44?(r=!0,d=e.input.charCodeAt(++e.position)):r=!1}oe(e,"unexpected end of the stream within a flow collection")}function cS(e,t){var r,s,n=ol,i=!1,c=!1,o=t,l=0,h=!1,m,f;if(f=e.input.charCodeAt(e.position),f===124)s=!1;else if(f===62)s=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)ol===n?n=f===43?vd:Jw:oe(e,"repeat of a chomping mode identifier");else if((m=rS(f))>=0)m===0?oe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?oe(e,"repeat of an indentation width identifier"):(o=t+m-1,c=!0);else break;if(vs(f)){do f=e.input.charCodeAt(++e.position);while(vs(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!er(f)&&f!==0)}for(;f!==0;){for(Su(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!c||e.lineIndent<o)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>o&&(o=e.lineIndent),er(f)){l++;continue}if(e.lineIndent<o){n===vd?e.result+=ze.repeat(`
`,i?1+l:l):n===ol&&i&&(e.result+=`
`);break}for(s?vs(f)?(h=!0,e.result+=ze.repeat(`
`,i?1+l:l)):h?(h=!1,e.result+=ze.repeat(`
`,l+1)):l===0?i&&(e.result+=" "):e.result+=ze.repeat(`
`,l):e.result+=ze.repeat(`
`,i?1+l:l),i=!0,c=!0,l=0,r=e.position;!er(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Dr(e,r,e.position,!1)}return!0}function wd(e,t){var r,s=e.tag,n=e.anchor,i=[],c,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,oe(e,"tab characters must not be used in indentation")),!(l!==45||(c=e.input.charCodeAt(e.position+1),!vt(c))));){if(o=!0,e.position++,$e(e,!0,-1)&&e.lineIndent<=t){i.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,fn(e,t,k0,!1,!0),i.push(e.result),$e(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)oe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=s,e.anchor=n,e.kind="sequence",e.result=i,!0):!1}function uS(e,t,r){var s,n,i,c,o,l,h=e.tag,m=e.anchor,f={},v=Object.create(null),x=null,b=null,_=null,u=!1,p=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),d=e.input.charCodeAt(e.position);d!==0;){if(!u&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,oe(e,"tab characters must not be used in indentation")),s=e.input.charCodeAt(e.position+1),i=e.line,(d===63||d===58)&&vt(s))d===63?(u&&(Ys(e,f,v,x,b,null,c,o,l),x=b=_=null),p=!0,u=!0,n=!0):u?(u=!1,n=!0):oe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=s;else{if(c=e.line,o=e.lineStart,l=e.position,!fn(e,r,E0,!1,!0))break;if(e.line===i){for(d=e.input.charCodeAt(e.position);vs(d);)d=e.input.charCodeAt(++e.position);if(d===58)d=e.input.charCodeAt(++e.position),vt(d)||oe(e,"a whitespace character is expected after the key-value separator within a block mapping"),u&&(Ys(e,f,v,x,b,null,c,o,l),x=b=_=null),p=!0,u=!1,n=!1,x=e.tag,b=e.result;else if(p)oe(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=m,!0}else if(p)oe(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=m,!0}if((e.line===i||e.lineIndent>t)&&(u&&(c=e.line,o=e.lineStart,l=e.position),fn(e,t,Wo,!0,n)&&(u?b=e.result:_=e.result),u||(Ys(e,f,v,x,b,_,c,o,l),x=b=_=null),$e(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&d!==0)oe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return u&&Ys(e,f,v,x,b,null,c,o,l),p&&(e.tag=h,e.anchor=m,e.kind="mapping",e.result=f),p}function hS(e){var t,r=!1,s=!1,n,i,c;if(c=e.input.charCodeAt(e.position),c!==33)return!1;if(e.tag!==null&&oe(e,"duplication of a tag property"),c=e.input.charCodeAt(++e.position),c===60?(r=!0,c=e.input.charCodeAt(++e.position)):c===33?(s=!0,n="!!",c=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do c=e.input.charCodeAt(++e.position);while(c!==0&&c!==62);e.position<e.length?(i=e.input.slice(t,e.position),c=e.input.charCodeAt(++e.position)):oe(e,"unexpected end of the stream within a verbatim tag")}else{for(;c!==0&&!vt(c);)c===33&&(s?oe(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),j0.test(n)||oe(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),c=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),Zw.test(i)&&oe(e,"tag suffix cannot contain flow indicator characters")}i&&!N0.test(i)&&oe(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{oe(e,"tag name is malformed: "+i)}return r?e.tag=i:Hr.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:n==="!"?e.tag="!"+i:n==="!!"?e.tag="tag:yaml.org,2002:"+i:oe(e,'undeclared tag handle "'+n+'"'),!0}function dS(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&oe(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!vt(r)&&!Gs(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&oe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function fS(e){var t,r,s;if(s=e.input.charCodeAt(e.position),s!==42)return!1;for(s=e.input.charCodeAt(++e.position),t=e.position;s!==0&&!vt(s)&&!Gs(s);)s=e.input.charCodeAt(++e.position);return e.position===t&&oe(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Hr.call(e.anchorMap,r)||oe(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],$e(e,!0,-1),!0}function fn(e,t,r,s,n){var i,c,o,l=1,h=!1,m=!1,f,v,x,b,_,u;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=c=o=Wo===r||k0===r,s&&$e(e,!0,-1)&&(h=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;hS(e)||dS(e);)$e(e,!0,-1)?(h=!0,o=i,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=h||n),(l===1||Wo===r)&&(zo===r||E0===r?_=t:_=t+1,u=e.position-e.lineStart,l===1?o&&(wd(e,u)||uS(e,u,_))||lS(e,_)?m=!0:(c&&cS(e,_)||oS(e,_)||aS(e,_)?m=!0:fS(e)?(m=!0,(e.tag!==null||e.anchor!==null)&&oe(e,"alias node should not have any properties")):iS(e,_,zo===r)&&(m=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(m=o&&wd(e,u))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&oe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,v=e.implicitTypes.length;f<v;f+=1)if(b=e.implicitTypes[f],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Hr.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,x=e.typeMap.multi[e.kind||"fallback"],f=0,v=x.length;f<v;f+=1)if(e.tag.slice(0,x[f].tag.length)===x[f].tag){b=x[f];break}b||oe(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&oe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):oe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||m}function pS(e){var t=e.position,r,s,n,i=!1,c;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(c=e.input.charCodeAt(e.position))!==0&&($e(e,!0,-1),c=e.input.charCodeAt(e.position),!(e.lineIndent>0||c!==37));){for(i=!0,c=e.input.charCodeAt(++e.position),r=e.position;c!==0&&!vt(c);)c=e.input.charCodeAt(++e.position);for(s=e.input.slice(r,e.position),n=[],s.length<1&&oe(e,"directive name must not be less than one character in length");c!==0;){for(;vs(c);)c=e.input.charCodeAt(++e.position);if(c===35){do c=e.input.charCodeAt(++e.position);while(c!==0&&!er(c));break}if(er(c))break;for(r=e.position;c!==0&&!vt(c);)c=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}c!==0&&Su(e),Hr.call(xd,s)?xd[s](e,s,n):Vo(e,'unknown document directive "'+s+'"')}if($e(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,$e(e,!0,-1)):i&&oe(e,"directives end mark is expected"),fn(e,e.lineIndent-1,Wo,!1,!0),$e(e,!0,-1),e.checkLineBreaks&&Qw.test(e.input.slice(t,e.position))&&Vo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ba(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,$e(e,!0,-1));return}if(e.position<e.length-1)oe(e,"end of the stream or a document separator is expected");else return}function O0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new nS(e,t),s=e.indexOf("\0");for(s!==-1&&(r.position=s,oe(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)pS(r);return r.documents}function gS(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var s=O0(e,r);if(typeof t!="function")return s;for(var n=0,i=s.length;n<i;n+=1)t(s[n])}function mS(e,t){var r=O0(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ut("expected a single document in the stream, but found more")}}var vS=gS,_S=mS,P0={loadAll:vS,load:_S},M0=Object.prototype.toString,I0=Object.prototype.hasOwnProperty,Eu=65279,yS=9,pi=10,xS=13,bS=32,wS=33,SS=34,hc=35,CS=37,ES=38,kS=39,jS=42,B0=44,NS=45,Ko=58,LS=61,RS=62,AS=63,TS=64,D0=91,$0=93,OS=96,F0=123,PS=124,H0=125,ot={};ot[0]="\\0";ot[7]="\\a";ot[8]="\\b";ot[9]="\\t";ot[10]="\\n";ot[11]="\\v";ot[12]="\\f";ot[13]="\\r";ot[27]="\\e";ot[34]='\\"';ot[92]="\\\\";ot[133]="\\N";ot[160]="\\_";ot[8232]="\\L";ot[8233]="\\P";var MS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],IS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function BS(e,t){var r,s,n,i,c,o,l;if(t===null)return{};for(r={},s=Object.keys(t),n=0,i=s.length;n<i;n+=1)c=s[n],o=String(t[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),l=e.compiledTypeMap.fallback[c],l&&I0.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[c]=o;return r}function DS(e){var t,r,s;if(t=e.toString(16).toUpperCase(),e<=255)r="x",s=2;else if(e<=65535)r="u",s=4;else if(e<=4294967295)r="U",s=8;else throw new ut("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ze.repeat("0",s-t.length)+t}var $S=1,gi=2;function FS(e){this.schema=e.schema||wu,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ze.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=BS(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?gi:$S,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Sd(e,t){for(var r=ze.repeat(" ",t),s=0,n=-1,i="",c,o=e.length;s<o;)n=e.indexOf(`
`,s),n===-1?(c=e.slice(s),s=o):(c=e.slice(s,n+1),s=n+1),c.length&&c!==`
`&&(i+=r),i+=c;return i}function dc(e,t){return`
`+ze.repeat(" ",e.indent*t)}function HS(e,t){var r,s,n;for(r=0,s=e.implicitTypes.length;r<s;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function qo(e){return e===bS||e===yS}function mi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Eu||65536<=e&&e<=1114111}function Cd(e){return mi(e)&&e!==Eu&&e!==xS&&e!==pi}function Ed(e,t,r){var s=Cd(e),n=s&&!qo(e);return(r?s:s&&e!==B0&&e!==D0&&e!==$0&&e!==F0&&e!==H0)&&e!==hc&&!(t===Ko&&!n)||Cd(t)&&!qo(t)&&e===hc||t===Ko&&n}function US(e){return mi(e)&&e!==Eu&&!qo(e)&&e!==NS&&e!==AS&&e!==Ko&&e!==B0&&e!==D0&&e!==$0&&e!==F0&&e!==H0&&e!==hc&&e!==ES&&e!==jS&&e!==wS&&e!==PS&&e!==LS&&e!==RS&&e!==kS&&e!==SS&&e!==CS&&e!==TS&&e!==OS}function zS(e){return!qo(e)&&e!==Ko}function In(e,t){var r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&t+1<e.length&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function U0(e){var t=/^\n* /;return t.test(e)}var z0=1,fc=2,W0=3,V0=4,Ms=5;function WS(e,t,r,s,n,i,c,o){var l,h=0,m=null,f=!1,v=!1,x=s!==-1,b=-1,_=US(In(e,0))&&zS(In(e,e.length-1));if(t||c)for(l=0;l<e.length;h>=65536?l+=2:l++){if(h=In(e,l),!mi(h))return Ms;_=_&&Ed(h,m,o),m=h}else{for(l=0;l<e.length;h>=65536?l+=2:l++){if(h=In(e,l),h===pi)f=!0,x&&(v=v||l-b-1>s&&e[b+1]!==" ",b=l);else if(!mi(h))return Ms;_=_&&Ed(h,m,o),m=h}v=v||x&&l-b-1>s&&e[b+1]!==" "}return!f&&!v?_&&!c&&!n(e)?z0:i===gi?Ms:fc:r>9&&U0(e)?Ms:c?i===gi?Ms:fc:v?V0:W0}function VS(e,t,r,s,n){e.dump=function(){if(t.length===0)return e.quotingType===gi?'""':"''";if(!e.noCompatMode&&(MS.indexOf(t)!==-1||IS.test(t)))return e.quotingType===gi?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),c=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),o=s||e.flowLevel>-1&&r>=e.flowLevel;function l(h){return HS(e,h)}switch(WS(t,o,e.indent,c,l,e.quotingType,e.forceQuotes&&!s,n)){case z0:return t;case fc:return"'"+t.replace(/'/g,"''")+"'";case W0:return"|"+kd(t,e.indent)+jd(Sd(t,i));case V0:return">"+kd(t,e.indent)+jd(Sd(KS(t,c),i));case Ms:return'"'+qS(t)+'"';default:throw new ut("impossible error: invalid scalar style")}}()}function kd(e,t){var r=U0(e)?String(t):"",s=e[e.length-1]===`
`,n=s&&(e[e.length-2]===`
`||e===`
`),i=n?"+":s?"":"-";return r+i+`
`}function jd(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function KS(e,t){for(var r=/(\n+)([^\n]*)/g,s=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,Nd(e.slice(0,h),t)}(),n=e[0]===`
`||e[0]===" ",i,c;c=r.exec(e);){var o=c[1],l=c[2];i=l[0]===" ",s+=o+(!n&&!i&&l!==""?`
`:"")+Nd(l,t),n=i}return s}function Nd(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,s,n=0,i,c=0,o=0,l="";s=r.exec(e);)o=s.index,o-n>t&&(i=c>n?c:o,l+=`
`+e.slice(n,i),n=i+1),c=o;return l+=`
`,e.length-n>t&&c>n?l+=e.slice(n,c)+`
`+e.slice(c+1):l+=e.slice(n),l.slice(1)}function qS(e){for(var t="",r=0,s,n=0;n<e.length;r>=65536?n+=2:n++)r=In(e,n),s=ot[r],!s&&mi(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=s||DS(r);return t}function GS(e,t,r){var s="",n=e.tag,i,c,o;for(i=0,c=r.length;i<c;i+=1)o=r[i],e.replacer&&(o=e.replacer.call(r,String(i),o)),(yr(e,t,o,!1,!1)||typeof o>"u"&&yr(e,t,null,!1,!1))&&(s!==""&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=n,e.dump="["+s+"]"}function Ld(e,t,r,s){var n="",i=e.tag,c,o,l;for(c=0,o=r.length;c<o;c+=1)l=r[c],e.replacer&&(l=e.replacer.call(r,String(c),l)),(yr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&yr(e,t+1,null,!0,!0,!1,!0))&&((!s||n!=="")&&(n+=dc(e,t)),e.dump&&pi===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=i,e.dump=n||"[]"}function YS(e,t,r){var s="",n=e.tag,i=Object.keys(r),c,o,l,h,m;for(c=0,o=i.length;c<o;c+=1)m="",s!==""&&(m+=", "),e.condenseFlow&&(m+='"'),l=i[c],h=r[l],e.replacer&&(h=e.replacer.call(r,l,h)),yr(e,t,l,!1,!1)&&(e.dump.length>1024&&(m+="? "),m+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),yr(e,t,h,!1,!1)&&(m+=e.dump,s+=m));e.tag=n,e.dump="{"+s+"}"}function JS(e,t,r,s){var n="",i=e.tag,c=Object.keys(r),o,l,h,m,f,v;if(e.sortKeys===!0)c.sort();else if(typeof e.sortKeys=="function")c.sort(e.sortKeys);else if(e.sortKeys)throw new ut("sortKeys must be a boolean or a function");for(o=0,l=c.length;o<l;o+=1)v="",(!s||n!=="")&&(v+=dc(e,t)),h=c[o],m=r[h],e.replacer&&(m=e.replacer.call(r,h,m)),yr(e,t+1,h,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&pi===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,f&&(v+=dc(e,t)),yr(e,t+1,m,!0,f)&&(e.dump&&pi===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,n+=v));e.tag=i,e.dump=n||"{}"}function Rd(e,t,r){var s,n,i,c,o,l;for(n=r?e.explicitTypes:e.implicitTypes,i=0,c=n.length;i<c;i+=1)if(o=n[i],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,M0.call(o.represent)==="[object Function]")s=o.represent(t,l);else if(I0.call(o.represent,l))s=o.represent[l](t,l);else throw new ut("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=s}return!0}return!1}function yr(e,t,r,s,n,i,c){e.tag=null,e.dump=r,Rd(e,r,!1)||Rd(e,r,!0);var o=M0.call(e.dump),l=s,h;s&&(s=e.flowLevel<0||e.flowLevel>t);var m=o==="[object Object]"||o==="[object Array]",f,v;if(m&&(f=e.duplicates.indexOf(r),v=f!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&t>0)&&(n=!1),v&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(m&&v&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),o==="[object Object]")s&&Object.keys(e.dump).length!==0?(JS(e,t,e.dump,n),v&&(e.dump="&ref_"+f+e.dump)):(YS(e,t,e.dump),v&&(e.dump="&ref_"+f+" "+e.dump));else if(o==="[object Array]")s&&e.dump.length!==0?(e.noArrayIndent&&!c&&t>0?Ld(e,t-1,e.dump,n):Ld(e,t,e.dump,n),v&&(e.dump="&ref_"+f+e.dump)):(GS(e,t,e.dump),v&&(e.dump="&ref_"+f+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&VS(e,e.dump,t,i,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ut("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function XS(e,t){var r=[],s=[],n,i;for(pc(e,r,s),n=0,i=s.length;n<i;n+=1)t.duplicates.push(r[s[n]]);t.usedDuplicates=new Array(i)}function pc(e,t,r){var s,n,i;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,i=e.length;n<i;n+=1)pc(e[n],t,r);else for(s=Object.keys(e),n=0,i=s.length;n<i;n+=1)pc(e[s[n]],t,r)}function QS(e,t){t=t||{};var r=new FS(t);r.noRefs||XS(e,r);var s=e;return r.replacer&&(s=r.replacer.call({"":s},"",s)),yr(r,0,s,!0,!0)?r.dump+`
`:""}var ZS=QS,eC={dump:ZS};function ku(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var tC=Qe,rC=o0,sC=u0,nC=g0,iC=m0,oC=wu,aC=P0.load,lC=P0.loadAll,cC=eC.dump,uC=ut,hC={binary:b0,float:p0,map:c0,null:h0,pairs:S0,set:C0,timestamp:y0,bool:d0,int:f0,merge:x0,omap:w0,seq:l0,str:a0},dC=ku("safeLoad","load"),fC=ku("safeLoadAll","loadAll"),pC=ku("safeDump","dump"),gc={Type:tC,Schema:rC,FAILSAFE_SCHEMA:sC,JSON_SCHEMA:nC,CORE_SCHEMA:iC,DEFAULT_SCHEMA:oC,load:aC,loadAll:lC,dump:cC,YAMLException:uC,types:hC,safeLoad:dC,safeLoadAll:fC,safeDump:pC};function wa({value:e,onChange:t,error:r,isDark:s,placeholder:n,rows:i=16}){const c=M.useRef(null),[o,l]=M.useState(1);M.useEffect(()=>{const x=e.split(`
`).length;l(x)},[e]);const h=!!r,m=e&&e.trim()!==""&&!h,f=r==null?void 0:r.line,v=i*24+16;return a.jsx("div",{className:"relative",children:a.jsx("div",{className:`relative rounded-lg border transition-colors ${m?"border-2 border-green-500":s?"border-white/10":"border-gray-300"}`,style:{height:`${v}px`},children:a.jsxs("div",{ref:c,className:"w-full h-full overflow-auto",style:{display:"grid",gridTemplateColumns:"60px 1fr",fontFamily:"monospace",fontSize:"14px",lineHeight:"24px"},children:[a.jsx("div",{className:`sticky left-0 ${s?"bg-white/5 text-gray-500":"bg-gray-50 text-gray-400"}`,style:{padding:"8px",borderRight:s?"1px solid rgba(255,255,255,0.1)":"1px solid #e5e7eb"},children:Array.from({length:o},(x,b)=>a.jsxs("div",{className:"text-right pr-2",style:{height:"24px",lineHeight:"24px"},children:[f===b+1&&a.jsx(un,{className:"inline-block w-3.5 h-3.5 text-red-500 mr-1",style:{verticalAlign:"middle"}}),a.jsx("span",{children:b+1})]},b+1))}),a.jsx("div",{className:"relative",style:{minHeight:"100%"},children:a.jsx("textarea",{value:e,onChange:t,placeholder:n,className:`w-full resize-none focus:outline-none bg-transparent ${s?"text-white placeholder-gray-500":"text-gray-900 placeholder-gray-400"}`,style:{fontFamily:"monospace",fontSize:"14px",lineHeight:"24px",padding:"8px",border:"none",overflow:"hidden",minHeight:"100%",height:`${o*24+16}px`}})})]})})})}const go=e=>{if(!e||e.trim()==="")return null;const t=e.split(`
`);for(let r=0;r<t.length;r++){const s=t[r],n=s.trim();if(n.startsWith("#")||n==="")continue;const i=s.indexOf(":");if(i>0){const c=s.substring(0,i);if(/[\u4e00-\u9fa5]/.test(c))return{message:"",line:r+1}}}for(let r=0;r<t.length;r++)if(t[r].includes("	"))return{message:"YAMLTab",line:r+1};for(let r=0;r<t.length;r++){const s=t[r],n=s.trim();if(!(n.startsWith("#")||n==="")&&s.includes(""))return{message:'""":"',line:r+1}}try{const r=gc.load(e);if(!r||typeof r!="object")return{message:"YAML",line:1};if(!r.services)return{message:' "services" ',line:1};if(r.services){for(const[s,n]of Object.entries(r.services))if(n.ports&&!Array.isArray(n.ports))return{message:` "${s}"  ports `,line:1}}return null}catch(r){return{message:r.message,line:r.mark?r.mark.line+1:1}}};function gC({isDark:e,stackName:t,initialContent:r="",onSave:s,onClose:n}){const[i,c]=M.useState(r),[o,l]=M.useState(""),[h,m]=M.useState(null),[f,v]=M.useState(!1);M.useEffect(()=>{m(go(i))},[i]);const x=async()=>{if(!(h||!i.trim())){v(!0);try{const b=gc.load(i);let _=!1;b&&b.services&&Object.keys(b.services).forEach(p=>{const d=b.services[p];if(d.labels&&Array.isArray(d.labels)){console.log(`Fixing labels for service ${p}`);const g={};d.labels.forEach(y=>{if(typeof y=="string"){const S=y.split("="),E=S[0],k=S.slice(1).join("=");E&&(g[E]=k||"")}}),d.labels=g,_=!0}});const u=_?gc.dump(b):i;await s(u,o)}catch(b){console.error("Failed to process compose content:",b),await s(i,o)}finally{v(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col border shadow-2xl`,children:[a.jsx("div",{className:`p-6 border-b flex-shrink-0 ${e?"border-white/10":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:r?"":""}),a.jsxs("p",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-600"}`,children:[r?"":""," ",a.jsx("span",{className:`font-semibold ${e?"text-cyan-400":"text-cyan-600"}`,children:t})," ",r?"":""," docker-compose.yml "]})]}),a.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-all ${e?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:a.jsx(qr,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:" ()"}),a.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"...",className:`w-full px-4 py-2 rounded-lg ${e?"glass text-white":"bg-gray-50 border border-gray-200 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-cyan-500`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"docker-compose.yml  *"}),a.jsx(wa,{value:i,onChange:b=>c(b.target.value),error:h,isDark:e,placeholder:`version: '3.8'
services: 
  web: 
    image: nginx:latest
    ports: 
      - "80:80"`,rows:16})]}),h&&a.jsxs("div",{className:`flex items-start gap-2 p-3 rounded-lg ${e?"bg-red-500/10 border border-red-500/20":"bg-red-50 border border-red-200"}`,children:[a.jsx(un,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${e?"text-red-400":"text-red-800"}`,children:""}),a.jsx("p",{className:`text-sm mt-1 ${e?"text-red-300":"text-red-600"}`,children:h.message})]})]})]}),a.jsxs("div",{className:`p-6 border-t flex justify-end gap-3 flex-shrink-0 ${e?"border-white/10":"border-gray-200"}`,children:[a.jsx("button",{onClick:n,className:`px-4 py-2 rounded-lg font-medium transition-all ${e?"hover:bg-white/10 text-gray-400":"hover:bg-gray-100 border border-gray-200 text-gray-700"}`,children:""}),a.jsx("button",{onClick:x,disabled:!!h||!i.trim()||f,className:"px-6 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 transition-all font-medium shadow-lg shadow-cyan-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"w-4 h-4"}),""]})})]})]})})}function mC(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),{refreshEndpoints:i,currentEndpoint:c,endpoints:o}=Jr(),[l,h]=M.useState(()=>localStorage.getItem("dma_stacks_active_tab")||"stacks"),[m,f]=M.useState([]),[v,x]=M.useState([]),[b,_]=M.useState(!1),u=M.useMemo(()=>{const ie=o.find(pe=>pe.id===c);return(ie==null?void 0:ie.type)==="local"},[o,c]),[p,d]=M.useState(!1),[g,y]=M.useState(!1),[S,E]=M.useState(!1),[k,w]=M.useState(!1),[C,N]=M.useState(!1),[O,R]=M.useState(!1),[P,D]=M.useState(""),[B,F]=M.useState(!1),[U,j]=M.useState(null),[A,T]=M.useState(null),[I,z]=M.useState(""),[Y,X]=M.useState({show:!1,stackName:"",isNew:!1,pull:!1}),[Z,ge]=M.useState({show:!1,stackName:""}),[L,$]=M.useState({show:!1,stackName:""}),[V,W]=M.useState(""),[le,ee]=M.useState(""),[_e,Re]=M.useState(""),[q,re]=M.useState(""),[te,ue]=M.useState(""),[K,Q]=M.useState(""),[J,ae]=M.useState(""),[me,Ee]=M.useState(""),[ye,xe]=M.useState(""),Me=ie=>{ge({show:!0,stackName:ie})},He=ie=>{const pe=Z.stackName;ge({show:!1,stackName:""}),D(pe),F(!1),X({show:!0,stackName:pe,isNew:!1,pull:ie}),N(!0)},[pt,Ve]=M.useState(null),[Ge,Ce]=M.useState(null),[Ye,Rs]=M.useState(null);M.useEffect(()=>{localStorage.setItem("dma_stacks_active_tab",l)},[l]),M.useEffect(()=>{i()},[]),M.useEffect(()=>{f([]),x([]),et(),nr()},[c]),M.useEffect(()=>{Ve(go(le))},[le]),M.useEffect(()=>{Ce(go(K))},[K]),M.useEffect(()=>{Rs(go(ye))},[ye]);const et=async()=>{_(!0);try{const ie=await se.get("/api/stacks");f(ie.data)}catch(ie){console.error("Failed to fetch stacks:",ie)}finally{_(!1)}},nr=async()=>{try{const ie=await se.get("/api/stacks/templates");x(ie.data)}catch(ie){console.error("Failed to fetch templates:",ie)}},Ri=async()=>{var ie,pe;if(!V||!le){alert(" Compose ");return}try{const de=await se.post("/api/stacks",{name:V,composeContent:le,description:_e});if(de.data.error){alert(": "+de.data.error);return}d(!1),D(V),F(!0),N(!0),W(""),ee(""),Re(""),et(),nr()}catch(de){alert(": "+(((pe=(ie=de.response)==null?void 0:ie.data)==null?void 0:pe.error)||de.message))}},Ai=async()=>{var ie,pe;if(!q||!K){alert(" Compose ");return}try{const de=await se.post("/api/stacks/templates",{name:q,title:q,description:te,category:"Custom",composeContent:K});y(!1),re(""),ue(""),Q(""),await nr()}catch(de){alert(": "+(((pe=(ie=de.response)==null?void 0:ie.data)==null?void 0:pe.error)||de.message))}},G0=async ie=>{var pe,de;if(!ie){alert("");return}try{await se.post(`/api/stacks/templates/${U.name}/deploy`,{stackName:ie,skipDeploy:!0}),w(!1),D(ie),F(!0),N(!0),j(null),h("stacks"),et()}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},Y0=async ie=>{try{const de=(await se.get(`/api/stacks/${ie}`)).data;de.composeContent?(re(ie+"-template"),ue(`Created from stack ${ie}`),Q(de.composeContent),y(!0)):alert(" Compose  ()")}catch(pe){alert(": "+pe.message)}},J0=async ie=>{var pe,de;try{await se.post(`/api/stacks/${ie}/start`),et()}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},X0=async ie=>{var pe,de;try{await se.post(`/api/stacks/${ie}/stop`),et()}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},Q0=async ie=>{var pe,de;try{await se.post(`/api/stacks/${ie}/restart`),et()}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},Z0=ie=>{$({show:!0,stackName:ie})},em=async ie=>{var de,we;const pe=L.stackName;try{await se.delete(`/api/stacks/${pe}`,{params:{removeImages:ie}}),$({show:!1,stackName:""}),et()}catch(bn){alert(": "+(((we=(de=bn.response)==null?void 0:de.data)==null?void 0:we.error)||bn.message))}},tm=async ie=>{var pe,de;if(confirm(` "${ie}" `))try{await se.delete(`/api/stacks/templates/${ie}`),nr()}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},rm=async ie=>{var pe,de;try{const we=await se.get(`/api/stacks/templates/${ie.name}`);T(we.data),ae(we.data.name),Ee(we.data.description||""),xe(we.data.composeContent||""),E(!0)}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},sm=async()=>{var ie,pe;if(!J||!ye){alert(" Compose ");return}try{await se.put(`/api/stacks/templates/${A.name}`,{title:J,description:me,composeContent:ye}),E(!1),T(null),ae(""),Ee(""),xe(""),await nr()}catch(de){alert(": "+(((pe=(ie=de.response)==null?void 0:ie.data)==null?void 0:pe.error)||de.message))}},[nm,Ca]=M.useState(""),im=ie=>{Ca(""),z(ie),R(!0)},om=async ie=>{var pe,de;try{const we=await se.get(`/api/stacks/${ie}/compose`);Ca(we.data.content),z(ie),R(!0)}catch(we){alert(": "+(((de=(pe=we.response)==null?void 0:pe.data)==null?void 0:de.error)||we.message))}},am=async(ie,pe)=>{var de,we;try{await se.post(`/api/stacks/${I}/import-config`,{composeContent:ie,description:pe}),R(!1),z(""),await et()}catch(bn){alert(": "+(((we=(de=bn.response)==null?void 0:de.data)==null?void 0:we.error)||bn.message))}},lm=()=>{localStorage.removeItem("dma_token"),r("/login")},cm=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},be=s==="dark",um=ie=>{switch(ie){case"running":return"bg-green-500";case"stopped":return"bg-gray-500";case"partial":return"bg-yellow-500";default:return"bg-red-500"}},hm=ie=>{switch(ie){case"running":return"";case"stopped":return"";case"partial":return"";default:return""}};return a.jsxs("div",{className:be?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${be?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${be?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${be?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${be?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(rs,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:be}),a.jsx(rs,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:be}),a.jsx(rs,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),active:!0,isDark:be}),a.jsx(rs,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:be}),a.jsx(rs,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:be}),a.jsx(rs,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:be}),a.jsx(rs,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),onClick:()=>r("/endpoints"),isDark:be})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:be,popupDirection:"up"}),a.jsxs("button",{onClick:lm,className:`w-full ${be?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${be?"text-white":"text-gray-900"}`,children:e("nav.stacks")}),a.jsx("p",{className:`mt-1 text-sm ${be?"text-gray-400":"text-gray-600"}`,children:l==="stacks"?` ${m.length} `:` ${v.length} `})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>l==="stacks"?d(!0):y(!0),disabled:l==="templates"&&!u,className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${l==="templates"&&!u?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-60":be?"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,title:l==="templates"&&!u?"":l==="stacks"?"":"",children:[a.jsx(lr,{className:"w-5 h-5"}),a.jsx("span",{children:l==="stacks"?"":""})]}),a.jsx("button",{onClick:cm,className:`${be?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${be?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:be?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>h("stacks"),className:`px-6 py-3 rounded-lg font-medium transition-all ${l==="stacks"?be?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-cyan-50 text-cyan-600 border border-cyan-200":be?"text-gray-400 hover:bg-white/5 border border-transparent":"text-gray-600 hover:bg-gray-100 border border-transparent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5"}),a.jsx("span",{children:""})]})}),a.jsx("button",{onClick:()=>h("templates"),className:`px-6 py-3 rounded-lg font-medium transition-all ${l==="templates"?be?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-cyan-50 text-cyan-600 border border-cyan-200":be?"text-gray-400 hover:bg-white/5 border border-transparent":"text-gray-600 hover:bg-gray-100 border border-transparent"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-5 h-5"}),a.jsx("span",{children:""})]})})]}),l==="stacks"?a.jsx(vC,{stacks:m,loading:b,isDark:be,onStart:J0,onStop:X0,onRestart:Q0,onRebuild:Me,onDelete:Z0,onAddConfig:im,onEditConfig:om,getStatusColor:um,getStatusText:hm,onSaveAsTemplate:Y0}):a.jsx(yC,{templates:v,isDark:be,onDeploy:ie=>{j(ie),w(!0)},onEdit:rm,onDelete:tm})]}),p&&a.jsx(bC,{isDark:be,newStackName:V,setNewStackName:W,newStackDescription:_e,setNewStackDescription:Re,newStackContent:le,setNewStackContent:ee,composeError:pt,onCreate:Ri,onClose:()=>d(!1)}),g&&a.jsx(wC,{isDark:be,newTemplateName:q,setNewTemplateName:re,newTemplateDescription:te,setNewTemplateDescription:ue,newTemplateContent:K,setNewTemplateContent:Q,composeError:Ge,onCreate:Ai,onClose:()=>y(!1)}),S&&a.jsx(SC,{isDark:be,editTemplateName:J,setEditTemplateName:ae,editTemplateDescription:me,setEditTemplateDescription:Ee,editTemplateContent:ye,setEditTemplateContent:xe,composeError:Ye,onSave:sm,onClose:()=>E(!1)}),k&&U&&a.jsx(CC,{isDark:be,template:U,onDeploy:G0,onClose:()=>w(!1)}),C&&a.jsx(Yb,{isOpen:C,onClose:()=>N(!1),stackName:P,isNewStack:B,pull:Y.pull,onDeploySuccess:()=>{et(),h("stacks")}}),O&&a.jsx(gC,{isDark:be,stackName:I,initialContent:nm,onSave:am,onClose:()=>{R(!1),z(""),Ca("")}}),Z.show&&a.jsx(EC,{isDark:be,stackName:Z.stackName,onClose:()=>ge({show:!1,stackName:""}),onConfirm:He}),L.show&&a.jsx(kC,{isDark:be,stackName:L.stackName,onClose:()=>$({show:!1,stackName:""}),onConfirm:em})]})}function vC({stacks:e,loading:t,isDark:r,onStart:s,onStop:n,onRestart:i,onRebuild:c,onDelete:o,onAddConfig:l,onEditConfig:h,getStatusColor:m,getStatusText:f,onSaveAsTemplate:v}){return t?a.jsx("div",{className:`text-center py-12 ${r?"text-gray-400":"text-gray-600"}`,children:"..."}):e.length===0?a.jsxs("div",{className:`${r?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-12 border text-center`,children:[a.jsx(Wt,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),a.jsx("h3",{className:`text-lg font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:""}),a.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:'""""'})]}):a.jsx("div",{className:"space-y-4",children:e.map(x=>a.jsx(_C,{stack:x,isDark:r,onStart:s,onStop:n,onRestart:i,onRebuild:c,onDelete:o,onAddConfig:l,onEditConfig:h,getStatusColor:m,getStatusText:f,onSaveAsTemplate:v},x.name))})}function _C({stack:e,isDark:t,onStart:r,onStop:s,onRestart:n,onRebuild:i,onDelete:c,onAddConfig:o,onEditConfig:l,getStatusColor:h,getStatusText:m,onSaveAsTemplate:f}){const v=e.managed===!1;return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-4 border transition-all hover:shadow-md ${v?"border-l-4 border-l-orange-500":""}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${t?"bg-cyan-500/20":"bg-cyan-50"} flex items-center justify-center`,children:a.jsx(Wt,{className:`w-6 h-6 ${t?"text-cyan-400":"text-cyan-600"}`})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full ${h(e.status)} border-2 ${t?"border-gray-900":"border-white"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:e.name}),v&&a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t?"bg-orange-500/20 text-orange-400":"bg-orange-100 text-orange-800"}`,children:""}),a.jsx("div",{className:"flex items-center gap-1.5",children:a.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:m(e.status)})})]}),a.jsxs("div",{className:`flex items-center gap-3 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[a.jsxs("span",{children:[": ",e.services]}),e.serviceNames&&e.serviceNames.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.serviceNames.slice(0,3).map((x,b)=>a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${t?"bg-white/5 text-gray-400":"bg-gray-100 text-gray-600"}`,children:x},b)),e.serviceNames.length>3&&a.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",e.serviceNames.length-3]})]})]}),(e.path||e.workingDir)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsx("span",{className:"truncate max-w-md text-xs font-mono opacity-70",title:e.path||e.workingDir,children:e.path||e.workingDir})]})]})]}),a.jsx("div",{className:"flex gap-2 flex-shrink-0",children:v?a.jsx("button",{onClick:()=>o(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-cyan-500/10 text-cyan-400 hover:text-cyan-300":"hover:bg-cyan-50 text-cyan-600 hover:text-cyan-700"}`,title:"",children:a.jsx(nx,{className:"w-5 h-5"})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>l(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-cyan-500/10 text-cyan-400 hover:text-cyan-300":"hover:bg-cyan-50 text-cyan-600 hover:text-cyan-700"}`,title:"",children:a.jsx(_n,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>i(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-purple-500/10 text-purple-400 hover:text-purple-300":"hover:bg-purple-50 text-purple-600 hover:text-purple-700"}`,title:"",children:a.jsx(xg,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>r(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-green-500/10 text-green-400 hover:text-green-300":"hover:bg-green-50 text-green-600 hover:text-green-700"}`,title:"",children:a.jsx(Ei,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>s(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-yellow-500/10 text-yellow-400 hover:text-yellow-300":"hover:bg-yellow-50 text-yellow-600 hover:text-yellow-700"}`,title:"",children:a.jsx(mu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>n(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-blue-500/10 text-blue-400 hover:text-blue-300":"hover:bg-blue-50 text-blue-600 hover:text-blue-700"}`,title:"",children:a.jsx(gu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>c(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-red-500/10 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"}`,title:"",children:a.jsx(ct,{className:"w-5 h-5"})})]})})]})})}function yC({templates:e,isDark:t,onDeploy:r,onEdit:s,onDelete:n}){return e.length===0?a.jsxs("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-12 border text-center`,children:[a.jsx(_n,{className:`w-16 h-16 mx-auto mb-4 ${t?"text-gray-600":"text-gray-400"}`}),a.jsx("h3",{className:`text-lg font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:""}),a.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:'"" Compose '})]}):a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsx(xC,{template:i,isDark:t,onDeploy:r,onEdit:s,onDelete:n},i.name))})}function xC({template:e,isDark:t,onDeploy:r,onEdit:s,onDelete:n}){return a.jsx("div",{className:`${t?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl p-4 border transition-all hover:shadow-md`,children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`w-12 h-12 rounded-xl ${t?"bg-purple-500/20":"bg-purple-50"} flex items-center justify-center`,children:a.jsx(_n,{className:`w-6 h-6 ${t?"text-purple-400":"text-purple-600"}`})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:e.title||e.name}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t?"bg-purple-500/20 text-purple-400":"bg-purple-100 text-purple-800"}`,children:e.category})]}),a.jsxs("div",{className:`flex items-center gap-3 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:[a.jsx("span",{className:"truncate",children:e.description||""}),e.tags&&e.tags.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((i,c)=>a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${t?"bg-white/5 text-gray-400":"bg-gray-100 text-gray-600"}`,children:i},c))})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsx("button",{onClick:()=>r(e),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-cyan-500/10 text-cyan-400 hover:text-cyan-300":"hover:bg-cyan-50 text-cyan-600 hover:text-cyan-700"}`,title:"",children:a.jsx(Ei,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>s(e),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-blue-500/10 text-blue-400 hover:text-blue-300":"hover:bg-blue-50 text-blue-600 hover:text-blue-700"}`,title:"",children:a.jsx(bg,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>n(e.name),className:`p-2.5 rounded-lg transition-colors ${t?"hover:bg-red-500/10 text-red-400 hover:text-red-300":"hover:bg-red-50 text-red-600 hover:text-red-700"}`,title:"",children:a.jsx(ct,{className:"w-5 h-5"})})]})]})})}function bC({isDark:e,newStackName:t,setNewStackName:r,newStackDescription:s,setNewStackDescription:n,newStackContent:i,setNewStackContent:c,composeError:o,onCreate:l,onClose:h}){const m=o!=null;return i&&i.trim(),a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl p-6 max-h-[90vh] overflow-y-auto`,children:[a.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:" *"}),a.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),placeholder:"my-stack",className:`w-full px-4 py-2 rounded-lg border ${e?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:s,onChange:f=>n(f.target.value),placeholder:"",className:`w-full px-4 py-2 rounded-lg border ${e?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Docker Compose (YAML) *"}),a.jsx(wa,{value:i,onChange:f=>c(f.target.value),error:o,isDark:e,placeholder:`version: '3.8'
services: 
  web: 
    image: nginx:latest
    ports: 
      - "80:80"`,rows:16})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:h,className:`px-4 py-2 rounded-lg ${e?"text-gray-300 hover:bg-white/10":"text-gray-600 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:l,disabled:!t||!i||m,className:`px-4 py-2 rounded-lg transition-all ${!t||!i||m?"bg-gray-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600"}`,children:""})]})]})})}function wC({isDark:e,newTemplateName:t,setNewTemplateName:r,newTemplateDescription:s,setNewTemplateDescription:n,newTemplateContent:i,setNewTemplateContent:c,composeError:o,onCreate:l,onClose:h}){const m=!!o;return i&&i.trim(),a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl p-6 max-h-[90vh] overflow-y-auto`,children:[a.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:" *"}),a.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),placeholder:"my-template",className:`w-full px-4 py-2 rounded-lg border ${e?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("textarea",{value:s,onChange:f=>n(f.target.value),rows:3,placeholder:"",className:`w-full px-4 py-2 rounded-lg border ${e?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Docker Compose (YAML) *"}),a.jsx(wa,{value:i,onChange:f=>c(f.target.value),error:o,isDark:e,placeholder:`version: '3.8'
services: 
  app: 
    image: nginx:latest`,rows:16})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:h,className:`px-4 py-2 rounded-lg ${e?"text-gray-300 hover:bg-white/10":"text-gray-600 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:l,disabled:!t||!i||m,className:`px-4 py-2 rounded-lg transition-all ${!t||!i||m?"bg-gray-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600"}`,children:""})]})]})})}function SC({isDark:e,editTemplateName:t,setEditTemplateName:r,editTemplateDescription:s,setEditTemplateDescription:n,editTemplateContent:i,setEditTemplateContent:c,composeError:o,onSave:l,onClose:h}){const m=!!o;return i&&i.trim(),a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-4xl border shadow-2xl p-6 max-h-[90vh] overflow-y-auto`,children:[a.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),className:`w-full px-4 py-2 rounded-lg ${e?"bg-white/10 border border-white/20 text-white placeholder-gray-500":"bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-cyan-500 opacity-50 cursor-not-allowed`,placeholder:"",disabled:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:s,onChange:f=>n(f.target.value),className:`w-full px-4 py-2 rounded-lg ${e?"bg-white/10 border border-white/20 text-white placeholder-gray-500":"bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-cyan-500`,placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Docker Compose "}),a.jsx(wa,{value:i,onChange:f=>c(f.target.value),error:o,isDark:e,placeholder:`version: '3'
services:
  web:
    image: nginx:latest
    ports:
      - 80:80`,rows:16})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[a.jsx("button",{onClick:h,className:`px-4 py-2 rounded-lg transition-colors ${e?"glass glass-hover text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:""}),a.jsx("button",{onClick:l,disabled:!i||m,className:`px-4 py-2 rounded-lg transition-all ${!i||m?"bg-gray-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600"}`,children:""})]})]})})}function CC({isDark:e,template:t,onDeploy:r,onClose:s}){const[n,i]=M.useState("");return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-lg border shadow-2xl p-6`,children:[a.jsxs("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:[" ",t.title]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:" *"}),a.jsx("input",{type:"text",value:n,onChange:c=>i(c.target.value),placeholder:"my-new-stack",className:`w-full px-4 py-2 rounded-lg border ${e?"bg-white/5 border-white/10 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),a.jsx("div",{className:`p-4 rounded-lg ${e?"bg-white/5":"bg-gray-50"}`,children:a.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-600"}`,children:[" ",a.jsx("span",{className:"font-medium",children:t.title})," "]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:s,className:`px-4 py-2 rounded-lg ${e?"text-gray-300 hover:bg-white/10":"text-gray-600 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>r(n),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:""})]})]})})}function rs({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}function EC({isDark:e,stackName:t,onClose:r,onConfirm:s}){const[n,i]=M.useState(!1);return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-md border shadow-2xl p-6`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${e?"bg-purple-500/20 text-purple-400":"bg-purple-100 text-purple-600"} flex items-center justify-center`,children:a.jsx(xg,{className:"w-5 h-5"})}),a.jsx("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:""})]}),a.jsxs("p",{className:`mb-6 ${e?"text-gray-300":"text-gray-600"}`,children:[" ",a.jsx("span",{className:"font-bold",children:t})," "]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:n,onChange:c=>i(c.target.checked),className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),a.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-700"}`,children:" (Always pull latest image)"})]}),a.jsx("p",{className:"text-xs mt-1 ml-6 text-gray-500",children:""})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg ${e?"text-gray-300 hover:bg-white/10":"text-gray-600 hover:bg-gray-100"}`,children:""}),a.jsx("button",{onClick:()=>s(n),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600",children:""})]})]})})}function kC({isDark:e,stackName:t,onClose:r,onConfirm:s}){const[n,i]=M.useState(!1);return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${e?"glass border-white/20":"bg-white border-gray-200"} rounded-xl w-full max-w-md border shadow-2xl p-6`,children:[a.jsx("h3",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:""}),a.jsxs("p",{className:`mb-6 ${e?"text-gray-300":"text-gray-600"}`,children:[" ",a.jsx("span",{className:"font-mono font-bold",children:t})," "]}),a.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border mb-6 cursor-pointer ${e?"border-white/10 hover:bg-white/5":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("input",{type:"checkbox",checked:n,onChange:c=>i(c.target.checked),className:"w-5 h-5 rounded border-gray-300 text-red-500 focus:ring-red-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`font-medium ${e?"text-gray-200":"text-gray-700"}`,children:""}),a.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:""})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg font-medium transition-all ${e?"hover:bg-white/10 text-gray-300":"hover:bg-gray-100 text-gray-600"}`,children:""}),a.jsx("button",{onClick:()=>s(n),className:"px-4 py-2 rounded-lg font-medium bg-red-500 text-white hover:bg-red-600 shadow-lg shadow-red-500/20",children:""})]})]})})}function jC(){const{t:e,i18n:t}=br(),r=sr(),{theme:s,toggleTheme:n}=Gr(),[i,c]=M.useState([]),[o,l]=M.useState(null),[h,m]=M.useState(!1),[f,v]=M.useState(!1),[x,b]=M.useState(null),[_,u]=M.useState({name:"",type:"agent",host:"",port:"",secret:""}),{refreshEndpoints:p,currentEndpoint:d}=Jr(),g=async()=>{try{const O=(await se.get("/api/endpoints")).data.map(R=>({...R,status:"checking"}));c(O);try{const P=(await se.get("/api/endpoints/status")).data;c(D=>D.map(B=>{const F=P.find(U=>U.id===B.id);return F?{...B,status:F.status}:B}))}catch(R){console.error("Failed to fetch endpoint statuses:",R)}}catch(N){console.error("Failed to fetch endpoints:",N)}};M.useEffect(()=>{g()},[]);const y=async()=>{var N,O;try{if(!_.name){alert("");return}if(_.type==="agent"&&(!_.host||!_.secret)){alert("Agent");return}let R={..._};R.port||(R.port="9002"),await se.post("/api/endpoints",R),m(!1),u({name:"",type:"agent",host:"",port:"",secret:""}),g(),p()}catch(R){console.error("Failed to add endpoint:",R),alert(": "+(((O=(N=R.response)==null?void 0:N.data)==null?void 0:O.error)||R.message))}},S=async()=>{if(x)try{await se.put(`/api/endpoints/${x.id}`,x),v(!1),b(null),g(),p()}catch(N){console.error("Failed to update endpoint:",N),alert("")}},E=async N=>{if(confirm(` ${N.name} `))try{await se.delete(`/api/endpoints/${N.id}`),g(),p(),l(null)}catch(O){console.error("Failed to remove endpoint:",O),alert("")}},k=()=>{localStorage.removeItem("token"),r("/login")},w=()=>{t.changeLanguage(t.language==="zh"?"en":"zh")},C=s==="dark";return a.jsxs("div",{className:C?"min-h-screen bg-gray-950":"min-h-screen bg-gray-50",children:[a.jsxs("aside",{className:`fixed left-0 top-0 h-full w-72 ${C?"glass border-r border-white/10":"bg-white border-r border-gray-200 shadow-sm"} p-4`,children:[a.jsx("div",{className:"mb-8 pb-5 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0",children:a.jsx("img",{src:"/logo.png",alt:"DMA Logo",className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:`text-base font-bold leading-tight mb-1 ${C?"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent":"text-gray-900"}`,children:"Docker Manager"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:`text-sm leading-tight whitespace-nowrap ${C?"text-gray-400":"text-gray-500"}`,children:""}),a.jsx("span",{className:`text-xs font-mono ${C?"text-gray-500":"text-gray-400"}`,children:Yr})]})]})]})}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(ss,{icon:a.jsx(js,{}),label:e("nav.dashboard"),onClick:()=>r("/"),isDark:C}),a.jsx(ss,{icon:a.jsx(mr,{}),label:e("nav.containers"),onClick:()=>r("/containers"),isDark:C}),a.jsx(ss,{icon:a.jsx(Wt,{}),label:e("nav.stacks"),onClick:()=>r("/stacks"),isDark:C}),a.jsx(ss,{icon:a.jsx(tr,{}),label:e("nav.images"),onClick:()=>r("/images"),isDark:C}),a.jsx(ss,{icon:a.jsx(Pt,{}),label:e("nav.volumes"),onClick:()=>r("/volumes"),isDark:C}),a.jsx(ss,{icon:a.jsx(rr,{}),label:e("nav.networks"),onClick:()=>r("/networks"),isDark:C}),a.jsx(ss,{icon:a.jsx(_r,{}),label:e("nav.endpoints"),active:!0,isDark:C})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-3",children:[a.jsx(Ls,{isDark:C,popupDirection:"up"}),a.jsxs("button",{onClick:k,className:`w-full ${C?"glass glass-hover":"bg-red-50 hover:bg-red-100"} p-3 rounded-lg flex items-center gap-2 text-red-400 transition-colors`,children:[a.jsx(Ns,{className:"w-5 h-5"}),""]})]})]}),a.jsxs("main",{className:"ml-72 p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`text-3xl font-bold ${C?"text-white":"text-gray-900"}`,children:e("nav.endpoints")}),a.jsxs("p",{className:`mt-1 text-sm ${C?"text-gray-400":"text-gray-600"}`,children:[" ",i.length," "]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>m(!0),className:`px-4 py-3 rounded-lg font-medium transition-all flex items-center gap-2 ${C?"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30":"bg-cyan-50 text-cyan-600 hover:bg-cyan-100"}`,children:[a.jsx(lr,{className:"w-5 h-5"}),a.jsx("span",{children:""})]}),a.jsx("button",{onClick:w,className:`${C?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:a.jsx(vr,{className:"w-5 h-5"})}),a.jsx("button",{onClick:n,className:`${C?"glass glass-hover text-white":"bg-white hover:bg-gray-50 border border-gray-200 text-gray-700"} p-3 rounded-lg transition-all`,children:C?a.jsx(Kr,{className:"w-5 h-5"}):a.jsx(Vr,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"space-y-4",children:i.map(N=>a.jsxs("div",{className:`${C?"glass border-white/10":"bg-white border-gray-200 shadow-sm"} rounded-xl border p-4 flex items-center justify-between transition-all hover:shadow-md`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${C?"bg-purple-500/20":"bg-purple-50"} flex items-center justify-center flex-shrink-0`,children:a.jsx(_r,{className:`w-6 h-6 ${C?"text-purple-400":"text-purple-600"}`})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`font-bold text-lg ${C?"text-white":"text-gray-900"}`,children:N.name}),N.id==="local"&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:""}),N.id===(d==null?void 0:d.id)&&a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C?"bg-green-500/20 text-green-400":"bg-green-100 text-green-600"}`,children:""})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(vr,{className:"w-3 h-3"}),N.type==="local"?"Docker":`${N.host}:${N.port}`]}),a.jsx("span",{className:`flex items-center gap-1 ${N.status==="online"?"text-green-500":N.status==="checking"?"text-yellow-500":"text-red-500"}`,children:N.status==="online"?a.jsxs(a.Fragment,{children:[a.jsx(ps,{className:"w-3 h-3"}),""]}):N.status==="checking"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-yellow-500 border-t-transparent animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gx,{className:"w-3 h-3"}),""]})})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{b(N),v(!0)},className:`p-2 rounded-lg transition-colors ${C?"hover:bg-white/10 text-gray-400 hover:text-white":"hover:bg-gray-100 text-gray-500 hover:text-gray-900"}`,children:a.jsx(fx,{className:"w-4 h-4"})}),N.id!=="local"&&a.jsx("button",{onClick:()=>E(N),className:`p-2 rounded-lg transition-colors ${C?"hover:bg-red-500/20 text-gray-400 hover:text-red-400":"hover:bg-red-50 text-gray-500 hover:text-red-600"}`,children:a.jsx(ct,{className:"w-4 h-4"})})]})]},N.id))})]}),h&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:a.jsxs("div",{className:`w-full max-w-md rounded-2xl p-6 ${C?"glass border border-white/10":"bg-white shadow-xl"}`,children:[a.jsx("h2",{className:`text-xl font-bold mb-6 ${C?"text-white":"text-gray-900"}`,children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:_.name,onChange:N=>u({..._,name:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`,placeholder:": Production Server"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:" (Host)"}),a.jsx("input",{type:"text",value:_.host,onChange:N=>u({..._,host:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`,placeholder:"192.168.1.100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:_.port,onChange:N=>u({..._,port:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`,placeholder:"9002"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:"Secret Key"}),a.jsx("input",{type:"password",value:_.secret,onChange:N=>u({..._,secret:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`,placeholder:"Agent  DMA_SECRET"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>m(!1),className:`flex-1 px-4 py-2 rounded-lg ${C?"bg-white/10 hover:bg-white/20 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:""}),a.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:""})]})]})}),f&&x&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:a.jsxs("div",{className:`w-full max-w-md rounded-2xl p-6 ${C?"glass border border-white/10":"bg-white shadow-xl"}`,children:[a.jsx("h2",{className:`text-xl font-bold mb-6 ${C?"text-white":"text-gray-900"}`,children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:x.name,onChange:N=>b({...x,name:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`})]}),x.id!=="local"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:" (Host)"}),a.jsx("input",{type:"text",value:x.host,onChange:N=>b({...x,host:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:""}),a.jsx("input",{type:"text",value:x.port,onChange:N=>b({...x,port:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${C?"text-gray-300":"text-gray-700"}`,children:"Secret Key"}),a.jsx("input",{type:"password",value:x.secret||"",onChange:N=>b({...x,secret:N.target.value}),className:`w-full px-4 py-2 rounded-lg outline-none transition-all ${C?"bg-black/20 border border-white/10 text-white focus:border-cyan-500":"bg-gray-50 border border-gray-200 text-gray-900 focus:border-cyan-500"}`,placeholder:""})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>{v(!1),b(null)},className:`flex-1 px-4 py-2 rounded-lg ${C?"bg-white/10 hover:bg-white/20 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:""}),a.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:""})]})]})})]})}function ss({icon:e,label:t,active:r,onClick:s,isDark:n}){return a.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?n?"bg-cyan-500/20 text-cyan-400":"bg-cyan-50 text-cyan-600":n?"text-gray-400 hover:bg-white/5 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e,a.jsx("span",{className:"text-sm font-medium",children:t})]})}const ns=({children:e})=>localStorage.getItem("dma_token")?e:a.jsx(Ly,{to:"/login",replace:!0});function NC(){const{t:e}=br();return a.jsx(Py,{children:a.jsxs(Ay,{children:[a.jsx(ir,{path:"/login",element:a.jsx(Yx,{})}),a.jsx(ir,{path:"/",element:a.jsx(ns,{children:a.jsx(Ab,{})})}),a.jsx(ir,{path:"/containers",element:a.jsx(ns,{children:a.jsx(Db,{})})}),a.jsx(ir,{path:"/images",element:a.jsx(ns,{children:a.jsx(Ub,{})})}),a.jsx(ir,{path:"/volumes",element:a.jsx(ns,{children:a.jsx(Wb,{})})}),a.jsx(ir,{path:"/networks",element:a.jsx(ns,{children:a.jsx(Kb,{})})}),a.jsx(ir,{path:"/stacks",element:a.jsx(ns,{children:a.jsx(mC,{})})}),a.jsx(ir,{path:"/endpoints",element:a.jsx(ns,{children:a.jsx(jC,{})})})]})})}const he=e=>typeof e=="string",An=()=>{let e,t;const r=new Promise((s,n)=>{e=s,t=n});return r.resolve=e,r.reject=t,r},Ad=e=>e==null?"":""+e,LC=(e,t,r)=>{e.forEach(s=>{t[s]&&(r[s]=t[s])})},RC=/###/g,Td=e=>e&&e.indexOf("###")>-1?e.replace(RC,"."):e,Od=e=>!e||he(e),Kn=(e,t,r)=>{const s=he(t)?t.split("."):t;let n=0;for(;n<s.length-1;){if(Od(e))return{};const i=Td(s[n]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return Od(e)?{}:{obj:e,k:Td(s[n])}},Pd=(e,t,r)=>{const{obj:s,k:n}=Kn(e,t,Object);if(s!==void 0||t.length===1){s[n]=r;return}let i=t[t.length-1],c=t.slice(0,t.length-1),o=Kn(e,c,Object);for(;o.obj===void 0&&c.length;)i=`${c[c.length-1]}.${i}`,c=c.slice(0,c.length-1),o=Kn(e,c,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=r},AC=(e,t,r,s)=>{const{obj:n,k:i}=Kn(e,t,Object);n[i]=n[i]||[],n[i].push(r)},Go=(e,t)=>{const{obj:r,k:s}=Kn(e,t);if(r)return r[s]},TC=(e,t,r)=>{const s=Go(e,r);return s!==void 0?s:Go(t,r)},K0=(e,t,r)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?he(e[s])||e[s]instanceof String||he(t[s])||t[s]instanceof String?r&&(e[s]=t[s]):K0(e[s],t[s],r):e[s]=t[s]);return e},Os=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var OC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const PC=e=>he(e)?e.replace(/[&<>"'\/]/g,t=>OC[t]):e;class MC{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const IC=[" ",",","?","!",";"],BC=new MC(20),DC=(e,t,r)=>{t=t||"",r=r||"";const s=IC.filter(c=>t.indexOf(c)<0&&r.indexOf(c)<0);if(s.length===0)return!0;const n=BC.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let i=!n.test(e);if(!i){const c=e.indexOf(r);c>0&&!n.test(e.substring(0,c))&&(i=!0)}return i},mc=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const s=t.split(r);let n=e;for(let i=0;i<s.length;){if(!n||typeof n!="object")return;let c,o="";for(let l=i;l<s.length;++l)if(l!==i&&(o+=r),o+=s[l],c=n[o],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&l<s.length-1)continue;i+=l-i+1;break}n=c}return n},Yo=e=>e&&e.replace("_","-"),$C={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Jo{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||$C,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,s,n){return n&&!this.debug?null:(he(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Jo(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Jo(this.logger,t)}}var Xt=new Jo;class Sa{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(r)||0;this.observers[s].set(r,n+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(c=>{let[o,l]=c;for(let h=0;h<l;h++)o(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(c=>{let[o,l]=c;for(let h=0;h<l;h++)o.apply(o,[t,...s])})}}class Md extends Sa{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,c=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,r],s&&(Array.isArray(s)?o.push(...s):he(s)&&i?o.push(...s.split(i)):o.push(s)));const l=Go(this.data,o);return!l&&!r&&!s&&t.indexOf(".")>-1&&(t=o[0],r=o[1],s=o.slice(2).join(".")),l||!c||!he(s)?l:mc(this.data&&this.data[t]&&this.data[t][r],s,i)}addResource(t,r,s,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,r];s&&(o=o.concat(c?s.split(c):s)),t.indexOf(".")>-1&&(o=t.split("."),n=r,r=o[1]),this.addNamespaces(r),Pd(this.data,o,n),i.silent||this.emit("added",t,r,s,n)}addResources(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(he(s[i])||Array.isArray(s[i]))&&this.addResource(t,r,i,s[i],{silent:!0});n.silent||this.emit("added",t,r,s)}addResourceBundle(t,r,s,n,i){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,r];t.indexOf(".")>-1&&(o=t.split("."),n=s,s=r,r=o[1]),this.addNamespaces(r);let l=Go(this.data,o)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?K0(l,s,i):l={...l,...s},Pd(this.data,o,l),c.silent||this.emit("added",t,r,s)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var q0={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,s,n){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,r,s,n))}),t}};const Id={};class Xo extends Sa{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),LC(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const s=this.resolve(t,r);return s&&s.res!==void 0}extractFromKey(t,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const c=s&&t.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!DC(t,s,n);if(c&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:he(i)?[i]:i};const h=t.split(s);(s!==n||s===n&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),t=h.join(n)}return{key:t,namespaces:he(i)?[i]:i}}translate(t,r,s){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const n=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:c,namespaces:o}=this.extractFromKey(t[t.length-1],r),l=o[o.length-1],h=r.lng||this.language,m=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(m){const y=r.nsSeparator||this.options.nsSeparator;return n?{res:`${l}${y}${c}`,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${y}${c}`}return n?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:c}const f=this.resolve(t,r);let v=f&&f.res;const x=f&&f.usedKey||c,b=f&&f.exactUsedKey||c,_=Object.prototype.toString.apply(v),u=["[object Number]","[object Function]","[object RegExp]"],p=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,d=!this.i18nFormat||this.i18nFormat.handleAsObject,g=!he(v)&&typeof v!="boolean"&&typeof v!="number";if(d&&v&&g&&u.indexOf(_)<0&&!(he(p)&&Array.isArray(v))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,v,{...r,ns:o}):`key '${c} (${this.language})' returned an object instead of string.`;return n?(f.res=y,f.usedParams=this.getUsedParamsDetails(r),f):y}if(i){const y=Array.isArray(v),S=y?[]:{},E=y?b:x;for(const k in v)if(Object.prototype.hasOwnProperty.call(v,k)){const w=`${E}${i}${k}`;S[k]=this.translate(w,{...r,joinArrays:!1,ns:o}),S[k]===w&&(S[k]=v[k])}v=S}}else if(d&&he(p)&&Array.isArray(v))v=v.join(p),v&&(v=this.extendTranslation(v,t,r,s));else{let y=!1,S=!1;const E=r.count!==void 0&&!he(r.count),k=Xo.hasDefaultValue(r),w=E?this.pluralResolver.getSuffix(h,r.count,r):"",C=r.ordinal&&E?this.pluralResolver.getSuffix(h,r.count,{ordinal:!1}):"",N=E&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),O=N&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${w}`]||r[`defaultValue${C}`]||r.defaultValue;!this.isValidLookup(v)&&k&&(y=!0,v=O),this.isValidLookup(v)||(S=!0,v=c);const P=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:v,D=k&&O!==v&&this.options.updateMissing;if(S||y||D){if(this.logger.log(D?"updateKey":"missingKey",h,l,c,D?O:v),i){const j=this.resolve(c,{...r,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let j=0;j<F.length;j++)B.push(F[j]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(r.lng||this.language):B.push(r.lng||this.language);const U=(j,A,T)=>{const I=k&&T!==v?T:P;this.options.missingKeyHandler?this.options.missingKeyHandler(j,l,A,I,D,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(j,l,A,I,D,r),this.emit("missingKey",j,l,A,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?B.forEach(j=>{const A=this.pluralResolver.getSuffixes(j,r);N&&r[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(T=>{U([j],c+T,r[`defaultValue${T}`]||O)})}):U(B,c,O))}v=this.extendTranslation(v,t,r,f,s),S&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${l}:${c}`),(S||y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${c}`:c,y?v:void 0):v=this.options.parseMissingKeyHandler(v))}return n?(f.res=v,f.usedParams=this.getUsedParamsDetails(r),f):v}extendTranslation(t,r,s,n,i){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const h=he(t)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(h){const v=t.match(this.interpolator.nestingRegexp);m=v&&v.length}let f=s.replace&&!he(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,s.lng||this.language||n.usedLng,s),h){const v=t.match(this.interpolator.nestingRegexp),x=v&&v.length;m<x&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var v=arguments.length,x=new Array(v),b=0;b<v;b++)x[b]=arguments[b];return i&&i[0]===x[0]&&!s.context?(c.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):c.translate(...x,r)},s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=he(o)?[o]:o;return t!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(t=q0.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,n,i,c,o;return he(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(l,r),m=h.key;n=m;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const v=r.count!==void 0&&!he(r.count),x=v&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),b=r.context!==void 0&&(he(r.context)||typeof r.context=="number")&&r.context!=="",_=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(u=>{this.isValidLookup(s)||(o=u,!Id[`${_[0]}-${u}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Id[`${_[0]}-${u}`]=!0,this.logger.warn(`key "${n}" for languages "${_.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(p=>{if(this.isValidLookup(s))return;c=p;const d=[m];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(d,m,p,u,r);else{let y;v&&(y=this.pluralResolver.getSuffix(p,r.count,r));const S=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(d.push(m+y),r.ordinal&&y.indexOf(E)===0&&d.push(m+y.replace(E,this.options.pluralSeparator)),x&&d.push(m+S)),b){const k=`${m}${this.options.contextSeparator}${r.context}`;d.push(k),v&&(d.push(k+y),r.ordinal&&y.indexOf(E)===0&&d.push(k+y.replace(E,this.options.pluralSeparator)),x&&d.push(k+S))}}let g;for(;g=d.pop();)this.isValidLookup(s)||(i=g,s=this.getResource(p,u,g,r))}))})}),{res:s,usedKey:n,exactUsedKey:i,usedLng:c,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,s,n):this.resourceStore.getResource(t,r,s,n)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!he(t.replace);let n=s?t.replace:t;if(s&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const i of r)delete n[i]}return n}static hasDefaultValue(t){const r="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r===s.substring(0,r.length)&&t[s]!==void 0)return!0;return!1}}const al=e=>e.charAt(0).toUpperCase()+e.slice(1);class Bd{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xt.create("languageUtils")}getScriptPartFromCode(t){if(t=Yo(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Yo(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(he(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(t)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map(n=>n.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),r.indexOf(s[1].toLowerCase())>-1&&(s[1]=al(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),r.indexOf(s[1].toLowerCase())>-1&&(s[1]=al(s[1].toLowerCase())),r.indexOf(s[2].toLowerCase())>-1&&(s[2]=al(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(s=>{if(r)return;const n=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&t.forEach(s=>{if(r)return;const n=this.getLanguagePartFromCode(s);if(this.isSupportedCode(n))return r=n;r=this.options.supportedLngs.find(i=>{if(i===n)return i;if(!(i.indexOf("-")<0&&n.indexOf("-")<0)&&(i.indexOf("-")>0&&n.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===n||i.indexOf(n)===0&&n.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),he(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let s=t[r];return s||(s=t[this.getScriptPartFromCode(r)]),s||(s=t[this.formatLanguageCode(r)]),s||(s=t[this.getLanguagePartFromCode(r)]),s||(s=t.default),s||[]}toResolveHierarchy(t,r){const s=this.getFallbackCodes(r||this.options.fallbackLng||[],t),n=[],i=c=>{c&&(this.isSupportedCode(c)?n.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return he(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):he(t)&&i(this.formatLanguageCode(t)),s.forEach(c=>{n.indexOf(c)<0&&i(this.formatLanguageCode(c))}),n}}let FC=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],HC={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const UC=["v1","v2","v3"],zC=["v4"],Dd={zero:0,one:1,two:2,few:3,many:4,other:5},WC=()=>{const e={};return FC.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:HC[t.fc]}})}),e};class VC{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Xt.create("pluralResolver"),(!this.options.compatibilityJSON||zC.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=WC(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=Yo(t==="dev"?"en":t),n=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let c;try{c=new Intl.PluralRules(s,{type:n})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);c=this.getRule(l,r)}return this.pluralRulesCache[i]=c,c}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,r);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,s).map(n=>`${r}${n}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,r);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((n,i)=>Dd[n]-Dd[i]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):s.numbers.map(n=>this.getSuffix(t,n,r)):[]}getSuffix(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(t,s);return n?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:this.getSuffixRetroCompatible(n,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const s=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let n=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!UC.includes(this.options.compatibilityJSON)}}const $d=function(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=TC(e,t,r);return!i&&n&&he(r)&&(i=mc(e,r,s),i===void 0&&(i=mc(t,r,s))),i},ll=e=>e.replace(/\$/g,"$$$$");class KC{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:n,prefix:i,prefixEscaped:c,suffix:o,suffixEscaped:l,formatSeparator:h,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:v,nestingPrefixEscaped:x,nestingSuffix:b,nestingSuffixEscaped:_,nestingOptionsSeparator:u,maxReplaces:p,alwaysFormat:d}=t.interpolation;this.escape=r!==void 0?r:PC,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Os(i):c||"{{",this.suffix=o?Os(o):l||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?Os(v):x||Os("$t("),this.nestingSuffix=b?Os(b):_||Os(")"),this.nestingOptionsSeparator=u||",",this.maxReplaces=p||1e3,this.alwaysFormat=d!==void 0?d:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,s)=>r&&r.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,s,n){let i,c,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=x=>{if(x.indexOf(this.formatSeparator)<0){const p=$d(r,l,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,s,{...n,...r,interpolationkey:x}):p}const b=x.split(this.formatSeparator),_=b.shift().trim(),u=b.join(this.formatSeparator).trim();return this.format($d(r,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),u,s,{...n,...r,interpolationkey:_})};this.resetRegExp();const m=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>ll(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?ll(this.escape(x)):ll(x)}].forEach(x=>{for(o=0;i=x.regex.exec(t);){const b=i[1].trim();if(c=h(b),c===void 0)if(typeof m=="function"){const u=m(t,i,n);c=he(u)?u:""}else if(n&&Object.prototype.hasOwnProperty.call(n,b))c="";else if(f){c=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),c="";else!he(c)&&!this.useRawValueToEscape&&(c=Ad(c));const _=x.safeValue(c);if(t=t.replace(i[0],_),f?(x.regex.lastIndex+=c.length,x.regex.lastIndex-=i[0].length):x.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,i,c;const o=(l,h)=>{const m=this.nestingOptionsSeparator;if(l.indexOf(m)<0)return l;const f=l.split(new RegExp(`${m}[ ]*{`));let v=`{${f[1]}`;l=f[0],v=this.interpolate(v,c);const x=v.match(/'/g),b=v.match(/"/g);(x&&x.length%2===0&&!b||b.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),h&&(c={...h,...c})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,_),`${l}${m}${v}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,l};for(;n=this.nestingRegexp.exec(t);){let l=[];c={...s},c=c.replace&&!he(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let h=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const m=n[1].split(this.formatSeparator).map(f=>f.trim());n[1]=m.shift(),l=m,h=!0}if(i=r(o.call(this,n[1].trim(),c),c),i&&n[0]===t&&!he(i))return i;he(i)||(i=Ad(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),h&&(i=l.reduce((m,f)=>this.format(m,f,s.lng,{...s,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const qC=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);t==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(c=>{if(c){const[o,...l]=c.split(":"),h=l.join(":").trim().replace(/^'+|'+$/g,""),m=o.trim();r[m]||(r[m]=h),h==="false"&&(r[m]=!1),h==="true"&&(r[m]=!0),isNaN(h)||(r[m]=parseInt(h,10))}})}return{formatName:t,formatOptions:r}},Ps=e=>{const t={};return(r,s,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const c=s+JSON.stringify(i);let o=t[c];return o||(o=e(Yo(s),n),t[c]=o),o(r)}};class GC{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Xt.create("formatter"),this.options=t,this.formats={number:Ps((r,s)=>{const n=new Intl.NumberFormat(r,{...s});return i=>n.format(i)}),currency:Ps((r,s)=>{const n=new Intl.NumberFormat(r,{...s,style:"currency"});return i=>n.format(i)}),datetime:Ps((r,s)=>{const n=new Intl.DateTimeFormat(r,{...s});return i=>n.format(i)}),relativetime:Ps((r,s)=>{const n=new Intl.RelativeTimeFormat(r,{...s});return i=>n.format(i,s.range||"day")}),list:Ps((r,s)=>{const n=new Intl.ListFormat(r,{...s});return i=>n.format(i)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=Ps(r)}format(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:h,formatOptions:m}=qC(l);if(this.formats[h]){let f=o;try{const v=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},x=v.locale||v.lng||n.locale||n.lng||s;f=this.formats[h](o,x,{...m,...n,...v})}catch(v){this.logger.warn(v)}return f}else this.logger.warn(`there was no format function for ${h}`);return o},t)}}const YC=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class JC extends Sa{constructor(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=Xt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,n.backend,n)}queueLoad(t,r,s,n){const i={},c={},o={},l={};return t.forEach(h=>{let m=!0;r.forEach(f=>{const v=`${h}|${f}`;!s.reload&&this.store.hasResourceBundle(h,f)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?c[v]===void 0&&(c[v]=!0):(this.state[v]=1,m=!1,c[v]===void 0&&(c[v]=!0),i[v]===void 0&&(i[v]=!0),l[f]===void 0&&(l[f]=!0)))}),m||(o[h]=!0)}),(Object.keys(i).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(c),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,r,s){const n=t.split("|"),i=n[0],c=n[1];r&&this.emit("failedLoading",i,c,r),!r&&s&&this.store.addResourceBundle(i,c,s,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&s&&(this.state[t]=0);const o={};this.queue.forEach(l=>{AC(l.loaded,[i],c),YC(l,t),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(h=>{o[h]||(o[h]={});const m=l.loaded[h];m.length&&m.forEach(f=>{o[h][f]===void 0&&(o[h][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,r,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!t.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:s,tried:n,wait:i,callback:c});return}this.readingCalls++;const o=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&m&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,s,n+1,i*2,c)},i);return}c(h,m)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const h=l(t,r);h&&typeof h.then=="function"?h.then(m=>o(null,m)).catch(o):o(null,h)}catch(h){o(h)}return}return l(t,r,o)}prepareLoading(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();he(t)&&(t=this.languageUtils.toResolveHierarchy(t)),he(r)&&(r=[r]);const i=this.queueLoad(t,r,s,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(c=>{this.loadOne(c)})}load(t,r,s){this.prepareLoading(t,r,{},s)}reload(t,r,s){this.prepareLoading(t,r,{reload:!0},s)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t.split("|"),n=s[0],i=s[1];this.read(n,i,"read",void 0,void 0,(c,o)=>{c&&this.logger.warn(`${r}loading namespace ${i} for language ${n} failed`,c),!c&&o&&this.logger.log(`${r}loaded namespace ${i} for language ${n}`,o),this.loaded(t,c,o)})}saveMissing(t,r,s,n,i){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const l={...c,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(t,r,s,n,l):m=h(t,r,s,n),m&&typeof m.then=="function"?m.then(f=>o(null,f)).catch(o):o(null,m)}catch(m){o(m)}else h(t,r,s,n,o,l)}!t||!t[0]||this.store.addResource(t[0],r,s,n)}}}const Fd=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),he(e[1])&&(t.defaultValue=e[1]),he(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{t[s]=r[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Hd=e=>(he(e.ns)&&(e.ns=[e.ns]),he(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),he(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Qi=()=>{},XC=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class vi extends Sa{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Hd(t),this.services={},this.logger=Xt,this.modules={external:[]},XC(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(s=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(he(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const n=Fd();this.options={...n,...this.options,...Hd(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Xt.init(i(this.modules.logger),this.options):Xt.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=GC);const f=new Bd(this.options);this.store=new Md(this.options.resources,this.options);const v=this.services;v.logger=Xt,v.resourceStore=this.store,v.languageUtils=f,v.pluralResolver=new VC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(v.formatter=i(m),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new KC(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new JC(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(x){for(var b=arguments.length,_=new Array(b>1?b-1:0),u=1;u<b;u++)_[u-1]=arguments[u];t.emit(x,..._)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Xo(this.services,this.options),this.translator.on("*",function(x){for(var b=arguments.length,_=new Array(b>1?b-1:0),u=1;u<b;u++)_[u-1]=arguments[u];t.emit(x,..._)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Qi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return t.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return t.store[m](...arguments),t}});const l=An(),h=()=>{const m=(f,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(v),s(f,v)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),l}loadResources(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qi;const n=he(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],c=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};n?c(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>c(l)),this.options.preload&&this.options.preload.forEach(o=>c(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(t,r,s){const n=An();return typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),s||(s=Qi),this.services.backendConnector.reload(t,r,i=>{n.resolve(),s(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&q0.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(t,r){var s=this;this.isLanguageChangingTo=t;const n=An();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},c=(l,h)=>{h?(i(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,n.resolve(function(){return s.t(...arguments)}),r&&r(l,function(){return s.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const h=he(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,m=>{c(m,h)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,s){var n=this;const i=function(c,o){let l;if(typeof o!="object"){for(var h=arguments.length,m=new Array(h>2?h-2:0),f=2;f<h;f++)m[f-2]=arguments[f];l=n.options.overloadTranslationOptionHandler([c,o].concat(m))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||i.keyPrefix);const v=n.options.keySeparator||".";let x;return l.keyPrefix&&Array.isArray(c)?x=c.map(b=>`${l.keyPrefix}${v}${b}`):x=l.keyPrefix?`${l.keyPrefix}${v}${c}`:c,n.t(x,l)};return he(t)?i.lng=t:i.lngs=t,i.ns=r,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(o,l)=>{const h=this.services.backendConnector.state[`${o}|${l}`];return h===-1||h===0||h===2};if(r.precheck){const o=r.precheck(this,c);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,t)&&(!n||c(i,t)))}loadNamespaces(t,r){const s=An();return this.options.ns?(he(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),r&&r(n)}),s):(r&&r(),Promise.resolve())}loadLanguages(t,r){const s=An();he(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(c=>n.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return i.length?(this.options.preload=n.concat(i),this.loadResources(c=>{s.resolve(),r&&r(c)}),s):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new Bd(Fd());return r.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new vi(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qi;const s=t.forkResourceStore;s&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new vi(n);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new Md(this.store.data,n),i.services.resourceStore=i.store),i.translator=new Xo(i.services,n),i.translator.on("*",function(o){for(var l=arguments.length,h=new Array(l>1?l-1:0),m=1;m<l;m++)h[m-1]=arguments[m];i.emit(o,...h)}),i.init(n,r),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const at=vi.createInstance();at.createInstance=vi.createInstance;at.createInstance;at.dir;at.init;at.loadResources;at.reloadResources;at.use;at.changeLanguage;at.getFixedT;at.t;at.exists;at.setDefaultNamespace;at.hasLoadedNamespace;at.loadNamespaces;at.loadLanguages;const QC={zh:{translation:{app:{name:"Docker ",welcome:" Docker Manager App"},nav:{dashboard:"",containers:"",images:"",stacks:"",volumes:"",networks:"",endpoints:""},auth:{login:"",username:"",password:"",loginButton:""},container:{running:"",stopped:"",start:"",stop:"",restart:"",remove:"",logs:"",shell:""}}},en:{translation:{app:{name:"Docker Manager App",welcome:"Welcome to Docker Manager App"},nav:{dashboard:"Dashboard",containers:"Containers",images:"Images",stacks:"Stacks",volumes:"Volumes",networks:"Networks",endpoints:"Endpoints"},auth:{login:"Login",username:"Username",password:"Password",loginButton:"Login"},container:{running:"Running",stopped:"Stopped",start:"Start",stop:"Stop",restart:"Restart",remove:"Remove",logs:"Logs",shell:"Shell"}}}};at.use(Ky).init({resources:QC,lng:"zh",fallbackLng:"en",interpolation:{escapeValue:!1}});cl.createRoot(document.getElementById("root")).render(a.jsx(Eb,{children:a.jsx(NC,{})}));
